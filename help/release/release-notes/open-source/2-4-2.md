---
title: Versionshinweise zu Magento Open Source 2.4.2
description: Erfahren Sie mehr über neue Funktionen, Verbesserungen, Fehlerbehebungen und bekannte Probleme in der Magento Open Source-Version 2.4.2.
recommendations: noCatalog
exl-id: 01e90bcb-d43c-4daa-9669-44e3370102af
source-git-commit: 95ea96a566b0579a22b2ba738bd4a4bceef8cd9c
workflow-type: tm+mt
source-wordcount: '12958'
ht-degree: 0%

---

# Versionshinweise zu Magento Open Source 2.4.2

Magento Open Source 2.4.2 beinhaltet Verbesserungen der Leistung und Sicherheit sowie wesentliche Plattformverbesserungen. Zu den Sicherheitsverbesserungen gehört die Erweiterung der Unterstützung für das Attribut `SameSite` für alle Cookies. Elasticsearch 7.9.x und Redis 6.x werden jetzt unterstützt.

Diese Version enthält über 280 neue Fehlerbehebungen im Kerncode und 35 Sicherheitsverbesserungen. Dazu gehört die Lösung von fast 290 GitHub-Problemen durch unsere Community-Mitglieder. Diese Community-Beiträge reichen von der geringfügigen Bereinigung des Kerncodes bis hin zu wesentlichen Verbesserungen in GraphQL.

Alle bekannten Probleme, die in Version 2.4.1 identifiziert wurden, wurden in dieser Version behoben.

{{bics}}

## Wenden Sie `AC-3022.patch` an, um DHL weiterhin als Versandunternehmen anzubieten.

DHL hat die Schemaversion 6.2 eingeführt und wird in naher Zukunft die Schemaversion 6.0 veraltet sein. Adobe Commerce 2.4.4 und frühere Versionen, die die DHL-Integration unterstützen, unterstützen nur Version 6.0. Händler, die diese Versionen bereitstellen, sollten so schnell wie möglich `AC-3022.patch` anwenden, um DHL weiterhin als Versandunternehmen anzubieten. Informationen zum Herunterladen und Installieren des Patches finden Sie im Artikel [Anwenden eines Patches, um DHL weiterhin als Versandunternehmen anzubieten](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) Knowledge Base .

## Sicherheits-Patch verfügbar

Händler können jetzt zeitkritische Sicherheitskorrekturen installieren, ohne die Hunderte von funktionalen Fehlerbehebungen und Verbesserungen anzuwenden, die in einer vierteljährlichen Version bereitgestellt werden (z. B. 2.4.1-p1). Patch 2.4.0.12 (Composer-Paket 2.4.1-p1) ist ein Sicherheits-Patch, der Fehlerkorrekturen für Schwachstellen enthält, die in unserer vorherigen vierteljährlichen Version 2.4.1 identifiziert wurden. Alle Hotfixes, die auf die Version 2.4.1 angewendet wurden, sind in diesem Sicherheits-Patch enthalten. (Ein *Hotfix* stellt eine Korrektur für eine veröffentlichte Version bereit, die ein bestimmtes Problem oder einen Fehler behebt.)

Allgemeine Informationen zu Sicherheits-Patches finden Sie unter [Einführung der neuen Sicherheits-Patch-Version](https://community.magento.com/t5/Magento-DevBlog/Introducing-the-New-Security-Patch-Release/ba-p/141287). Anweisungen zum Herunterladen und Anwenden von Sicherheits-Patches (einschließlich Patch 2.4.1-p1) finden Sie unter [Schnellstart für die Installation vor Ort](../../../installation/composer.md). Sicherheits-Patches enthalten nur Fehlerkorrekturen, nicht aber die zusätzlichen Sicherheitsverbesserungen, die im vollständigen Patch enthalten sind.

## Weitere Versionsinformationen

Obwohl der Code für diese Funktionen mit vierteljährlichen Releases gebündelt wird, werden mehrere dieser Projekte (z. B. Progressive Webs Application (PWA) Studio) ebenfalls unabhängig veröffentlicht. Fehlerbehebungen für diese Projekte werden in den separaten, projektspezifischen Versionsinformationen dokumentiert, die in der Dokumentation für jedes Projekt verfügbar sind.

## Highlights

Beachten Sie die folgenden Highlights in dieser Version.

### Wesentliche Sicherheitsverbesserungen

Diese Version umfasst mehr als 35 Sicherheitsverbesserungen und Verbesserungen der Plattformsicherheit. Alle Sicherheitskorrekturen wurden auf 2.4.1-p1 und 2.3.6-p1 zurückportiert.

#### Mehr als 35 Sicherheitsverbesserungen, die die Ausführung von Remote-Code (RCE) und Sicherheitslücken bei Cross-Site-Scripting (XSS) schließen

Bisher sind keine bestätigten Angriffe im Zusammenhang mit diesen Problemen aufgetreten. Bestimmte Schwachstellen können jedoch potenziell ausgenutzt werden, um auf Kundeninformationen zuzugreifen oder Administratorsitzungen zu übernehmen. Die meisten dieser Probleme erfordern, dass ein Angreifer zunächst Zugriff auf den Admin erhält. Daher möchten wir Sie daran erinnern, alle erforderlichen Maßnahmen zum Schutz Ihres Administrators zu ergreifen, einschließlich, aber nicht beschränkt auf diese Maßnahmen: IP-auf die Zulassungsliste setz, [Zweifaktorauthentifizierung](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/), Verwendung eines VPN, Verwendung eines eindeutigen Standorts anstelle von `/admin` und gute Passworthygiene. Eine Erläuterung dieser behobenen Probleme finden Sie im [Adobe-Sicherheitsbulletin](https://helpx.adobe.com/security/products/magento/apsb21-08.html) .

#### Zusätzliche Sicherheitsverbesserungen

Zu den Sicherheitsverbesserungen für diese Version gehören:

* Alle Core-Cookies unterstützen jetzt das Attribut `SameSite` .

* Das Programm zeigt jetzt Meldungen an, die potenziell schädliche Inhalte in den Feldern für Produkt- und Kategoriebeschreibungen identifizieren, wenn der Benutzer versucht, Werte in diesen Feldern zu speichern.

* Dateisystemvorgänge wurden über verschiedene Komponenten hinweg standardisiert und gehärtet, um schädliche Uploads zu verhindern.

* Verstöße gegen die Core Content Security Policy (CSP) wurden behoben.

{{cve-notice}}

### Verbesserungen der Infrastruktur

Diese Version enthält Verbesserungen der Kernqualität, die die Qualität des Frameworks und die folgenden Funktionsbereiche verbessern: Kundenkonto, Katalog, CMS, OMS, Import/Export, Promotions und Targeting sowie Warenkorb und Checkout.

### Plattformverbesserungen

* [**Elasticsearch 7.9.x wird jetzt unterstützt**](../../../installation/system-requirements.md). Obwohl wir empfehlen, Elasticsearch 7.9.x auszuführen, bleibt Version 2.4.x mit Elasticsearch 7.4.x kompatibel. <!-- MC-36867-->

* 2.4.2 wurde mit [Varnish 6.4](../../../installation/system-requirements.md) getestet. Version 2.4.x ist weiterhin mit Version 6.x kompatibel.

* [**Redis 6.x wird jetzt unterstützt**](../../../installation/system-requirements.md). Version 2.4.x ist weiterhin mit Redis 5.x kompatibel. <!-- MC-34853-->

* 2.4.2 ist jetzt mit **Composer 2.x** kompatibel. Es wird empfohlen, dass Händler zu Composer 2.x migrieren. Obwohl Sie diese Version mit Composer 1.x installieren können, wird Composer 1.x bald das Ende des Lebenszyklus erreichen. Einen Überblick über die Funktionen von Composer 2.x finden Sie unter [Composer 2.0 ist jetzt verfügbar!](https://blog.packagist.com/composer-2-0-is-now-available/)

Die Möglichkeit, eine Installation für die Verwendung einer geteilten Datenbank zu konfigurieren, wird in dieser Version nicht mehr unterstützt. Händler, die derzeit eine geteilte Datenbank verwenden, sollten mit der Planung beginnen, zu einer einzigen Datenbank zurückzukehren oder zu dieser zu migrieren, oder einen alternativen Ansatz verwenden. Eine Übersicht zu diesem Problem finden Sie im Beitrag [Veraltete Funktionalität der geteilten Datenbank in Magento Open Source](https://community.magento.com/t5/Magento-DevBlog/Deprecation-of-Split-Database-in-Magento-Commerce/ba-p/465187) DevBlog .  Anweisungen zur Migration finden Sie unter [Wiederherstellen von einer geteilten Datenbank in eine einzelne Datenbank](../../../configuration/storage/revert-split-database.md) .

### Leistungsverbesserungen

Diese Version enthält Codeverbesserungen, die die API-Leistung steigern und die Reaktionszeit von Administratoren für Bereitstellungen mit großen Katalogen verkürzen. Dank der verschiedenen Erweiterungen der Skalierbarkeit kann 2.4.2 nativ komplexe Kataloge unterstützen, die bis zu 20-mal größer sind als in früheren Versionen.

### Adobe Stock-Integration

Diese Version beinhaltet die Adobe Stock-Integration Version 2.1.1.

### GraphQL

Diese Version bietet GraphQL-Unterstützung für die folgenden Funktionen:

* Unterstützung für [Vergleichslisten](https://developer.adobe.com/commerce/webapi/graphql/schema/products/queries/compare-list/) hinzugefügt. Käufer können [Vergleichslisten ](https://developer.adobe.com/commerce/webapi/graphql/schema/products/mutations/create-compare-list/) und [löschen](https://developer.adobe.com/commerce/webapi/graphql/schema/products/mutations/delete-compare-list/) und [Elemente hinzufügen](https://developer.adobe.com/commerce/webapi/graphql/schema/products/mutations/add-products-to-compare-list/) und [entfernen](https://developer.adobe.com/commerce/webapi/graphql/schema/products/mutations/remove-from-compare-list/) zu den Vergleichslisten hinzufügen. Darüber hinaus können sich Käufer, die eine Vergleichsliste als Gastbenutzer erstellen, als Kunde anmelden und [ihre Vergleichslisten beibehalten](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/assign-compare-list/).

* Die Mutation [`generateCustomerTokenAsAdmin`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/generate-token-as-admin/) wurde hinzugefügt und das Objekt `Customer` wurde aktualisiert, um Unterstützung beim Remote-Einkauf zu unterstützen.

* Lokalisierungsunterstützung in verschiedenen Geschäften hinzugefügt, um Aufgaben wie das Ändern von Sprachen, Warenkorb und Währungen zu unterstützen. <!-- MC-37801-->

* Unterstützung für Vereinigungen in GraphQL hinzugefügt. [GitHub-29425](https://github.com/magento/magento2/issues/29425) <!-- ENGCOM-8291 -->

* Das GraphQL-Schema wurde verbessert, um den Abruf von Produktdaten für konfigurierbare Produkte mit vielen Varianten zu optimieren. <!-- MC-36138-->

* Objektkennungen vom Typ Ganzzahl werden nicht mehr zugunsten von `uid` Attributen des Typs ID <!-- MC-36346--> unterstützt.

* Das Attribut `staging` wurde zu den Attributen [`ProductInterface`](https://developer.adobe.com/commerce/webapi/graphql/schema/products/interfaces/attributes/) und [`CategoryInterface`](https://developer.adobe.com/commerce/webapi/graphql/schema/products/interfaces/category/) hinzugefügt, um zu ermitteln, ob ein Produkt bereitgestellt ist, und um die zugehörigen Kampagneninformationen anzuzeigen. <!-- MC-33897-->

Weitere Informationen zu diesen Verbesserungen finden Sie im [GraphQL-Entwicklerhandbuch](https://developer.adobe.com/commerce/webapi/graphql/) .

### PWA Studio

Diese Version von PWA Studio umfasst:

* Internationalisierung und Lokalisierung. Venia unterstützt jetzt mehrere Sprachen und Währungen.

* Verbessertes Erweiterbarkeits-Framework zur Unterstützung von Codeänderungen über Erweiterungen.

* Anfängliche Komponenten für My Account-bezogene Funktionen wie Wishlist, gespeicherte Zahlungen, Adressbuch und Auftragsverlauf.

* Verschiedene Leistungsoptimierungen und Fehlerbehebungen.

Weitere Informationen zu Verbesserungen und Fehlerbehebungen finden Sie unter [PWA Studio-Versionen](https://github.com/magento/pwa-studio/releases). Unter [Kompatibilität](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) finden Sie eine Liste der PWA Studio-Versionen und ihrer kompatiblen Versionen.

### Media Gallery

**Neue Rollenressourcen für die Mediengalerie**. Diese Version bietet Händlern die Möglichkeit, den Administratorzugriff auf die Mediensalerie zu beschränken und zu steuern, wer diese Aktionen durchführen kann:

* Medien-Assets in Inhalte einfügen

* Hochladen von Assets

* Asset-Details bearbeiten

* Löschen von Assets aus der Media Gallery

* Ordnerstruktur verwalten

**Web-optimierte Bilder im Inhalt**. Merchants können jetzt [Web-optimierte Bilddarstellung](https://experienceleague.adobe.com/en/docs/commerce-admin/content-design/wysiwyg/gallery/media-gallery-image-optimization) in Inhalten anstelle von hochauflösenden Bildern verwenden. Das Originalbild bleibt in der Media Gallery unverändert und die Bilddarstellung wird dynamisch generiert, wenn das Bild in den Inhalt eingefügt wird.

### Functional Testing Framework (MFTF)

MFTF 3.2.1 ist jetzt verfügbar. Mit dieser Version wird eine Fehlertoleranz sowohl bei Tests als auch bei der Testsuite-Generierung eingeführt. Weitere Verbesserungen und Fehlerkorrekturen werden im [Functional Testing Framework Changelog](https://github.com/magento/magento2-functional-testing-framework/blob/develop/CHANGELOG.md) beschrieben.

### Von Anbietern entwickelte Erweiterungen

In den folgenden Artikeln finden Sie Aktualisierungen zu Funktionen und Änderungen für diese Version:

* [Amazon Pay](https://marketplace.magento.com/amzn-amazon-pay-magento-2-module.html)

* [Braintree](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/payments/braintree)

* [dotdigital Engagement Cloud](https://marketplace.magento.com/dotdigital-dotdigital-magento2-os-package.html)

* [Klarna](https://marketplace.magento.com/klarna-m2-klarna.html)

* [Vertex Cloud](https://marketplace.magento.com/vertexinc-vertex-tax-module.html)

* [Yotpo-Produktübersichten](../../../upgrade/modules/upgrade.md)

### AWS S3-Support-Verbesserungen

Die Unterstützung für den Amazon Simple Storage Service (AWS S3) wurde verbessert und umfasst jetzt Unterstützung für:

* Objektspeicherung und künftige Erweiterbarkeit

* [ Speichern von Mediendateien](../../../configuration/remote-storage/remote-storage.md) auf AWS S3

## Behobene Probleme

Wir haben Hunderte von Problemen im 2.4.2-Kerncode behoben.

### Installation, Aktualisierung, Bereitstellung

<!-- MC-38429-->

* Die Möglichkeit, eine Installation für die Verwendung einer geteilten Datenbank zu konfigurieren, wird in dieser Version nicht mehr unterstützt. Weitere Informationen finden Sie unter [Veraltete Funktionalität der geteilten Datenbank in Magento Open Source](https://community.magento.com/t5/Magento-DevBlog/Deprecation-of-Split-Database-in-Magento-Commerce/ba-p/465187) DevBlog-Beitrag.

<!-- MC-36472-->

* Merchants können jetzt erfolgreich eine Open Source-Bereitstellung aktualisieren, bei der MySQL 8.x ausgeführt wird, und auf eine Commerce-Bereitstellung aktualisieren. Zuvor hatte die Anwendung eine Ausnahme ausgelöst, wenn `AUTO_INCREMENT` -Werte für alle Tabellen, in denen während der Aktualisierung `row_id` hinzugefügt wurde, auf Anfangswerte zurückgesetzt wurden.

<!-- ENGCOM-7280 -->

* Die Anwendung zeigt jetzt eine Fehlermeldung an, die den Pfad angibt, der zum Erstellen des Patches verwendet wurde, wenn bei Ausführung von `bin/magento/setup:db:generate-patch` ein Fehler auftritt. [GitHub-27523](https://github.com/magento/magento2/issues/27523)

<!-- ENGCOM-8029 -->

* Die Caches `block_html`, `full_page` und `layout` werden jetzt wie erwartet nach der Ausführung von `bin/magento/setup:upgrade` deaktiviert.  [GitHub-28186](https://github.com/magento/magento2/issues/28186)

<!-- ENGCOM-8184 -->

* Die erforderliche PHP-Mindestversion in `bootstrap.php` wurde aktualisiert. [GitHub-30004](https://github.com/magento/magento2/issues/30004)

<!-- MC-38788-->

* Sie können nun `bin/magento/setup:upgrade` ausführen, nachdem Sie Beispieldaten installiert haben. Bisher wurde in der Anwendung beim Versuch, `bin/magento/setup:upgrade` auszuführen, folgender Fehler angezeigt: `unable to apply data patch magento\catalogrulesampledata\setup\patch\data\installcatalogrulesampledata for module magento_catalogrulesampledata`. Der Fehler wurde auch im Systemprotokoll angezeigt: `main.ERROR: Sample Data error: Unable to unserialize value. Error: Syntax error`. [GitHub-30685](https://github.com/magento/magento2/issues/30685)

<!-- MC-36785-->

* Sie können jetzt in der Befehlszeile einen YouTube-API-Schlüssel wie erwartet festlegen. Zuvor gab die Anwendung diesen Fehler zurück, als Sie versuchten, `bin/magento config:sensitive:set catalog/product_video/youtube_api_key`: `There are no sensitive configurations to fill` auszuführen.

<!-- ENGCOM-8163 -->

* Die Anwendung berücksichtigt jetzt die in `queue_consumer.xml` definierten `maxMessages` -Werte. Zuvor verwendete die Anwendung nur die Konfigurationswerte der Bereitstellung. [GitHub-29522](https://github.com/magento/magento2/issues/29522)

<!-- ENGCOM-8243 -->

* Die URL-Generierung für einen neuen Store funktioniert jetzt erwartungsgemäß, wenn der Store mit `bin/magento setup:config:import` erstellt wird. Zuvor wurden URL-Neuschreibungen nicht in Produktionsumgebungen generiert. [GitHub-30025](https://github.com/magento/magento2/issues/30025)

<!-- ENGCOM-8230 -->

* Die Anwendung gibt keinen Fehler mehr aus, wenn Sie versuchen, `backend-frontname` nach der Installation von Magento Open Source mithilfe des `ssh` -Containers zu ändern. [GitHub-26762](https://github.com/magento/magento2/issues/26762)

<!-- ENGCOM-8230 -->

* Die Anwendung zeigt diese Frage nicht mehr an, wenn Sie `bin/magento setup:install` ausführen, um eine Verbindung zur vorhandenen Datenbank herzustellen: `Overwrite the existing configuration for db-ssl-verify?[Y/n]`. [GitHub-29612](https://github.com/magento/magento2/issues/29612)

### Adobe Stock-Integration

<!-- ENGCOM-8020-->

* Unterstützung zum Lesen von `exif_image.png` - oder `exif-image.jpeg` -Metadaten hinzugefügt. [GitHub-1449](https://github.com/magento/adobe-stock-integration/issues/1449)

<!-- ENGCOM-8194 8094 8147-->

* Der Inhalt, der angezeigt wird, wenn Sie auf das Lesezeichen &quot;Standardansicht&quot;für die Mediengalerie klicken, wird nicht mehr gefiltert. Zuvor enthielt die Standardansicht einen Filter, der vom `url-filter` -Operator angewendet wurde. [GitHub-1813](https://github.com/magento/adobe-stock-integration/issues/1813), [GitHub-1789](https://github.com/magento/adobe-stock-integration/issues/1789), [GitHub-1780](https://github.com/magento/adobe-stock-integration/issues/1780)

<!-- ENGCOM-8070 -->

* Die Logik wurde aus dem WYSIWYG OnInsert-Controller (`Magento\Cms\Controller\Adminhtml\Wysiwyg\Images\OnInsert::execute()`) entfernt und zum Modell `Model\Wysiwyg\Images\PrepareImage::execute()` hinzugefügt. [GitHub-1504](https://github.com/magento/adobe-stock-integration/issues/1504)

<!-- ENGCOM-8081 -->

* Die Bereichsemulation wurde aus dem Befehl `media-content:sync` (`\Magento\MediaContentSynchronization\Console\Command\Synchronize::execute`) entfernt. [GitHub-1784](https://github.com/magento/adobe-stock-integration/issues/1784)

### Analytics

<!-- MC-37137-->

* Die erweiterte Berichterstellung funktioniert jetzt wie erwartet für mehrere Umgebungen in derselben Domäne. Zuvor schlugen CSV-Dateien, die von der erweiterten Berichterstellung generiert wurden, fehl, da doppelte Anführungszeichen mit umgekehrten Schrägstrichen und nicht mit einem weiteren doppelten Anführungszeichen maskiert wurden, wie es der CSV-Standard RFC4180 vorschreibt.

<!-- MC-35996-->

* Der `analytics_collect_data`-Auftrag wird jetzt erfolgreich ausgeführt, wenn in `env.php` entweder der standardmäßige oder der nicht standardmäßige Port für die Verbindung mit MySQL verwendet wird. Zuvor hat `analytics_collect_data` einen Fehler ausgegeben, wenn Sie den nicht standardmäßigen Port verwendet haben.

<!-- MC-35407-->

* CSV-Dateien, die von `analytics_collect_data` generiert werden, werden jetzt ordnungsgemäß maskiert. Zuvor wurden diese Dateien nicht mit der korrekten Maskierung generiert, was die Erstellung von Lagerbestandsberichten verhinderte.

### Braintree

* Käufer können jetzt Apple Pay verwenden, um virtuelle Produkte erfolgreich zu bestellen. Zuvor hatte die Anwendung den folgenden Fehler ausgegeben: `There are no shipping methods available for you right now. Please try again or use an alternative payment method`.

* Die standardmäßige Zahlungsmethode PayPal Express Checkout funktioniert jetzt wie erwartet mit der Braintree-Kreditkartenzahlmethode. Zuvor wurde in der Anwendung die Schaltfläche **PayPal** nicht angezeigt, wenn die Braintree-Kreditkartenzahlungsmethode aktiviert war.

### Paketprodukte

<!-- MC-34063-->

* Die Anwendung legt die Preise für untergeordnete Artikel von Paketen mit festen Preisen nicht mehr in Anführungszeichen.

<!-- MC-38050-->

* Die Preissortierung funktioniert jetzt wie erwartet, wenn Bundle-Produkte nicht vorrätige Produkte enthalten. Zuvor wurden bei der Sortierung des Preises in absteigender Reihenfolge keine Produkte in der Reihenfolge des niedrigeren Preises angezeigt.

<!-- MC-38576-->

* Die Anwendung wendet jetzt automatisch eine Standardmenge von 1 für Bundle-Produktoptionen an, wenn viele Optionen vorhanden sind. Zuvor mussten Händler jeder Option manuell eine Standardmenge zuweisen.

<!-- ENGCOM-8159 -->

* Auf der Seite zum Erstellen der Bestellrechnung werden nun die untergeordneten Produkte für Bundle-Produkte wie erwartet angezeigt. [GitHub-27350](https://github.com/magento/magento2/issues/27350)

<!-- MC-38460 -->

* Die Anwendung weist jetzt korrekte Produktpreise zu, wenn Sie einfache Produkte, die Teil eines Bundle-Produkts sind, mit einem benutzerdefinierten Preis neu bestellen. Zuvor führte die Festlegung eines benutzerspezifischen Preises für ein Bundle-Produkt zu falschen Preisen für angehängte einfache Produkte bei einer Neubestellung. [GitHub-30343](https://github.com/magento/magento2/issues/30343)

<!-- MC-30348 -->

* Der Aufruf von POST `/V1/order/{orderId}/ship` zum Versand einer Bestellung, die ein Bundle-Produkt enthält, markiert die Bestellung nun wie erwartet vollständig. Zuvor wurde in der Anwendung folgende Fehlermeldung angezeigt: `You can't create a shipment without products`. [GitHub-9762](https://github.com/magento/magento2/issues/9762)

### Warenkorb und Checkout

<!-- MC-34264-->

* Die Schätzung der Versandmethode funktioniert jetzt erwartungsgemäß, wenn im Versandschritt des Checkout-Workflows benutzerdefinierte Adressattribute vorhanden sind. Zuvor wurde in der Anwendung folgende Fehlermeldung angezeigt: `{"message":"Error occurred during \"custom_attributes\" processing. A custom attribute is specified with a missing attribute code. Verify the code and try again."}` [GitHub-27505](https://github.com/magento/magento2/issues/27505)

<!-- MC-35783-->

* Die Anwendung zeigt nun die Meldung `You have no items in your shopping cart` im Mini-Warenkorb an, wie erwartet, wenn ein Käufer den einzigen Artikel in seinem Warenkorb entfernt. Bisher wurden die Warenkorbdaten nicht für `checkout/cart/removeFailed` aktualisiert, wenn ein Käufer das einzelne Element entfernte und die Anwendung die folgende Meldung anzeigte: `1 product requires your attention`.

<!-- MC-36088-->

* Die Anwendung zeigt die Versandkosten für eine Bestellung einer nicht anwendbaren Versandmethode nicht mehr an. Zuvor zeigte die Anwendung im Checkout-Workflow einen Preis von 0 für eine nicht anwendbare Versandmethode an.

<!-- MC-36598-->

* Die Standardabrechnungsadresse eines Kunden wird jetzt ausgewählt, wenn das Kontrollkästchen **Meine Abrechnungs- und Versandadresse sind dieselben** im Checkout-Workflow deaktiviert ist.

<!-- MC-37351-->

* Der Inhalt des Warenkorbs geht nicht mehr verloren, wenn ein Käufer in einer anderen Domäne von einem Store zum anderen wechselt.

<!-- MC-38000-->

* Käufer können jetzt eine Bestellung mit &quot;Check Out with Multiple Addresses&quot;erfolgreich abschließen, wenn sie mehrere Versandmethoden verwenden. Zuvor wurde in der Anwendung folgender Fehler angezeigt: `There has been an error processing your request`. [GitHub-30197](https://github.com/magento/magento2/issues/30197)

<!-- MC-38048-->

* Die Anwendung zeigt jetzt das richtige Standardland auf der Versandseite des Checkout-Workflows an, wenn der Käufer die Store-Ansicht aus dem Warenkorb ändert.

<!-- MC-38309-->

* Die Anwendung schließt jetzt die aktuelle Sitzung aus, wenn Kundensitzungen nach einem Zurücksetzen des Kennworts nach der Abmeldung bereinigt werden, wenn ein Gastkäufer angemeldet ist. Zuvor hat die Anwendung den Warenkorb geleert, wenn der Käufer sein Kennwort zurückgesetzt hat.

<!-- MC-36884-->

* Die Anwendung zeigt jetzt das richtige Standardland für eine Store-Ansicht an, wenn ein Käufer die Store-Ansicht im Warenkorb ändert. Bisher war das Standardland falsch, wenn die Store-Ansicht im Warenkorb geändert wurde.

<!-- MC-38746-->

* Redundante Aufrufe an den `/rest/V1/guest-carts/cart_id/totals-information` -Endpunkt auf dem Warenkorb wurden entfernt, was die Warenkorbleistung verbessert hat. Zuvor, als ein Käufer ein Produkt zum Warenkorb hinzufügte und anschließend den Warenkorb anzeigte, wurde die Anwendung mehrmals als `collectAddressTotals` -Methode bezeichnet.

<!-- MC-38833-->

* Die Anwendung zeigt das Feld **Region** für ein Land im Checkout-Workflow nicht mehr an, wenn die Einstellung **Status auswählen lassen, wenn es für Land** optional ist. [GitHub-30747](https://github.com/magento/magento2/issues/30747)

<!-- MC-38813-->

* Die Anwendung wiederholt keine Versandadresse mehr im Workflow zur Kasse der Storefront, wenn eine Bestellung vom Administrator neu bestellt wird.

<!-- MC-38814-->

* Fehlerkorrektur - Das Design von `AdminMediaGalleryInsertLargeImageFileSizeTest` funktioniert jetzt einwandfrei.

<!-- MC-37321-->

* Allen neuen Datensätzen in der Tabelle `quote` für Gäste wird jetzt der Wert 1 im `customer_is_guest field` zugewiesen. Zuvor wurde jedem neuen Gastbenutzer, der ein Produkt zum Warenkorb hinzugefügt hat, im Feld`quote.customer_is_guest` eine 0 zugewiesen.

<!-- ENGCOM-8091 -->

* Die Schaltfläche **Senden** im Abschnitt &quot;Überprüfung und Zahlungen&quot;des Checkout-Workflows wurde in `<form id="purchaseorder-form"...></form>` verschoben, wodurch die implizite Formularübermittlung möglich ist, ohne dass JavaScript geändert werden muss. [GitHub-27925](https://github.com/magento/magento2/issues/27925)

<!-- ENGCOM-8428 -->

* Die Anwendung zeigt das Feld **Region** nicht mehr im Checkout-Workflow an, wenn die Einstellung **Status auswählen lassen, wenn es für Land** optional ist, deaktiviert ist. [GitHub-30747](https://github.com/magento/magento2/issues/30747)

<!-- ENGCOM-8442 -->

* Die Anwendung aktualisiert nun die Zwischensumme der Artikel eines Warenkorbs korrekt, wenn ein Käufer beim Auschecken mit mehreren Adressen auf **Warenkorb aktualisieren** klickt. [GitHub-30408](https://github.com/magento/magento2/issues/30408)

<!-- ENGCOM-8283 -->

* Die Anwendung löst keine Ausnahme mehr aus, wenn `config.xml` -Knoten für Zahlungsmethoden vorhanden sind, die derzeit nicht installiert sind. Zuvor hat die Anwendung beim Checkout eine Ausnahme ausgelöst. [GitHub-29555](https://github.com/magento/magento2/issues/29555)

<!-- ENGCOM-8215 -->

* Die Anwendung rendert nun Produktnamen, die Sonderzeichen enthalten, korrekt im Mini-Warenkorb. [GitHub-29075](https://github.com/magento/magento2/issues/29075)

<!-- ENGCOM-8308 -->

* Die Anwendung legt jetzt das richtige Rabattpaket für die Tabellenrate fest. Zuvor hatte die Anwendung keine Warenkorbregel angewendet, die bei der Berechnung der Tabellenrate einen Rabatt auf den Warenkorb festlegte. [GitHub-30169](https://github.com/magento/magento2/issues/30169)

### Preisregel für Warenkorb

* Die Preisregeln für Warenkorb werden nun wie erwartet angewendet, wenn die Bestelluntersummen ohne Berücksichtigung der Steuer berechnet werden. Die neue `Subtotal (Incl. Tax)` -Option wurde als Regelbedingung für den Warenkorbpreis hinzugefügt.

<!-- MC-37884-->

* Die Anwendung einer Preisregel mit einem Coupon mithilfe von GraphQL funktioniert jetzt erwartungsgemäß, wenn die Aktion **Fester Rabatt für ganzen Warenkorb** verwendet wird.

### Katalog

<!-- MC-34100-->

* Die Anwendung zeigt nun alle erneut aktivierten Produkte wie erwartet im Storefront an. Wenn zuvor ein Produkt deaktiviert und dann erneut aktiviert wurde, zeigte die Anwendung das Produkt erst an, nachdem der Cache für die entfernte Seite gelöscht oder der Store neu indiziert wurde, da der Seiten-Cache nach der erneuten Aktivierung eines Produkts nicht invalidiert wurde.

<!-- MC-37745-->

* Die teilweise Neuindizierung großer Kataloge funktioniert jetzt erwartungsgemäß. Zuvor wurden Produkte während der Neuindizierung mit dem partiellen Indexer `catalogsearch_fulltext` zufällig von der Seite der Storefront-Kategorie verschwunden.

<!-- MC-35123-->

* Käufer können jetzt eine in Rechnung gestellte Bestellung eines Produkts mit anpassbaren Optionen wie erwartet neu anordnen. Zuvor gab die Anwendung diesen Fehler aus, als ein Käufer versuchte, die Bestellung neu zu ordnen: `{"0":"The product's required option(s) weren't entered. Make sure the options are entered and try again`.

<!-- MC-35212-->

* Sie können jetzt die Einstellung **Layout** auf der Seite &quot;Kategoriedesign&quot;erfolgreich auf **Keine Layoutaktualisierungen** festlegen. Zuvor wurde die Anwendung auf **Kategorie - FullWidth** zurückgesetzt, als Sie den Wert **Keine Layout-Aktualisierungen** zugewiesen haben.

<!-- MC-35490-->

* Probleme mit der Sortierungsreihenfolge von Produkten auf der Storefront wurden behoben. Zuvor wurde bei der Indexierung der Produktpreise in der Anwendung gelegentlich der Wert `min_price` und der Wert `max_price` eines konfigurierbaren Produkts in der Tabelle `catalog_product_index_price` auf 0 gesetzt, was sich auf die Sortierreihenfolge der Preise im Storefront auswirkte.

<!-- MC-35608-->

* Die Anwendung aktualisiert jetzt erfolgreich Attribute mit der Bezeichnung `Product Type`. Da zuvor das Attribut `product_type` im Code reserviert war, wurde diese Meldung in der Anwendung angezeigt, als Sie versuchten, ein Attribut `Product Type` zu aktualisieren: `An attribute with the same code (product_type) already exists.`

<!-- MC-36214-->

* Die Anwendung ändert beim Speichern des Produkts nicht mehr die Position eines hochgeladenen Videos im Abschnitt &quot;Bilder und Videos&quot;der Produktdetailseite. Zuvor wurde der neuen Bildposition ein Indexwert zugewiesen (Position in der Liste). Wenn vorhandene Bildpositionen nicht mit ihren Indizierungswerten ausgerichtet waren, wurde das neue Bild in der Liste falsch platziert.

<!-- MC-36548-->

* Die Funktion **Zum Warenkorb hinzufügen** funktioniert jetzt erwartungsgemäß, wenn die Schaltfläche **Zum Warenkorb hinzufügen** zum Klicken verfügbar ist. Wenn Sie zuvor mehrmals auf diese Schaltfläche geklickt haben, während Sie darauf gewartet haben, dass eine Produktseite geladen wird, hat die Anwendung den folgenden Fehler ausgegeben: `Invalid Form Key. Please refresh the page`.

<!-- MC-37006 36835-->

* Die Anwendung löscht den Kategoriecache nicht mehr, wenn ein Händler deaktivierte Produkte zu oder aus einer Kategorie hinzufügt oder entfernt. Zuvor geleert die Anwendung den Cache für verwandte Kategorien trotz des Produktstatus. Kategorien wurden auch beim Speichern einer Kategorie nicht zugewiesen, was zum Leeren des Kategorie-Caches führte.

<!-- MC-37347-->

* Die Filterung von Katalogprodukten im Bereich **Alle Speicheransichten** funktioniert jetzt ordnungsgemäß. Zuvor wurden Produkte mit dem Status `Enabled` oder `Disabled` im Raster angezeigt, während die Filterung nur aktivierte oder deaktivierte Produkte umfasste.

<!-- MC-38038-->

* Eine teilweise Neuindizierung führt nicht mehr zu verpassten Produkten und leeren Kategorien.

<!-- MC-38315-->

* Die Neuanordnung funktioniert jetzt erwartungsgemäß, wenn **JavaScript-Kalender verwenden** aktiviert ist (**Speicher** > **Konfiguration** > **Katalog** > **Benutzerdefinierte Optionen für Datum und Uhrzeit**). Bisher wurde bei Aktivierung dieser Einstellung dieser Fehler in der Anwendung angezeigt, als Sie versuchten, die zuvor platzierte Bestellung vom Administrator erneut anzuordnen: `Please specify date required option(s)`.

<!-- MC-38719-->

* Die Anwendung zeigt jetzt die richtige Währung in Multi-Site-Implementierungen während der Erstellung von Tier-Preisen an.

<!-- MC-38914-->

* Benutzerdefinierte Produktbild-Attribute werden jetzt korrekt maskiert. Das Attribut `data-src` hat wie erwartet denselben Wert wie das Attribut `src` . Zuvor wurden URL-Sonderzeichen mit Escape-Zeichen versehen.

<!-- MC-37665-->

* Wenn Sie eine Kategorie über die REST-API aktualisieren, wird die Einstellung **Standardwert verwenden** für die Attribute &quot;Kategorie aktivieren&quot;, &quot;Im Menü einschließen&quot;und &quot;URL-Schlüssel&quot;nicht mehr deaktiviert.

<!-- MC-35363-->

* Beim Speichern einer Kategorie wird jetzt nur der Block-Cache geleert, der sich auf diese Kategorie bezieht. Zuvor hat die Anwendung den Cache für alle Kategorieblöcke geleert.

<!-- MC-30626-->

* Der Preis einer benutzerdefinierten Option mit einem Prozentpreis wird jetzt in Multi-Store-Bereitstellungen erwartungsgemäß in die Basiswährung des aktiven Stores konvertiert. Zuvor wurde der Preis einer benutzerdefinierten Option mit einem Prozentpreis falsch konvertiert. [GitHub-26432](https://github.com/magento/magento2/issues/26432)

<!-- MC-38890-->

* Die Anwendung erstellt jetzt erfolgreich Bilder. Diese Bilder sind wie erwartet im Admin sichtbar, wenn ein Händler Mediensalerie-Daten mit POST `rest/all/V1/products` sendet. Zuvor hat das Programm die Bilder neu erstellt, sie jedoch gelöscht, wenn ein Händler Mediensegmentardaten über die POST `rest/all/V1/products` gesendet hat, wenn die Bilder in `pub/media` gelöscht wurden, aber noch Datensätze in den Medien vorhanden waren, die noch Datensätze für diese Bilder enthielten. Daher sah der Händler nur Platzhalter im Admin, da die Bilder während des Aktualisierungsprozesses erstellt und gelöscht wurden.

<!-- MC-36903-->

* Datensätze werden nun erwartungsgemäß gelöscht, wenn Sie die Zuweisung eines Elements von einer Website aufheben. Zuvor wurden Bilder bei der Ausführung von POST `rest/all/V1/products` dupliziert.

<!-- MC-38413-->

* Der `/V1/categories/{categoryId}/products` -Aufruf gibt jetzt wie erwartet eine Liste aller Produkte zurück, die zur übergeordneten Kategorie gehören. Wenn ein Produkt zuvor zu mehr als einer Unterkategorie der übergeordneten Kategorie gehörte, gab die Anwendung diesen Fehlertyp aus: `Internal Error. Details are available in the application log file. Report ID: webapi-5f8579e37db54`.  [GitHub-30461](https://github.com/magento/magento2/issues/30461)

<!-- MC-32996-->

* Der REST-Endpunkt `/V1/products/attributes/:attributeCode/options` unterstützt jetzt die Aktualisierung einer vorhandenen Attributoption.

<!-- MC-30626 ENGCOM-8475-->

* Der Preis einer benutzerdefinierten Option mit einem Prozentpreis wird jetzt in Multi-Store-Bereitstellungen erwartungsgemäß in die Basiswährung des aktiven Stores konvertiert. Zuvor wurde der Preis einer benutzerdefinierten Option mit einem Prozentpreis falsch konvertiert. [GitHub-26432](https://github.com/magento/magento2/issues/26432)

<!-- ENGCOM-8395 -->

* Merchants können jetzt bei der Produkterstellung erfolgreich ein neues Attribut speichern. Zuvor hat die Anwendung das Attribut nicht gespeichert und den Händler zur Homepage der Store-Ansicht weitergeleitet, als er versuchte, das Attribut zu speichern. [GitHub-30362](https://github.com/magento/magento2/issues/30362)

<!-- ENGCOM-7997 -->

* Das Produktraster auf den Seiten **Verkauf** > **Bestellungen** und **Katalog** > **Produkte** listet jetzt alle relevanten Stores auf, nicht nur den zuletzt erstellten Store. [GitHub-29267](https://github.com/magento/magento2/issues/29267)

<!-- ENGCOM-6698 -->

* Das Produkt-Repository verwendet jetzt `store_id` , wenn verfügbar, um Attributwerte für ein vorhandenes Produkt zu speichern.  Zuvor hat die Produktrepository-Klasse die Produkt-Store-ID überschrieben und immer die standardmäßige Store-ID zugewiesen. [GitHub-29933](https://github.com/magento/magento2/issues/29933)

### Katalogregel

<!-- MC-35065-->

* Katalogpreisregeln funktionieren jetzt erwartungsgemäß mit benutzerdefinierten Optionen auf Produktdetailseiten. Zuvor entsprachen die Produktpreise auf dieser Seite nicht den anwendbaren Katalogpreisregeln. [GitHub-22856](https://github.com/magento/magento2/issues/22856)

<!-- MC-34265-->

* Produkt- und Katalog-Caches laufen jetzt wie geplant ab. Zuvor liefen die Caches täglich ab, da `сron` die Aufgabe `catalogrule_apply_all` einmal täglich ausgeführt hat, wodurch alle Katalogregeln und abhängigen Indexer neu indiziert und der Cache für alle Produkte und Kategorien gelöscht wurde.

### Bereinigung

#### Typo- und Grammatikbereinigung

<!-- ENGCOM-7967 -->

* Der Titel der Seite &quot;Auftragsfehler&quot;wurde auf Genauigkeit überarbeitet. Zuvor hatte diese Seite den Titel: **Wir haben Ihre Bestellung erhalten!**.  [GitHub-29416](https://github.com/magento/magento2/issues/29416)

<!-- ENGCOM-8101 -->

* Es wurden unnötige Leerzeichen in `app/code/Magento/Contact/view/frontend/templates/form.phtml` entfernt. [GitHub-29779](https://github.com/magento/magento2/issues/29779)

<!-- ENGCOM-7716 -->

* Korrektur eines Tippfehlers in der Hilfemeldung für den Unterbefehl `bin/magento/setup:config:set` .  [GitHub-28802](https://github.com/magento/magento2/issues/28802)

<!-- ENGCOM-8058 -->

* Die Grammatik in PHPDoc für die Datei `framework/Registry.php` wurde korrigiert. [GitHub-29661](https://github.com/magento/magento2/issues/29661)

<!-- ENGCOM-8273 -->

* Fremdweiße Leerzeichen aus `app/code/Magento/Catalog/Helper/Product/View.php` entfernt. [GitHub-30601](https://github.com/magento/magento2/issues/30601)

<!-- ENGCOM-8181 -->

* Korrektur eines Tippfehlers in einem Funktionsnamen in `app/code/Magento/Ui/view/base/web/js/form/element/ui-select.js`. [GitHub-29987](https://github.com/magento/magento2/issues/29987)

<!-- ENGCOM-8478 -->

* Die Pluralisierung des &quot;Artikels&quot;im Mini-Warenkorb und in der Zusammenfassung der Bestellungen für den Kassengang wurde korrigiert. [GitHub-29920](https://github.com/magento/magento2/issues/29920)

<!-- ENGCOM-8309 -->

* Whitespace wurde in Inline-Elementen in Navigationsfiltern mit Markup-Ebenen entfernt. [GitHub-30448](https://github.com/magento/magento2/issues/30448)

<!-- ENGCOM-8056 -->

* `rl` wurde in `\Magento\Framework\Filter\Template\Tokenizer\Parameter` auf `url` korrigiert. [GitHub-29185](https://github.com/magento/magento2/issues/29185)

#### Code-Bereinigung

<!-- MC-37922-->

* Ein irrelevantes HTML `<br>` -Tag wurde aus dem Bereich &quot;Datenprüfungsmeldung&quot;auf der Seite **System** > **Import** entfernt.

<!-- ENGCOM-8028 -->

* `ChangeQuoteControl` wurde umgestaltet. [GitHub-29673](https://github.com/magento/magento2/issues/29673)

<!-- ENGCOM-8027 -->

* `AccessChangeQuoteControl` und die zugehörigen Komponententests wurden umgestaltet. [GitHub-29672](https://github.com/magento/magento2/issues/29672)

<!-- ENGCOM-8053 -->

* Der Code-Stil der Rückgabetypdeklaration in `app/code/Magento/Captcha/CustomerData/Captcha.php` wurde korrigiert. [GitHub-29712](https://github.com/magento/magento2/issues/29712)

<!-- ENGCOM-8288 -->

* Die Position der Schaltflächenliste auf der Seite &quot;Neues Attribut&quot;wurde korrigiert.

<!-- ENGCOM-8315 -->

* Die richtige Blockklasse für das Frontend `viewModel`-Referenzbeispiel für die `\Magento\Framework\View\Element\Template`-Klasse wurde hinzugefügt. [GitHub-30450](https://github.com/magento/magento2/issues/30450)

<!-- ENGCOM-8090 -->

* Ein redundantes Feldset im Formular Verkaufsregel wurde entfernt. [GitHub-29599](https://github.com/magento/magento2/issues/29599)

<!-- ENGCOM-8448 -->

* Unerforderlicher Code wurde aus der `hierarchy/edit.phtml`-Vorlage entfernt.

<!-- ENGCOM-8446 -->

* Korrektur des PHPdoc-Kommentars in `app/code/Magento/CatalogImportExport/Model/Export/Product.php`. [GitHub-30833](https://github.com/magento/magento2/issues/30833)

<!-- ENGCOM-8277 -->

* Die Dokumentblock-Anmerkung für die Meldung `PublisherInterface` wurde korrigiert. [GitHub-30190](https://github.com/magento/magento2/issues/30190)

<!-- ENGCOM-8264 -->

* Die Argumente in der `getStatusByState` -Methode wurden korrigiert. [GitHub-30173](https://github.com/magento/magento2/issues/30173)

<!-- ENGCOM-8235 -->

* Die Methodenbeschreibung in `app/code/Magento/Quote/Model/Cart/Totals/ItemConverter.php` wurde korrigiert. [GitHub-30125](https://github.com/magento/magento2/issues/30125)

<!-- ENGCOM-8242 -->

* Redundante Variablenzuweisungen in derselben Zeile in mehreren Dateien wurden entfernt. [GitHub-30133](https://github.com/magento/magento2/issues/30133)

<!-- ENGCOM-8263 -->

* `@param string $attribute` wurde in `EntityAbstract.php` in `@param AbstractAttribute|string[]|string $attribute` geändert. [GitHub-30191](https://github.com/magento/magento2/issues/30191)

<!-- ENGCOM-8142 -->

* Ungültige Tags (z. B. `@package` und `@subpackage`) wurden in der gesamten Codebasis aus Dokumentblöcken entfernt. [GitHub-30061](https://github.com/magento/magento2/issues/30061)

<!-- ENGCOM-8117 -->

* Nicht verwendete Parameter im Konstrukt der `AdvancedPricing` -Klasse wurden entfernt. [GitHub-29531](https://github.com/magento/magento2/issues/29531)

### Konfigurierbare Produkte

<!-- MC-35016-->

* Wenn Sie nicht vorrätig konfigurierbare Produkte nach Preis filtern, werden jetzt Ergebnisse innerhalb der richtigen Preisspanne angezeigt.

<!-- MC-38930-->

* Ein virtuelles Produkt ändert den Typ nicht mehr, wenn sein Status von &quot;Aktiviert&quot;in &quot;Deaktiviert&quot;geändert wird (oder umgekehrt). Zuvor änderte die Anwendung den Typ eines Produkts von &quot;virtuell&quot;in &quot;einfach&quot;, wenn sich sein Status änderte.

<!-- MC-38197-->

* Bei der Methode `getValue()` wird beim Aktualisieren von Warenkörben kein schwerwiegender Fehler mehr Trigger.

<!-- MC-34444-->

* Konfigurierbare Produkte, die auf mehreren Websites verfügbar sind, zeigen keine einfachen untergeordneten Produkte mehr an, die der jeweiligen Website nicht zugewiesen sind. [GitHub-28291](https://github.com/magento/magento2/issues/28291)

<!-- ENGCOM-8202 -->

* Auf Storefront-Produktseiten werden jetzt Stufenpreise ohne Steuern wie erwartet angezeigt. [GitHub-12225](https://github.com/magento/magento2/issues/12225)

<!-- ENGCOM-8134 8174-->

* MSRP-Preise für konfigurierbare Produkte werden jetzt korrekt in die gewählte Währung konvertiert. Zuvor zeigte die Anwendung die Preise in der falschen Währung an und gab folgenden Fehler aus: `Call to a member function setAppliedTaxes() on null`. [GitHub-26526](https://github.com/magento/magento2/issues/26526), [GitHub-29603](https://github.com/magento/magento2/issues/29603)

<!-- ENGCOM-8234 -->

* Merchants können jetzt eine Store-spezifische Beschriftung für die Attributoption &quot;Textmuster&quot;mit dem Wert 0 (null) speichern. Zuvor wurde der Wert 0 durch den Optionswert Admin-Beschriftung ersetzt. [GitHub-30073](https://github.com/magento/magento2/issues/30073)

### cron

<!-- MC-37712-->

* Die Liste &quot;Systemmeldung&quot;gibt nun Produktaktualisierungen genau an, nachdem `cron` ausgeführt wurde und die Anwendung die Produkte wie geplant aktualisiert hat.

<!-- ENGCOM-8164 -->

* Der Tabelle `cron_schedule` wurde ein auf `schedule_id` und `status` basierender Index hinzugefügt. [GitHub-29601](https://github.com/magento/magento2/issues/29601)

### Benutzerdefinierte Kundenattribute

<!-- MC-23545-->

* Die Anwendung zeigt jetzt nach der Erstellung Kundenattribute des Typs `file` auf der Seite &quot;Kontoinformationen&quot;an. Zuvor wurden beim Versuch, ein neues Attribut dieses Typs zu speichern, folgende Fehler in der Anwendung angezeigt: `The "newAttribute" attribute value is empty. Set the attribute and try again` und `Validation is failed`.

<!-- MC-23544-->

* Die Anwendung zeigt jetzt korrekt mehrzeilige benutzerdefinierte Kundenattributwerte an. Zuvor wurden nicht alle Daten angezeigt.

<!-- MC-36978-->

* In der Anwendung werden Käufer jetzt benachrichtigt, wenn sie beim Erstellen eines Kontos ein ungültiges Geburtsdatum eingeben. Zuvor hat der Validator die Gebietsschemaeinstellungen ignoriert und Käufer mit einem ungültigen Datumsfehler zur Seite Neues Kundenkonto erstellen weitergeleitet.

<!-- MC-38846-->

* Benutzerdefinierte Adressattribute sind jetzt wie erwartet im Zahlungsschritt des Checkout-Workflows enthalten.

<!-- MC-38114-->

* Benutzerdefinierte Adressen mit Mehrfachauswahl-Attributen werden jetzt beim Gast-Checkout und auf der Seite mit den Details zur Bestellung in &quot;Admin&quot;und &quot;Mein Konto&quot;korrekt angezeigt.

<!-- MC-37101-->

* Sie können jetzt eine vorangestellte Null in einem benutzerdefinierten Kundenattribut löschen, wenn `Input Type` auf `Text` und `Input Validation` auf `Numeric Only` festgelegt ist.

<!-- MC-36721-->

* Die Anwendung exportiert jetzt erfolgreich Kundendaten, die einen benutzerdefinierten Geschlechterattributwert enthalten.

### Kunde

<!-- MC-35771-->

* Das Kalender-Widget für das Feld &quot;Geburtsdatum des Storefront-Kundenkontos&quot;verwendet jetzt das dafür vorgesehene Store-Gebietsschema.

<!-- MC-38498-->

* Die Anwendung speichert beim Auschecken einer Neubestellung eines bestehenden Kunden vom Administrator keine doppelten Einträge einer Kundenadresse mehr.

<!-- MC-37393-->

* Durch das Löschen aller Adressen von mehreren Kunden aus dem Admin werden jetzt alle Adressen aus der Liste der Kundenadressen gelöscht und die standardmäßigen Abrechnungs- und Versandadressen entfernt. Zuvor hat die Anwendung die Adresse aus der Liste der Kundenadressen gelöscht, aber nicht die standardmäßigen Abrechnungs- und Versandadressen entfernt.

<!-- MC-37377-->

* Im Tab Kundenadresse Admin wird nun die Anzahl der Adressen korrekt angezeigt, nachdem ein Administrator eine Massenlöschung von Adressen durchgeführt hat. Zuvor umfasste die Anwendung gelöschte Adressen in die Zählung.

<!-- MC-36718-->

* Das DateTime-Format für das Feld **Geburtsdatum** auf der Seite zur Kundenregistrierung wurde korrigiert. Zuvor fehlte die vorangestellte Null, die einem einstelligen Tag vorausging.

<!-- MC-36024-->

* Die Validierung des Datumsformats für das Feld **Geburtsdatum** funktioniert jetzt, bevor der Käufer auf die Schaltfläche **Konto erstellen** klickt. Zuvor konnte ein Käufer einen Wert in einem ungültigen Format eingeben. Wenn er auf die Schaltfläche **Konto erstellen** klickte, wurde der Käufer zur Seite Neues Kundenkonto erstellen mit einem Fehler für ungültiges Datum weitergeleitet.

<!-- MC-33867-->

* Die Anwendung gibt keinen schwerwiegenden Fehler mehr aus, wenn ein Administrator versucht, ein neues Kundenkonto zu speichern, das ungültige Daten für ein Attribut enthält.

<!-- MC-36258-->

* Die Anwendung gibt keinen 400-Fehler mehr aus, wenn ein Kunde versucht, in einer Bereitstellung, in der Magento Shipping bereits installiert war und das standardmäßige Luma-Design derzeit bereitgestellt ist, auf seinen Warenkorb zuzugreifen. Zuvor hat die Anwendung keine Abschnittsnamen herausgefiltert, die von zuvor installierten/aktivierten Modulen erstellt wurden, die vom Administrator nicht unterstützt wurden, bevor Anforderungen an den Server gesendet wurden, was zu Fehlern führte.

<!-- MC-35812-->

* Die Anwendung zeigt jetzt eine Nachricht wie erwartet an, wenn ein Käufer ein Gastkonto erstellt, wenn die Einstellung **E-Mail-Bestätigung erforderlich** aktiviert ist und `Magento\Customer\Controller\Account\CreatePost` überschrieben wurde. Zuvor war diese Art der Anpassung des Benutzerregistrierungsprozesses in der Anwendung nicht zulässig. Unter diesen Bedingungen wurde der E-Mail-Bestätigungsstatus eines Benutzers als abgeschlossen betrachtet, der neue Benutzer wurde automatisch angemeldet und es wurde keine Fehlermeldung angezeigt.

<!-- ENGCOM-8039 -->

* Die Anwendung weist nun einen Käufer der richtigen Kundengruppe zu, wenn der Käufer eine Bestellung mit einer nicht standardmäßigen Kundengruppe in einem Store aufgibt, in dem **Automatische Zuweisung zur Kundengruppe aktivieren** aktiviert ist. [GitHub-26976](https://github.com/magento/magento2/issues/26976)

<!-- MC-39783-->

* Das Raster &quot;Admin-Kunden&quot;ist jetzt erwartungsgemäß verfügbar, wenn die nicht standardmäßige Website in einer Bereitstellung mit mehreren Sites gelöscht wird, wenn Indizes auf **Von Plan aktualisieren** eingestellt sind. Zuvor zeigte die Anwendung das Raster nicht an und gab folgenden Fehler aus: `[2020-12-09 11:31:54] report.CRITICAL: The website with id 2 that was requested wasn't found. Verify the website and try again. \{"exception":"[object] (Magento\\Framework\\Exception\\NoSuchEntityException(code: 0): The website with id 2 that was requested wasn't found. Verify the website and try again. at /var/www/html/magento24ee/vendor/magento/module-store/Model/WebsiteRepository.php:110)"}`

### dotdigital

* Die Fehlerbehebung beim Abrufen von Programmlisten aus der dotdigital Engagement Cloud wurde verbessert.

* Der Wert, der während der Gastsynchronisierung in der Spalte mit dem Store-Namen synchronisiert wird, ist jetzt der Name der Store-Ansicht wie erwartet. Zuvor war der Website-Name in dieser Spalte enthalten.

* Es wurde eine Array-Prüfung hinzugefügt, bevor nach dem Speichern einer Bestellung eine Schleife über die Automatisierung des Bestellstatus ausgeführt wird.

* Es wurden Probleme mit Composer-Upgrades behoben, die das Ergebnis der Abhängigkeit des dotdigital-Moduls von `magento/module-authorization` waren.

### herunterladbar

<!-- ENGCOM-7679 -->

* Die Anwendung listet ein herunterladbares Produkt nicht mehr auf der Registerkarte Meine Download-Produkte auf, nachdem die Bestellung, zu der es gehört, teilweise zurückerstattet wurde. [GitHub-28388](https://github.com/magento/magento2/issues/28388)

### EAV

<!-- MC-35934-->

* Benutzerdefinierte Attribute, die `\Magento\Eav\Model\Entity\Attribute\Backend\ArrayBackend` verwenden, verwenden jetzt Standardwerte, wenn in der Payload kein Wert angegeben wird, wenn ein Produkt durch einen API-Aufruf erstellt wird.

### E-Mail

<!-- ENGCOM-7961 -->

* `\Magento\Config\Model\Config\Source\Email\Template::toOptionArray` gibt keinen Fehler mehr aus, wenn `setPath()` nicht vor `toOptionArray()` aufgerufen wird. [GitHub-29315](https://github.com/magento/magento2/issues/29315)

<!-- MC-36777-->

* Das Programm konvertiert jetzt beim Laden einer E-Mail-Vorlage den Klartext korrekt in HTML, wenn Sie auf **HTML-Version zurückgeben** klicken.

<!-- MC-34803-->

* E-Mails, die an Kunden gesendet werden, die teilweise Rechnungen enthalten, enthalten jetzt genaue Artikelsubsummen. Zuvor war die Zwischensumme in dieser E-Mail die Gesamtsumme der bestellten Menge, nicht die Gesamtsumme der in Rechnung gestellten Menge.

<!-- MC-38337-->

* Die Anwendung sendet jetzt E-Mail-Erinnerungen an alle relevanten Kunden mit gültigen E-Mail-Adressen. Zuvor sendete die Anwendung keine Erinnerungsnachrichten an Kunden, nachdem sie eine ungültige Adresse gefunden hatte.

<!-- ENGCOM-7517 -->

* Das Senden von Verkaufs-E-Mails im asynchronen Modus funktioniert jetzt erwartungsgemäß, nachdem ein Produkt aus einem Katalog entfernt wurde. Zuvor war der asynchrone E-Mail-Versand blockiert, und die Anwendung zeigte diesen Fehler: `main.ERROR: Cron Job sales_send_order_invoice_emails has an error: Call to a member function getData() on null. Statistics: {"sum":0,"count":1,"realmem":0,"emalloc":0,"realmem_start":73400320,"emalloc_start":37177640} [] []main.CRITICAL: Error when running a cron job {"exception":"[object] (RuntimeException(code: 0): Error when running a cron job at /var/www/html/vendor/magento/module-cron/Observer/ProcessCronQueueObserver.php:327, Error(code: 0): Call to a member function getData() on null at /var/www/html/vendor/magento/module-catalog/Helper/Image.php:502)"} []`. [GitHub-26878](https://github.com/magento/magento2/issues/26878)

<!-- ENGCOM-8381 -->

* Die Anwendung kopiert einen Kunden nicht mehr in eine E-Mail zur Bestellbestätigung, wenn `sales_email/order_comment/enabled` deaktiviert und `sales_email/order_comment/copy_method` auf `bcc` gesetzt ist. [GitHub-29915](https://github.com/magento/magento2/issues/29915)

### Frameworks

<!-- MC-24195-->

* Benutzerdefinierte Filtergruppen werden jetzt bei der Kundensuche korrekt angewendet. Zuvor hatte die Funktion `afterSearch` keine ODER-Filter wie erwartet. [GitHub-24576](https://github.com/magento/magento2/issues/24576)

<!-- MC-36942-->

* Bilder auf der Startseite eines Stores werden jetzt erfolgreich gerendert. Zuvor war die HTML der Seitenquelle beschädigt, da die drei aufeinander folgenden Schrägstriche im base64-Code des Bildes fälschlicherweise als Kommentar interpretiert wurden.

<!-- MC-37369-->

* DatePicker funktioniert jetzt ordnungsgemäß, wenn Bestellungen in der Liste &quot;Admin-Bestellungen&quot;in Geschäften mit dem arabischen Gebietsschema (`ar_SA - Saudi Arabia`) gefiltert werden.

<!-- MC-38344-->

* DatePicker zeigt jetzt das richtige Datum an, nachdem ein Händler eine Warenkorbpreisregel in einer Bereitstellung gespeichert hat. [GitHub-30382](https://github.com/magento/magento2/issues/30382)

<!-- MC-31085-->

* Die Anwendung stellt nun die arabischen Tausendergruppierungssymbole und die arabischen Dezimaltrennzeichen korrekt dar. Früher wurden arabische Symbole beschnitten. [GitHub-26676](https://github.com/magento/magento2/issues/26676)

<!-- MC-30631-->

* Die Anwendung löscht nun abgelaufene Datenbanksitzungen erwartungsgemäß aus der Datenbank-Tabelle `session`.

### Allgemeine Fehlerbehebungen

<!-- MC-38105-->

* Sie können jetzt einen nativen Sitzungs-Handler konfigurieren, der sich von dem in `php.ini` definierten Handler unterscheidet. Zuvor hat `SessionManager` den Memcache nicht auf `save_handler` festgelegt, sondern stattdessen die `session_handler` der Datei verwendet. Die Anwendung hat diesen Fehler ausgegeben: `main.CRITICAL: Warning: SessionHandler::read(): open(127.0.0.1:11211/sess_0imeeaqmnvemdg4e3h57tat0ik, O_RDWR) failed: No such file or directory (2) in../vendor/magento/framework/Session/SaveHandler/Native.php on line 22 {"exception":"[object] (Exception(code: 0): Warning: SessionHandler::read(): open(127.0.0.1:11211/sess_0imeeaqmnvemdg4e3h57tat0ik, O_RDWR) failed: No such file or directory (2) in ../vendor/magento/framework/Session/SaveHandler/Native.php on line 22 at ../vendor/magento/framework/App/ErrorHandler.php:61)"}`. [GitHub-24717](https://github.com/magento/magento2/issues/24717)

<!-- ENGCOM-8052 -->

* Die folgenden Verbesserungen wurden an den `LoginAsCustomer` -Modulen vorgenommen:

   * Das `around` -Plug-in wurde durch `after` ersetzt.

   * Redundanten Code entfernt

   * `(bool)->getValue()` durch `isSetFlag` ersetzt. [GitHub-29689](https://github.com/magento/magento2/issues/29689)

<!-- ENGCOM-8093 -->

* Das Neuladen aller Bereiche mit Kundendaten mit einem Platzhalter (*) führt nicht mehr dazu, dass bei Anforderungen an `customer/section/load` ein 400-Fehler ausgegeben wird. [GitHub-28154](https://github.com/magento/magento2/issues/28154)

<!-- ENGCOM-7994 -->

* Die Anwendung übergibt jetzt Ausnahmen, die auftreten, wenn ein Layout im Produktionsmodus auf `var/report` gerendert wird. [GitHub-29606](https://github.com/magento/magento2/issues/29606)

<!-- MC-35058-->

* Händler können die Zuweisung von Produkten aus Kategorien nun wie erwartet aufheben. Zuvor hatte die Anwendung einen Fehler ähnlich dem folgenden: `Could not save product "4" with position 0 to category 3`.

<!-- ENGCOM-7527 -->

* Die Anwendung löst jetzt eine Ausnahme aus, wenn ein nicht vorhandener Kunde ein Zurücksetzen des Kennworts anfordert. [GitHub-26288](https://github.com/magento/magento2/issues/26288)

<!-- MC-33687 ENGCOM-8497-->

* Die Anwendung zeigt jetzt eine informative Fehlermeldung an, wenn ein Administrator versucht, ein Kundenkonto zu speichern, das einen ungültigen Wert für ein Kundenattribut enthält, während eine Datei hochgeladen wird, die diesen Attributwert enthält. Zuvor hatte die Anwendung einen schwerwiegenden Fehler ausgelöst. [GitHub-30295](https://github.com/magento/magento2/issues/30295)

<!-- ENGCOM-8400 -->

* Die Anwendung wendet nun die Konfigurationseinstellung **Logo für die HTML Print View** an, um die PDF auf der Storefront-Rechnung zu speichern. [GitHub-24730](https://github.com/magento/magento2/issues/24730)

<!-- ENGCOM-8425 -->

* `static::` wurde in der gesamten Codebasis für den Zugriff auf private Konstanten durch `self::` ersetzt. [GitHub-30781](https://github.com/magento/magento2/issues/30781)

<!-- ENGCOM-8395 -->

* Die Anwendung öffnet jetzt die Seite Neues Attribut wie erwartet, wenn ein Händler während der Produkterstellung zweimal auf die Schaltfläche **Neues Attribut erstellen** klickt. Zuvor zeigte die Anwendung eine leere Seite an und gab einen Fehler aus. [GitHub-30361](https://github.com/magento/magento2/issues/30361)

<!-- ENGCOM-8426 -->

* Die Anwendung zeigt die Meldung `The coupon code has been accepted` nicht mehr an, nachdem ein Coupon entfernt wurde. [GitHub-30255](https://github.com/magento/magento2/issues/30255)

<!-- ENGCOM-8396 -->

* Administratoren können jetzt bestimmten Kategorien Widgets zuweisen. [GitHub-30009](https://github.com/magento/magento2/issues/30009)

<!-- ENGCOM-8216 -->

* Die Attributauswahl &quot;`input[type=datetime]`&quot; wurde durch eine weniger spezifische Typauswahl ersetzt. [GitHub-30064](https://github.com/magento/magento2/issues/30064)

<!-- ENGCOM-8282 -->

* Das Programm zeigt jetzt speicherspezifische Werte an, die erwartungsgemäß mit benutzerdefinierten Kategorieattributen verknüpft sind. [GitHub-13440](https://github.com/magento/magento2/issues/13440)

<!-- ENGCOM-8287 -->

* Der Antrag zeigt jetzt eine Eingabeaufforderung an, in der Sie gefragt werden, ob die Kundengruppe geändert werden soll, wenn Sie auf der Seite zur Bestellerstellung auf die Schaltfläche **MwSt.-Nummer überprüfen** klicken, wenn die Ladenadresse und der Versandort zu verschiedenen EU-Ländern gehören. [GitHub-29652](https://github.com/magento/magento2/issues/29652)

<!-- ENGCOM-8031 -->

* Die `\Magento\Catalog\Model\ImageUploader` -Klasse wurde überarbeitet, um die neue `moveFileFromTmp` -Methode zu verwenden. [GitHub-29598](https://github.com/magento/magento2/issues/29598)

<!-- ENGCOM-8178 -->

* Die Anwendung zeigt jetzt eine informativere Fehlermeldung an, wenn ein Händler versucht, ein Produktattribut mit `product_type` - und `type_id` -Codes zu erstellen, um eine aussagekräftigere Beschreibung zu erhalten. [GitHub-28479](https://github.com/magento/magento2/issues/28479)

<!-- ENGCOM-8135 -->

* Die Überprüfungslogik für die Felder **Lebensdauer des Kunden-Tokens (Stunden)** und **Lebensdauer des Administrationstokens (Stunden)** auf der Seite Admin **Speicher** > **Konfigurationen** > **Dienste** > **OAuth** wurde korrigiert. [GitHub-29502](https://github.com/magento/magento2/issues/29502)

<!-- ENGCOM-8132 -->

* Die Anwendung analysiert jetzt korrekt Text, der im Widget-Inhaltsfeld `}}` enthält. [GitHub-12087](https://github.com/magento/magento2/issues/12087)

<!-- ENGCOM-8098 -->

* Sie können jetzt einen Filter von der Seite Produktkategorien entfernen. Zuvor haben Sie, als Sie versuchten, den Filter zu löschen, in der Anwendung den Filter nicht entfernt und diesen Fehler angezeigt: `Something went wrong`. [GitHub-8538](https://github.com/magento/magento2/issues/8538)

<!-- ENGCOM-8050 -->

* `Magento\Framework\MessageQueue\ConfigInterface` kann jetzt instanziiert werden, wenn das optionale Modul `Magento_MessageQueue` deaktiviert ist. Zuvor hatte die Anwendung den folgenden Fehler ausgegeben: `PHP Fatal error:  Uncaught Error: Cannot instantiate interface Magento\Framework\MessageQueue\ConfigInterface in /var/www/magento2/magento2/lib/internal/Magento/Framework/ObjectManager/Factory/AbstractFactory.php:121`. [GitHub-26080](https://github.com/magento/magento2/issues/26080)

<!-- ENGCOM-7312 -->

* Die Logik, die bestimmt, wann die Anwendung E-Mail-Werte aus beständigem Speicher abrufen kann, wurde verbessert. Zuvor zeigte die Anwendung auf der Checkout-Seite ausgefüllte Kennwortfelder an, wenn ein nicht registrierter Benutzer nach dem ersten Ausfüllen des E-Mail-Felds zur Checkout-Seite zurückkehrte. [GitHub-26903](https://github.com/magento/magento2/issues/26903)

<!-- ENGCOM-7777 -->

* Dem Symbolleistenblock Admin-Kopfzeile `AdminNotification` wurde ein fehlendes Attribut `aclResource` hinzugefügt. Zuvor war der Eintrag in der Admin-Benachrichtigungs-Symbolleiste auch dann sichtbar, wenn der Admin-Benutzer nicht über die Berechtigung für die Rollenressource verfügt, um ihn anzuzeigen. [GitHub-29067](https://github.com/magento/magento2/issues/29067)

<!-- ENGCOM-8022 -->

* Die Funktionen `framework/database/select` `where` behandeln `type` jetzt korrekt. [GitHub-29590](https://github.com/magento/magento2/issues/29590)

<!-- ENGCOM-8260 -->

* Die ineffiziente Verwendung von `array_merge` in Schleifen wurde in der gesamten Codebasis verbessert, was die Leistung an verschiedenen Stellen verbessert hat, einschließlich im Prozess der Bereitstellung statischer Inhalte. [GitHub-30183](https://github.com/magento/magento2/issues/30183)

<!-- ENGCOM-8445 -->

* Die Standardlebensdauer der Admin-Sitzung wurde vom Verschlüsselungsmodul zum Sicherheitsmodul verschoben. [GitHub-30859](https://github.com/magento/magento2/issues/30859)

<!-- ENGCOM-8425 -->

* Die Anwendung sucht nun in einer Klasse nach privaten Konstanten und zeigt eine Warnung an, wenn `static::` -Aufrufe vorhanden sind. Zuvor hatte die Anwendung den folgenden Fehler ausgegeben: `Undefined class constant`.

<!-- ENGCOM-8326 -->

* Unterstützung für symlinked `root` in Fehlerseiten und Wartungsmodus hinzugefügt. Wenn die `root` oder `magento/pub` zuvor mit einem anderen Verzeichnis verknüpft waren, generierte der Fehlerprozessor (`Magento\Framework\Error\Processor`) keine korrekte URL für die Ansichtsdatei. [GitHub-30296](https://github.com/magento/magento2/issues/30296)

<!-- ENGCOM-8087 -->

* Fehlendes `order_data` -Array zu `EmailSender` -Klassen hinzugefügt. Dadurch werden diese Klassen an die Magento-Empfehlung angepasst, um skalare Variablen anstelle von Objekten in den E-Mail-Vorlagen zu verwenden. [GitHub-29604](https://github.com/magento/magento2/issues/29604)

### GraphQL

<!-- MC-37615-->

* Der GraphQL URL-Resolver verarbeitet jetzt Abfrageparameter ordnungsgemäß. Zuvor wurde NULL zurückgegeben, wenn SEO-freundliche URLs mit Parametern verarbeitet wurden.

<!-- ENGCOM-8422 -->

* Der GraphQL-URL-Resolver behandelt nun die CMS-Seitenhierarchie ordnungsgemäß. Zuvor wurde NULL zurückgegeben. [GitHub-30474](https://github.com/magento/magento2/issues/30474)

<!-- MC-38209-->

* Bei Abfragen der `categories.breadcrumbs` -Daten eines Produkts werden keine Breadcrumb-Daten mehr für Kategorien zurückgegeben, deren übergeordnete Kategorie deaktiviert ist. [GitHub-30468](https://github.com/magento/magento2/issues/30468)

<!-- MC-38407-->

* Der Pfad zu einem Kategoriebild wird jetzt korrekt zurückgegeben, wenn URL-Neuschreibungen deaktiviert sind.

<!-- MC-36648-->

* Die Anwendung gibt jetzt eine informativere Meldung zurück, wenn während eines GraphQL-Vorgangs zum Zurücksetzen des Kennworts ein Fehler mit auftritt. [GitHub-30179](https://github.com/magento/magento2/issues/30179)

<!-- MC-38078-->

* Die Produktpositionen werden jetzt wie erwartet in den GraphQL-Abfrageergebnissen aktualisiert, wenn die Abfrageergebnisse zwischengespeichert werden.

<!-- MC-35355-->

* Die `products` -Abfrage gibt jetzt die erwarteten Ergebnisse zurück, wenn der `category_id`  -Filter mit dem Keyword `in` angegeben. [GitHub-30349](https://github.com/magento/magento2/issues/30349)

<!-- ENGCOM-8219 -->

* Es wurden Regeln zu `editorconfig` hinzugefügt, um die Einbindung von JSON- und YAML-Dateien in zwei Leerzeichen zu unterstützen. [GitHub-30066](https://github.com/magento/magento2/issues/30066), [GitHub-30063](https://github.com/magento/magento2/issues/30063)

<!-- ENGCOM-8079 -->

* Die `FlushCacheByTags` -Klasse wurde aktualisiert, um Nachher-Plug-ins anstelle von Plug-ins zu verwenden. [GitHub-29558](https://github.com/magento/magento2/issues/29558)

<!-- ENGCOM-8370 -->

* Der Code in der Datei `checkout_index_index.xml` wurde verbessert, indem die Komponenten `sortOrder` aus `messages`, `authentication`, `progressBar`, `estimation` und `sidebar checkout` entfernt wurden. [GitHub-30550](https://github.com/magento/magento2/issues/30550)

<!-- ENGCOM-8379 -->

* Der Inhalt in `calc` ist jetzt maskiert, was zu korrekten `calc` -Werten in der CSS-Ausgabedatei führt. Zuvor gab die Anwendung einen falschen `calc` -Wert zurück. [GitHub-30542](https://github.com/magento/magento2/issues/30542)

<!-- ENGCOM-8030 -->

* Der URL-Neuschreibungsgenerator legt nun die Kategorieobjekte `url_key`, `url_path` und `store_id` beim Speichern von Kategorie-URL-Neuschreibungen für den globalen Bereich auf die Standardspeicherwerte fest. Zuvor wurden `url_key`, `url_path` und `store_id` mit den Werten der zuletzt verarbeiteten Store-ID gespeichert. [GitHub-29585](https://github.com/magento/magento2/issues/29585)#### Grouped products

<!-- MC-35361-->

* Die Produktabfrage gibt jetzt alle erwarteten Daten für gruppierte Produkte zurück. Zuvor war `product_links` ein leeres Array.

<!-- MC-37718-->

* Ein gruppiertes Produkt wird jetzt auf der Seite zur Produktbearbeitung als nicht vorrätig angezeigt, wenn alle untergeordneten einfachen Produkte nicht vorrätig sind.

<!-- MC-37249-->

* Der Status eines gruppierten Produkts wird jetzt auf der Seite zur Produktbearbeitung korrekt aktualisiert, wenn sich der Status seiner untergeordneten einfachen Produkte in nicht vorrätig ändert. Zuvor wurde der Lagerbestand für das übergeordnete Element des gruppierten Produkts nicht aktualisiert, nachdem seine untergeordneten Elemente den Lagerstatus geändert hatten.

<!-- ENGCOM-8250 -->

* `\Magento\Widget\Controller\Adminhtml\Widget\Instance\Validate` erkennt jetzt einen Ergebniswert einer Wortgruppe als Fehlermeldung und gibt ihn während der Widget-Validierung an den Benutzer aus. [GitHub-27397](https://github.com/magento/magento2/issues/27397)

<!-- ENGCOM-8311 -->

* Die hartcodierte Liste von Kategorieattributen in `Magento\Catalog\Model\Category\DataProvider::getFieldsMap()` wurde durch eine Liste von Attributen ersetzt, die aus dem Cache generiert werden. [GitHub-13440](https://github.com/magento/magento2/issues/13440)

<!-- ENGCOM-7759 -->

* Das redundante Hashing von `req.http.host/client.ip` wurde entfernt und das Hashing wird vom integrierten VCL von Varnish verarbeitet. [GitHub-29988](https://github.com/magento/magento2/issues/29988)

<!-- ENGCOM-8302 -->

* Es wurde ein Fehler-Callback zum Uploader der Datei `Magento_Ui` hinzugefügt. [GitHub-29557](https://github.com/magento/magento2/issues/29557)

<!-- ENGCOM-8405 -->

* Eine `acl.xml` -Inkonsistenz, die auftrat, wenn `Magento_LoginAsCustomerAssistance` aktiviert, aber `Magento_LoginAsCustomerAdminUi` oder `Magento_LoginAsCustomerLog` deaktiviert war, wurde korrigiert. Zuvor, als ein Administrator mit diesen Anmeldedaten versuchte, sich beim Administrator anzumelden, zeigte die Anwendung eine leere Seite an und gab diesen Fehler aus, wenn : `Exception #0 (LogicException): Could not create an acl object: Invalid Document Element 'resource': The attribute 'title' is required but missing. Line: 13`. [GitHub-30680](https://github.com/magento/magento2/issues/30680)

<!-- ENGCOM-8157 -->

* Die Anwendung gibt keinen `Undefined class constant` -Fehler mehr aus, wenn während der Plug-in-Erstellung ein `Interceptor` generiert wird. [GitHub-28981](https://github.com/magento/magento2/issues/28981), [GitHub-29879](https://github.com/magento/magento2/issues/29879)

<!-- ENGCOM-8108 -->

* Die Anwendung verarbeitet jetzt die Nachrichten und Protokollierung für asynchrone Massenvorgänge ordnungsgemäß. Zuvor wurden die Tabellen `magento_operation` und `queue_message_status` zwar aktualisiert, aber nicht ordnungsgemäß und die Systemmeldungen waren falsch. [GitHub-29718](https://github.com/magento/magento2/issues/29718)

<!-- ENGCOM-8388 -->

* Ein Käufer wird nun wie erwartet zur Seite Neues Kennwort festlegen weitergeleitet, wenn er in der E-Mail zum Zurücksetzen des Kennworts auf **Neues Kennwort festlegen** klickt, wenn für den Store die Option **E-Mail-Bestätigung erforderlich** aktiviert ist. Zuvor wurde der Käufer auf der Anmeldeseite zur Schaltfläche **Kennwort vergessen** zurückgeleitet. [GitHub-27954](https://github.com/magento/magento2/issues/27954)

<!-- ENGCOM-8337 -->

* Korrektur eines Array- zu einem String-Konvertierungsfehler beim Speichern der Zeilensystemkonfiguration mit Standardwerten. [GitHub-30314](https://github.com/magento/magento2/issues/30314)

<!-- ENGCOM-8440 -->

* Sie können jetzt Argumente für Nachrichtenwarteschlangen festlegen. [GitHub-30216](https://github.com/magento/magento2/issues/30216)

<!-- ENGCOM-8384 -->

* Der grundlegende Datei-Wächter berücksichtigt jetzt `AppState->emulateAreaCode()`. [GitHub-39656](https://github.com/magento/magento2/issues/29656)

<!-- ENGCOM-8441 -->

* Die neue `BlockByIdentifier` -Klasse unterstützt das Abrufen eines Layout-Blocks basierend auf der CMS-Blockkennung. Wenn also ein CMS-Block aus dem Cache entfernt wird, löscht das Programm auch den Cache des Layout-Bausteins. [GitHub-28309](https://github.com/magento/magento2/issues/28309)

<!-- ENGCOM-8385 -->

* Korrektur von Problemen bei der Konvertierung numerischer Argumente in Warteschlangen. Bisher wurde der Argumentwert in eine Zeichenfolge umgewandelt, wenn Sie eine Warteschlange mit numerischen `type` -Argumenten im `queue_topology.xml` deklariert haben. [GitHub-29615](https://github.com/magento/magento2/issues/29615)

### GraphQL

<!-- MC-37615-->

* Die `urlResolver`-Abfrage verarbeitet jetzt die Abfrageparameter ordnungsgemäß.

<!-- ENGCOM-8422 -->

* Die `urlResolver` -Abfrage gibt keinen NULL mehr zurück, wenn ein benutzerdefinierter CMS-Knoten und eine benutzerdefinierte Seite als Eingabe angegeben sind. [GitHub-30474](https://github.com/magento/magento2/issues/30474)

<!-- MC-38209 ENGCOM-8386-->

* Die `category` -Abfrage gibt keine untergeordneten Kategorien einer übergeordneten Kategorie mehr zurück, die deaktiviert wurde. [GitHub-30468](https://github.com/magento/magento2/issues/30468)

<!-- MC-38407-->

* Die `category` -Abfrage gibt jetzt den richtigen Pfad eines Kategoriebilds zurück, wenn URL-Neuschreibungen deaktiviert sind.

<!-- MC-36648 8321-->

* Die `resetPassword` -Mutation gibt jetzt eine informativere Meldung zurück, wenn ein Fehler auftritt. [GitHub-30179](https://github.com/magento/magento2/issues/30179)

<!-- MC-38078 ENGCOM-8504-->

* Zwischengespeicherte Ergebnisse der `products` -Abfrage werden erwartungsgemäß invalidiert, wenn sich die Produktpositionen ändern. [GitHub-30467](https://github.com/magento/magento2/issues/30467)

<!-- MC-35355 ENGCOM-8404-->

* Die `products` -Abfrage gibt jetzt die erwarteten Ergebnisse zurück, wenn der `category_id` -Filter mit dem `in` -Keyword angegeben wird. [GitHub-30349](https://github.com/magento/magento2/issues/30349)

<!-- ENGCOM-8373 -->

* Die Abfragen `categories` und `categoryList` berücksichtigen jetzt die Kategorieverfügbarkeit basierend auf der Konfiguration der Kategorieberechtigungen und der übergeordneten Kategorie-ID. [GitHub-29880](https://github.com/magento/magento2/issues/29880), [GitHub-30624](https://github.com/magento/magento2/issues/30624)

<!-- MC-37603-->

* Die `updateProductsInWishList`-Mutation validiert nun ordnungsgemäß Wunschlisten-Elemente. [GitHub-30467](https://github.com/magento/magento2/issues/30467)

<!-- ENGCOM-8430 PWA-1107-->

* Veraltete mehrere Attribute in den `ProductInterface` und `CategoryInterface`, um ihre Verwendung in der Storefront zu verhindern. [GitHub-30625](https://github.com/magento/magento2/issues/30625)

* Die Preise werden jetzt in den Produktanfrageergebnissen ausgeblendet, wenn die Kategorieberechtigungen zum Verbergen festgelegt sind. [GitHub-29926](https://github.com/magento/magento2/issues/29926)

<!-- MC-36898 PWA-1299-->

* Sie können jetzt die `addProductsToWishList`-Mutation verwenden, um ein Bundle-Produkt mit einer benutzerdefinierten Menge zu einer Wunschliste hinzuzufügen.

<!-- MC-36946 -->

* Die Reaktionszeit von GraphQL zum Hinzufügen zum Warenkorb wurde verbessert.

<!-- ENGCOM-8099 -->

* Die `products` -Abfrage gibt jetzt erwartungsgemäß Tier-Preiswerte zurück. [GitHub-29168](https://github.com/magento/magento2/issues/29168)

<!-- ENGCOM-7528 -->

* Eine redundante `getMappedNums` wurde aus einer Schleife in `lib/internal/Magento/Framework/GraphQl/Query/EnumLookup.php` entfernt. [GitHub-30031](https://github.com/magento/magento2/issues/30031)

<!-- ENGCOM-8172 -->

* Die `products` -Abfrage gibt keinen Fehler mehr zurück, wenn das abgefragte Produkt ein deaktiviertes verwandtes Produkt aufweist. [GitHub-28892](https://github.com/magento/magento2/issues/28892)

<!-- MC-37395 -->

* Die `cart` -Abfrage gibt jetzt Preise zurück, die in die richtige Währung (die standardmäßige Anzeigewährung) konvertiert wurden. Zuvor gab die Abfrage den Artikelpreiswert in der Basiswährung zurück und der Währungscode wurde als standardmäßige Anzeigewährung zurückgegeben.

<!-- MC-37388-->

* GraphQL berücksichtigt jetzt Katalogberechtigungen. Die Anwendung beschränkt, welche Elemente für eine `products` -Abfrage basierend auf der Kundengruppe des Käufers zurückgegeben werden.

<!-- MC-39690-->

* Das Attribut `customizable_option` wurde zu mehreren Datentypen hinzugefügt, die den Wert `CartItemInterface` implementieren.

<!-- MC-39744-->

* Attribute für die `storeConfig` -Abfrage wurden hinzugefügt, um Store-, Store-Gruppen- und Website-Informationen zurückzugeben.

<!-- MC-37414-->

* Das Attribut `SelectedCustomizableOption.type` wurde neu definiert. Darüber hinaus ist das Attribut `customizable_options` in verschiedenen Implementierungen von `CartItemInterface` jetzt nicht null.

<!-- MC-23860-->

* Die Suchfunktion der `products`-Abfrage gibt keine Elemente mehr zurück, für die Kategorieberechtigungen aktiviert wurden.

<!-- MC-37726-->

* Die `products` -Abfrage gibt die richtige Währung für Store-Ansichten mit mehreren Währungen zurück.

<!-- MC-37727-->

* Beschriftungen für `products`-Abfragefilter geben jetzt übersetzte Werte zurück, wenn sie für nicht standardmäßige Store-Ansichten verwendet werden.

<!-- MC-37728-->

* Feste Währungsbeträge für Geschenkkarten im Warenkorb.

<!-- MC-38443-->

* Der Datentyp `ConfigurableProductOptionsSelection` wurde hinzugefügt, der Metadaten enthält, die den auswählbaren konfigurierbaren Optionen für ein Produkt entsprechen. Verwenden Sie dieses Objekt in einer `products` -Abfrage, um die Anzahl der Mediengalerie-Elemente zu minimieren, die angezeigt werden, wenn der Käufer konfigurierbare Produktoptionen auswählt.

### Bilder

<!-- MC-36942-->

* Bilder auf der Startseite eines Stores werden jetzt erfolgreich gerendert. Zuvor war die HTML der Seitenquelle beschädigt, da die drei aufeinander folgenden Schrägstriche im base64-Code des Bildes falsch interpretiert wurden.

<!-- ENGCOM-8116 -->

* Die Abhängigkeit von der Erweiterung `fileinfo` wurde aus dem CMS-Modul entfernt. Zuvor hat die Anwendung einen Fehler ausgelöst, wenn Sie versucht haben, ein Bild mit dem Bild-Uploader hochzuladen, der beim Hinzufügen von Inhalt durch Klicken auf die Schaltfläche **Bild einfügen** gestartet wird. [GitHub-24332](https://github.com/magento/magento2/issues/24332), [GitHub-16531](https://github.com/magento/magento2/issues/16531), [GitHub-29852](https://github.com/magento/magento2/issues/29852)

<!-- ENGCOM-8020 -->

* Unterstützung zum Lesen von `exif_image.png` - oder `exif-image.jpeg` -Metadaten hinzugefügt. [GitHub-1449](https://github.com/magento/adobe-stock-integration/issues/1449)

<!-- ENGCOM-8296 -->

* Die Farben von CMYK-Bildern werden jetzt korrekt dargestellt. Wenn der Bildadapter jetzt erkennt, dass ein geöffnetes Bild einen CMYK-Farbraum aufweist, wird der Farbraum in SRGB konvertiert. Zuvor wurden diese Bilder mit invertierten Farben gerendert. [GitHub-22375](https://github.com/magento/magento2/issues/22375)

<!-- ENGCOM-8251 -->

* Boolesche Werte werden nicht mehr für `image_with_border.phtml` festgelegt. Die redundanten Einstellungen `max-width` und `height` wurden aus `.product-image-photo` entfernt. (Diese Werte werden bereits global im Bild durch die Reset-Stile festgelegt.) [GitHub-30186](https://github.com/magento/magento2/issues/30186)

### Import/Export

<!-- MC-35081-->

* Die Kundenadresse `region_id` erhält keinen `NULL` -Wert mehr, wenn Sie Kundenadressen mithilfe einer CSV-Datei (`entity type = "customer address"` und `import behavior = "add/update"`) importieren, aus der bestimmte Feldwerte gelöscht wurden.

<!-- MC-35295-->

* Sie können Produktbilder jetzt während des Imports auf der Storefront ausblenden.

<!-- MC-35836-->

* Wenn für ein importiertes Produkt `qty` auf 0, aber `is_in_stock set` auf 1 in der CSV-Datei festgelegt ist, wird das Produkt nicht auf der Kategorieseite aufgeführt und auf der Seite mit den Produktdetails wird es als nicht vorrätig identifiziert. Zuvor waren Produkte mit diesen Werten nach dem Import auf der Storefront sichtbar.

<!-- MC-38433-->

* Beim CSV-Import werden die Werte `dropdown` und `textarea` für zusätzliche Attribute nicht mehr ignoriert. Zuvor wurden diese Attributwerte beim Import nicht aktualisiert.

<!-- MC-37933-->

* Die CSV-Datei für den Produktexport wird nun erwartungsgemäß in der Admin-Liste der CSV-Exportdateien angezeigt. Zuvor gab die Anwendung einen Fehler aus, als Sie diesen Befehl ausgeführt haben: `bin/magento queue:consumers:start exportProcessor --single-thread --max-messages=10000`.

<!-- MC-37672-->

* Die Anwendung gibt beim Import von CSV-Daten, die bengalische (Bangla) Buchstaben enthalten, keinen Fehler mehr aus.

<!-- MC-36410-->

* Das Programm zeigt jetzt eine informative Fehlermeldung an, wenn ein Administrator beim Import einer Datei, die seit dem Export bei der Arbeit in Chrome geändert wurde, auf **Daten überprüfen** klickt. Zuvor zeigte die Anwendung einen Konsolenfehler an, teilte dem Benutzer jedoch nicht mit, wie er vorgehen soll.

<!-- ENGCOM-8252 -->

* Die Anwendung dupliziert keine Produktbilder mehr, wenn Sie dieselben Produkt-CSV-Daten mehrmals importieren. [GitHub-21885](https://github.com/magento/magento2/issues/21885)

<!-- ENGCOM-8262 -->

* Die Beschränkung von 90 Zeichen für Bilddateinamen in `vendor/magento/framework/File/Uploader.php` wurde entfernt.  Bisher konnte die Länge von Ordner und Dateinamen 255 Zeichen nicht überschreiten. Die Anwendung importierte Produkte mit Bildern, deren Dateiname diesen Grenzwert überschreitete, importierte die Bilddatei jedoch nicht. [GitHub-29377](https://github.com/magento/magento2/issues/29377)

<!-- ENGCOM-8153 -->

* Couponcodes können jetzt erfolgreich in CSV oder XML exportiert werden. Zuvor wurde in der Anwendung ein 404-Fehler angezeigt, wenn Sie beim Versuch, Gutscheine zu exportieren, auf **CSV exportieren** oder **XML exportieren** geklickt haben. [GitHub-29277](https://github.com/magento/magento2/issues/29277)

<!-- ENGCOM-8252 -->

* Duplizierte Produktbilder werden jetzt nach dem Import einer CSV-Datei entfernt, die Bilder enthält. [GitHub-14398](https://github.com/magento/magento2/issues/14398), [GitHub-21885](https://github.com/magento/magento2/issues/21885)

### Index

<!-- MC-38003-->

* Wir haben die Leistung des partiellen Indexers verbessert. Die Anwendung löscht jetzt die Cache-IDs, die für jede Batch-Iteration mit 1000 ID geändert wurden. Cache-Kontext akkumulieren keine IDs mehr. Zuvor sammelte der Cache-Kontext Cache-IDs für jede Batch-Iteration mit 1000 ID und löschte bei jeder Iteration denselben Satz von IDs.

<!-- ENGCOM-7929 -->

* Inkonsistenzen zwischen dem partiellen Neuindizierungssystem und dem vollständigen Neuindizierungssystem wurden korrigiert. Beide Indizierungssysteme verwenden jetzt denselben Code, der ordnungsgemäß funktioniert. Zuvor verwendeten beide Indizierungssysteme unterschiedliche Logik in Bezug auf die freigegebenen Indizes, was dazu führte, dass Indizes nach jeder Ausführung des partiellen Neuindizierungssystems invalidiert wurden. [GitHub-29478](https://github.com/magento/magento2/issues/29478), [GitHub-29297](https://github.com/magento/magento2/issues/29297)

<!-- MC-38168-->

* Wir haben Probleme mit dem manuellen Indexer behoben, die entweder zu leeren Kategorieseiten oder zu einer reduzierten Produktanzahl auf Kategorieseiten geführt haben. Probleme mit unvollständigen Kategorieseiten oder Produktanzahl traten auf, wenn:

   * die Teilindizes `catalogsearch_fulltext` und `catalog_product_price` wurden in einem großen Katalog ausgeführt, bis diese Indizes ausgeführt wurden.

   * Der partielle Indexer wurde entweder für `catalog_category_product` - oder für `catalog_product_category` -Indizes ausgeführt und gleichzeitig wurde eine vollständige Neuindizierung für einen dieser Indizes ausgeführt. Diese beiden Indizierungsprozesse konnten in Konflikt geraten, was dazu führte, dass Produkte auf Kategorieseiten fehlten.

   * `bin/magento indexer:reindex inventory` wurde in einem großen Katalog ausgeführt. Produkte fehlten auf Kategorieseiten, bis der partielle Indexer `catalogsearch_fulltext` die Ausführung abgeschlossen hatte.

<!-- MC-39700-->

* Der MySQL-Tabelle `Magento_Bulk` wurde ein Indexer hinzugefügt, der die Leistung von Massenvorgängen verbessert hat.

<!-- MC-38806-->

* Kommentare in Datenbanktabellen spiegeln nun den Tabellenstatus nach der Neuindizierung (`bin/magento indexer:reindex`) korrekt wider. Zuvor enthielten die Tabellenkommentare nach der Neuindizierung dieselben Werte wie die Kommentare nach einer Neuinstallation.

<!-- ENGCOM-7542 -->

* Die `SELECT entity_id IN` -Anweisung wurde in Implementierungen zur Implementierung von MariaDB v.10.3.18 verbessert, wodurch die Leistung der Katalogkategorienindizierung verbessert wurde. [GitHub-25199](https://github.com/magento/magento2/issues/25199)

<!-- ENGCOM-8237 -->

* Magento Open Source hat die Cache-Leistung verbessert, indem das mehrfache Leeren von Tags pro Indexinstanz vermieden wurde. [GitHub-29890](https://github.com/magento/magento2/issues/29890)

### Infrastruktur

<!-- MC-34353-->

* Sie können jetzt `app/etc/env.php` verwenden, um den Nachrichtenbroker von MYSQL in AMQP zu ändern.

<!-- MC-38242-->

* Probleme bei der Berechnung der verbleibenden Dezimalwerte für Produktmengen wurden in der entsprechenden JavaScript-Bibliothek behoben. Die Anwendung berechnete zuvor falsch berechnete Dezimalbrüche von mehr als zwei Stellen und zeigte anschließend eine falsche Meldung an.

<!-- MC-38993 ENGCOM-8473-->

* Die `\Magento\Authorization\Model\Rules::update` -Methode wird nicht mehr unterstützt.  [GitHub-29128](https://github.com/magento/magento2/issues/29128)

<!-- ENGCOM-8000 -->

* Die Anwendung gibt beim Konvertieren eines Datumsobjekts aus UTC keinen schwerwiegenden Fehler mehr aus. Zuvor hat die Methode `convertConfigTimeToUtc` unter bestimmten Bedingungen eine Ausnahme ausgelöst. [GitHub-29525](https://github.com/magento/magento2/issues/29525)

<!-- ENGCOM-7987 -->

* `DataObject` wurde in `\Magento\MediaGalleryCatalogUi\Ui\Component\Listing\Columns\Thumbnail::prepareDataSource` durch das Produktmodell ersetzt.[GitHub-1711](https://github.com/magento/adobe-stock-integration/issues/1711)

<!-- ENGCOM-7914 -->

* Der `RequireJS` -Resolver erkennt keine blockierten Ressourcen mehr. Zuvor konnte der Resolver nicht richtig erkennen, ob alle Ressourcen auf einer Seite ordnungsgemäß geladen oder verarbeitet wurden, und die Seite wurde weiter geladen. [GitHub-28116](https://github.com/magento/magento2/issues/28116)

<!-- ENGCOM-8229 -->

* Bei der Validierung des Attribut-Repository-Codes wird jetzt `Magento\Eav\Model\Entity\Attribute::ATTRIBUTE_CODE_MAX_LENGTH` und nicht mehr ein hartcodierter Wert berücksichtigt. [GitHub-29017](https://github.com/magento/magento2/issues/29017)

<!-- MC-35699-->

* Die HTML-Minimierung entfernt keine dreifachen Schrägstriche (//) mehr aus HTML-Zeichenfolgen in PHTML-Dateien. Zuvor wurden drei Schrägstriche während der Minimierung als Kommentare interpretiert und der Rest der Zeile wurde bei der Bereitstellung vollständig in der generierten PHTML-Datei entfernt.

<!-- MC-38201-->

* Merchants können jetzt Indexanmeldungen auf Tabellenspaltenebene und nicht auf Tabellenebene konfigurieren. `\Magento\Framework\Mview\View\Subscription` wurde ein neues Argument hinzugefügt, damit Spalten für eine bestimmte Ansicht oder Tabellenkombination ignoriert werden können. [GitHub-30243](https://github.com/magento/magento2/issues/30243)

<!-- MC-30171-->

* Wenn Sie auf die Schaltfläche **Zum Warenkorb hinzufügen** klicken, bevor die Produktseite von JavaScript vollständig initialisiert wurde, werden keine doppelten `form_key` -Werte mehr ausgegeben. Zuvor konnte ein Produkt mit einem zwischengespeicherten `form_key` -Wert zum Warenkorb hinzugefügt werden, der eine Ausnahme auslöste. Wenn auf **Zum Warenkorb hinzufügen** geklickt wurde, bevor die JavaScript vollständig initialisiert wurde, stimmte der in den Formulardaten gesendete `form_key` -Wert nicht mit der Benutzersitzung überein und das Produkt wurde nicht zum Warenkorb hinzugefügt. [GitHub-13746](https://github.com/magento/magento2/issues/13746)

<!-- ENGCOM-8107 -->

* Beim aktuellen cURL-Client wird nun zwischen Groß- und Kleinschreibung unterschieden. Zuvor wurde beim `Set-Cookie`-Vergleich zwischen Groß- und Kleinschreibung unterschieden, was bei einigen HTTP-Servern zu Problemen führen konnte. [GitHub-29524](https://github.com/magento/magento2/issues/29524)

<!-- ENGCOM-8360 -->

* Das XSD-URN-Format wurde in `api-functional` und XML-Dateien für Testfälle aktualisiert. [GitHub-30552](https://github.com/magento/magento2/issues/30552)

<!-- ENGCOM-8295 -->

* Der Wertesammlung für Katalogproduktoptionen wurde ein Ereignispräfix und ein Ereignisobjekt hinzugefügt, um die Anpassung des Ladevorgangs von `\Magento\Catalog\Model\ResourceModel\Product\Option\Value\Collection` für die Sammlung zu verbessern. [GitHub-29621](https://github.com/magento/magento2/issues/29621)

<!-- ENGCOM-8261 -->

* Alle Vorkommen von `array_merge` wurden umstrukturiert, um das im Kodierungsstandard empfohlene Format zu verwenden. [GitHub-30005](https://github.com/magento/magento2/issues/30005)

<!-- ENGCOM-7718 -->

* Dem Layout `adminhtml` `default` wurde der Block `head.additional` des Typs `\Magento\Framework\View\Element\Text\ListText` hinzugefügt (durch `magento2/module-base`). [GitHub-29165](https://github.com/magento/magento2/issues/29165)

<!-- ENGCOM-8312 -->

* Fehlende Escape-URL-Methode zum Layout-Vorlagenmodul-Widget hinzugefügt. [GitHub-30036](https://github.com/magento/magento2/issues/30036)

<!-- ENGCOM-8127 -->

* Die `\Magento\Framework\Filesystem\Io\File::read()` -Methode ist jetzt mit `\Magento\Framework\Filesystem\Io\IoInterface::read()` kompatibel. [GitHub-27866](https://github.com/magento/magento2/issues/27866)

### Klarna

* Die Abhängigkeit vom PayPal-Modul wurde entfernt. [GitHub-29421](https://github.com/magento/magento2/issues/29421)

### Protokollierung

<!-- ENGCOM-8443 -->

* Das Modul `Magento_Logging` hat neue Werte sowie die ihnen vorangehenden Werte nun korrekt registriert. Zuvor wurden in den Werten in der Spalte &quot;Wert vor Änderung&quot;Werte für &quot;K/A&quot;angezeigt, unabhängig davon, ob es sich um die erste oder die nächste Änderung oder um den Zeitpunkt handelte, zu dem der Standardwert zurückgegeben wurde. [GitHub-26943](https://github.com/magento/magento2/issues/26943)

### Media Gallery

<!-- ENGCOM-8014 -->

* Die Seite &quot;Admin **Stores** > **Konfiguration** > **Erweitert** > **System**&quot;wurde aktualisiert, um den richtigen Produktnamen (Media Gallery) anzuzeigen. Geringfügige Umgestaltungen der Benutzeroberfläche wurden hinzugefügt. [GitHub-1738](https://github.com/magento/adobe-stock-integration/issues/1738)

<!-- ENGCOM-8019 -->

* Links im Abschnitt &quot;Verwendet in&quot;der Bildbeschreibungen der Media Galerie zeigen jetzt ein Raster an, das vom ausgewählten Bild wie erwartet gefiltert wurde. Zuvor war das angezeigte Raster nicht korrekt benannt und die Listeneinträge waren nicht korrekt. [GitHub-1694](https://github.com/magento/adobe-stock-integration/issues/1694)

<!-- ENGCOM-8019 -->

* Sie können jetzt erfolgreich mehrere Bilder in der Media Gallery bearbeiten. Zuvor war es nicht möglich, Tags zu einem zweiten Bild hinzuzufügen, nachdem einem Bild Tags hinzugefügt wurden. [GitHub-1755](https://github.com/magento/adobe-stock-integration/issues/1755)

<!-- ENGCOM-8015 -->

* Das Dropdown-Menü Tags ist jetzt wie erwartet leer, nachdem Sie Tags aus einem Bild in der Media Gallery entfernt haben.  [GitHub-1703](https://github.com/magento/adobe-stock-integration/issues/1703)

<!-- ENGCOM-8146 -->

* Die Stapelverarbeitung von Warteschlangennachrichten für die Synchronisierungswarteschlange für Media Gallery wird jetzt unterstützt. [GitHub-1724](https://github.com/magento/adobe-stock-integration/issues/1724)

<!-- ENGCOM-8064 -->

* Die Anwendung zeigt jetzt eine 404-Seite wie erwartet an, wenn Sie versuchen, die Mediensalerie zu öffnen, wenn die **Enhanced Media Gallery** deaktiviert ist. [GitHub-1760](https://github.com/magento/adobe-stock-integration/issues/1760)

<!-- ENGCOM-8072 -->

* `MediaGalleryMetadata` überspringt jetzt die Segmentlesung, wenn eine Ausnahme auftritt, und analysiert stattdessen die Bildmetadaten und zeigt sie wie erwartet an. Zuvor waren die Bildmetadaten aufgrund einer Ausnahme von der `exif_read_data`-Segmentlesehilfe leer. [GitHub-1782](https://github.com/magento/adobe-stock-integration/issues/1782)

<!-- ENGCOM-8069 -->

* Die Länge des Ordnernamens verhindert nicht mehr, dass ein Bild in die Media Gallery hochgeladen wird. Media Gallery setzt nun die Pfadspalte auf den Typ `text`. [GitHub-1778](https://github.com/magento/adobe-stock-integration/issues/1778)

<!-- ENGCOM-8217 -->

* Bild-Uploader zeigt jetzt die richtige Bildgröße an, wenn eine Ausgabedarstellung aus der Media Gallery eingefügt wird. [GitHub-1806](https://github.com/magento/adobe-stock-integration/issues/1806)

<!-- ENGCOM-8467 -->

* Dem Uploader-Plug-in `Mediagallery` wurde eine Pfadüberprüfung hinzugefügt. Zuvor schlug die Validierung fehl und die Anwendung importierte keine Produkte, wenn **Alte Mediensammlung aktivieren** deaktiviert war. [GitHub-30649](https://github.com/magento/magento2/issues/30649)

<!-- ENGCOM-8057 -->

* `Magento_Cms::media_gallery` ACL-Unterressourcen wurden hinzugefügt und für die neue Media Gallery erzwungen, um konfigurierte Berechtigungen für die folgenden diskreten Vorgänge zu unterstützen:

   * Hochladen von Assets
   * Einfügen von Assets in Inhalte
   * Löschen von Assets
   * Ordner erstellen
   * Löschen von Ordnern. [GitHub-1487](https://github.com/magento/adobe-stock-integration/issues/1487)

<!-- ENGCOM-8047 -->

* Textzeichenfolgen und Ordnernamen der langen Mediengalerie werden nicht mehr zugeschnitten. Zuvor zeigte die Anwendung beschnittenen Text und Bilder an und zeigte folgende Meldung an: `We couldn't find any records`. [GitHub-1763](https://github.com/magento/adobe-stock-integration/issues/1763), [GitHub-1758](https://github.com/magento/adobe-stock-integration/issues/1758)

<!-- ENGCOM-8042 -->

* Die Anwendung zeigt die Schaltfläche **Ausgewählte hinzufügen** nicht mehr an, wenn beim Bearbeiten von Inhalten für eine neue Seite keine Bilder ausgewählt werden. [GitHub-1769](https://github.com/magento/adobe-stock-integration/issues/1769)

<!-- ENGCOM-8047 -->

* Filter werden jetzt wie erwartet auf das Kategorienraster **Inhalt** > **Mediengalerie** angewendet. [GitHub-1763](https://github.com/magento/adobe-stock-integration/issues/1763)

<!-- ENGCOM-8183 -->

* Die Konfiguration von Galerie-Mehrpunkt-Breakpoint-Optionen funktioniert jetzt wie erwartet. Zuvor funktionierte die Konfiguration der Breakpoint-Optionen nicht ordnungsgemäß, da `mediaCheck` beim Laden der Seite die Funktion zur Abfrage des Exitmediums ausgelöst hatte. [GitHub-29933](https://github.com/magento/magento2/issues/29933)

### MFTF

<!-- ENGCOM-8359 -->

* Wiederholte Aktionen wurden durch Aktionsgruppen in `CheckStaticBlocksTest` ersetzt. [GitHub-30561](https://github.com/magento/magento2/issues/30561)

<!-- ENGCOM-8267 -->

* `AdminUpdateCategoryAndMakeInactiveTest` und `VerifyChildCategoriesShouldNotIncludeInMenuTest` wurden überarbeitet, um den Best Practices der MFTF zu entsprechen. [GitHub-30058](https://github.com/magento/magento2/issues/30058)

<!-- ENGCOM-8458 -->

* Duplizierte `AdminOpenCMSBlocksGridActionGroup` wurde entfernt. [GitHub-30896](https://github.com/magento/magento2/issues/30896)

<!-- ENGCOM-8156 -->

* `AdminOpentCmsBlockActionGroup` wurde durch AdminOpenCmsBlockActionGroup ersetzt. [GitHub-29839](https://github.com/magento/magento2/issues/29839)

<!-- ENGCOM-8226 -->

* Veraltete `GoToAttributeGridPageActionGroup`. [GitHub-30103](https://github.com/magento/magento2/issues/30103)

<!-- ENGCOM-8061 -->

* Aktionsgruppen zum Modul `Analytics` hinzugefügt. [GitHub-29500](https://github.com/magento/magento2/issues/29500)

<!-- ENGCOM-7334 -->

* `CheckCheckoutSuccessPageAsRegisterCustomerTest` und `CheckCheckoutSuccessPageAsGuestTest` wurden aktualisiert, um erstellte Bestellungen nach der Ausführung von Tests abzubrechen. [GitHub-28324](https://github.com/magento/magento2/issues/28324)

<!-- ENGCOM-8214 -->

* `AdminNavigateToPageGridActionGroup` wurde aufgrund der Redundanz entfernt. [GitHub-29838](https://github.com/magento/magento2/issues/29838)

<!-- ENGCOM-8122 -->

* `ActionGroup` wurde implementiert, um zur Checkout-Seite zu navigieren. [GitHub-29843](https://github.com/magento/magento2/issues/29843)

<!-- ENGCOM-8124 -->

* `AdminOpenCreateNewCMSPageActionGroup` wurde implementiert, um zu navigieren und eine neue CMS-Seite zu erstellen. [GitHub-29824](https://github.com/magento/magento2/issues/29824)

<!-- ENGCOM-8268 -->

* Es wurden Probleme behoben, die beim Überspringen in MFTF-Tests für die CMS-Seite für die Media Gallery auftraten. [GitHub-30164](https://github.com/magento/magento2/issues/30164)

#### Neue Tests

<!-- ENGCOM-7804 -->

* Es wurde ein Test zur Aktivierung einer E-Mail an einen Freund im Admin hinzugefügt. [GitHub-29145](https://github.com/magento/magento2/issues/29145)

<!-- ENGCOM-8316 -->

* Es wurde ein Test hinzugefügt, mit dem ein Administrator einen CMS-Block aus einem Raster löschen kann. [GitHub-30372](https://github.com/magento/magento2/issues/30372)

<!-- ENGCOM-7933 -->

* Es wurde ein Test zum Anwenden einer Warenkorbregel auf ein einzelnes Bundle-Element hinzugefügt. [GitHub-28921](https://github.com/magento/magento2/issues/28921)

<!-- ENGCOM-8075 -->

* Es wurden Tests hinzugefügt, mit denen überprüft werden kann, ob Informationen zu **Verwendet in** für ein Mediengalerie-Bild angezeigt werden, nachdem die Entität gelöscht wurde. [GitHub-1774](https://github.com/magento/adobe-stock-integration/issues/1774)

#### Neue Aktionsgruppen

* `AssertStorefrontCustomerLogoutSuccessPageActionGroup`. [GitHub-29841](https://github.com/magento/magento2/issues/29841) <!-- ENGCOM-8121 -->

* `AdminOpenConfigurationStoresPageActionGroup`. [GitHub-29848](https://github.com/magento/magento2/issues/29848) <!-- ENGCOM-8259 -->

* `ReloadPageActionGroup`. [GitHub-30683](https://github.com/magento/magento2/issues/30683) <!-- ENGCOM-8394 -->

* `StorefrontClickRefundTabCustomerOrderViewActionGroup`. [GitHub-30032](https://github.com/magento/magento2/issues/30032) <!-- ENGCOM-8203 -->

* `AdminOpenAdminThreeDSecurePageActionGroup`. [GitHub-29845](https://github.com/magento/magento2/issues/29845) <!-- ENGCOM-8115 -->

* `AdminCustomerClickFirstRowEditLinkActionGroup`.  [GitHub-29501](https://github.com/magento/magento2/issues/29501) <!-- ENGCOM-8043 -->

* `StorefrontClickAddToCartButtonActionGroup`. [GitHub-29823](https://github.com/magento/magento2/issues/29823) <!-- ENGCOM-8113 -->

* `AdminDeleteTaxRateActionGroup`. [GitHub-29940](https://github.com/magento/magento2/issues/29940) <!-- ENGCOM-8192 -->

* `AdminOpenWebConfigurationPageActionGroup`. [GitHub-29846](https://github.com/magento/magento2/issues/29846) <!-- ENGCOM-8126 -->

* `AdminOpenGeneralConfigurationPageActionGroup`. [GitHub-29847](https://github.com/magento/magento2/issues/29847) <!-- ENGCOM-8114 -->

* `AdminOrderClickSubmitOrderActionGroup`. [GitHub-29649](https://github.com/magento/magento2/issues/29649) <!-- ENGCOM-8023 -->

* `AdminOpenCatalogProductPageActionGroup`. [GitHub-29941](https://github.com/magento/magento2/issues/29941) <!-- ENGCOM-8209 -->

* `AdminClickInvoiceButtonIntoOrderActionGroup`. [GitHub-25399](https://github.com/magento/magento2/issues/25399) <!-- ENGCOM-8210 -->

* `AdminGridBulkActionGroup`. [GitHub-28324](https://github.com/magento/magento2/issues/28324)<!-- ENGCOM-7334 -->

* `AdminGridColumnShowActionGroup`. [GitHub-28324](https://github.com/magento/magento2/issues/28324)<!-- ENGCOM-7334 -->

* `AdminOpenIndexManagementPageActionGroup`. [GitHub-29825](https://github.com/magento/magento2/issues/29825) <!-- ENGCOM-8123 -->

* `AdminOpenCatalogSearchTermIndexPageActionGroup`. [GitHub-29844](https://github.com/magento/magento2/issues/29844) <!-- ENGCOM-8128 -->

* `AdminClickAddProductToggleAndSelectProductTypeActionGroup`. [GitHub-30917](https://github.com/magento/magento2/issues/30917) <!-- ENGCOM-8439 -->

* `StorefrontCheckoutClickSaveAddressButtonActionGroup`. [GitHub-30916](https://github.com/magento/magento2/issues/30916) <!-- ENGCOM-8454 -->

* `AdminOpenCurrencyRatesPageActionGroup`. [GitHub-30783](https://github.com/magento/magento2/issues/30783) <!-- ENGCOM-8432 -->

* `AdminClickGetShippingMethodsAndRatesActionGroup`. [GitHub-30782](https://github.com/magento/magento2/issues/30782) <!-- ENGCOM-8436 -->

* `AdminSelectFixedShippingMethodActionGroup`. [GitHub-30782](https://github.com/magento/magento2/issues/30782) <!-- ENGCOM-8436 -->

* `StorefrontClickProceedToCheckoutActionGroup`. [GitHub-30926](https://github.com/magento/magento2/issues/30926) <!-- ENGCOM-8438 -->

* `StorefrontOpenMyAccountPageActionGroup`. [GitHub-29842](https://github.com/magento/magento2/issues/29842) <!-- ENGCOM-8143 -->

### Newsletter

<!-- MC-38789-->

* Administratoren können jetzt ein Kundenkonto wie erwartet bearbeiten, wenn der Kunde einen Newsletter in der Warteschlange abonniert. [GitHub-30645](https://github.com/magento/magento2/issues/30645)

<!-- ENGCOM-8034 -->

* Die Anwendung sendet jetzt eine Newsletter-Abonnementbestätigung erneut, wenn der Käufer seine Newsletter-Anmeldung nicht bestätigt. [GitHub-28422](https://github.com/magento/magento2/issues/28422)

<!-- ENGCOM-8429 -->

* Sie können jetzt ein Kundenkonto wie erwartet bearbeiten, wenn der Kunde einen Newsletter in der Warteschlange abonniert. [GitHub-30645](https://github.com/magento/magento2/issues/30645)

### Zahlungsmethoden

<!-- MC-35161-->

* Zahlungsmethoden werden jetzt für alle Websites in den Admin geladen, wie es in einer Bereitstellung mit mehreren Stores erwartet wird.

<!-- MC-35152-->

* Die Anwendung führt jetzt die Zahlungen von Payflow Pro erfolgreich durch, wenn der Name des Käufers Buchstaben mit Akzentzeichen enthält. Zuvor war die Zahlung nicht abgeschlossen, und der Antrag protokollierte diesen Fehler: `report.CRITICAL: String to be escaped was not valid UTF-8 or could not be converted`.

#### PayPal

<!-- MC-35692-->

* Händler können jetzt erfolgreich eine Bestellung beim Administrator aufgeben, nachdem sie von einer Zahlungsmethode, die eine Kreditkarte verwendet, zu einer Zahlungsmethode ohne Kreditkarte gewechselt haben. Wenn ein Händler zuvor auf die Schaltfläche &quot;**Bestellung senden**&quot; klickte, wurde der Ladevorgang gestartet, aber nie abgeschlossen und die Bestellung wurde nicht platziert.

<!-- MC-37649-->

* Die Anwendung erstellt keine doppelten Bestellungen mehr, wenn eine Bestellung bei PayPal Express aufgegeben wird. Zuvor, als ein Käufer versuchte, eine Bestellung mit PayPal Express zu bezahlen, PayPal jedoch einen Fehler zurückgab, erstellte die Anwendung noch die Bestellung. Dies führte zu doppelten Bestellungen auf der Website des Händlers. [GitHub-13952](https://github.com/magento/magento2/issues/13952)

<!-- MC-38829-->

* PayPal-Vergleichsberichte sind jetzt wie erwartet unter **Berichte** > **Verkauf** > **PayPal-Vergleich** verfügbar. Bisher hat die Anwendung diese Berichte nicht im Raster des PayPal-Vergleichsberichts aufgeführt und folgende Meldung angezeigt: `We couldn't find any records`.

<!-- MC-39442-->

* Durch Klicken auf die Schaltfläche **PayPal** beim Checkout wird kein redundanter `web-api` -Aufruf mehr Trigger. Zuvor wurden zwei Anfragen ausgelöst, wodurch die Gebühr für das Produkt verdoppelt wurde.

<!-- ENGCOM-8173 -->

* Gastkäufer können jetzt PayPal-Bestellungen aufgeben, wenn **Automatische Zuweisung zur Kundengruppe** aktiviert ist. Die Bezahlung erfolgt über das PayPal Gateway, die Bestellung wird in Magento erstellt und der Käufer sieht die Dankeseite für die Bestellung. Zuvor wurde die Bestellung erfolgreich im PayPal-Gateway verarbeitet, aber die Bestellung wurde nicht in Magento Open Source erstellt. Der Käufer wurde stattdessen zur Seite zur Bestellüberprüfung weitergeleitet, auf der die Anwendung diesen Fehler anzeigte: `Failed address validation: %1" error`. [GitHub-25399](https://github.com/magento/magento2/issues/25399)

### Leistung

<!-- MC-37705-->

* Leistungsprobleme in `module-catalog-import-export/Model/Import/Product/Option.php` wurden behoben. Die für die Ausfuhr oder den Import von mehr als 100.000 Datensätzen erforderliche Zeit wurde verkürzt. Siehe den Artikel [Import/Export dauert bei einer großen Anzahl von Produktoptionen länger als erwartet.](https://support.magento.com/hc/en-us/articles/360050695772) Knowledge Base .

<!-- MC-37799-->

* `Magento_Csp/Model/BlockCache` wurde überarbeitet, um sowohl den Speicherverbrauch als auch die Generierung unnötig großer zwischengespeicherter Zeichenfolgen zu reduzieren. Zuvor waren Seiten, die dynamisch auf die Whitelist gesetzte Skripte und Stile enthielten, häufig mit Leistungsproblemen konfrontiert. [GitHub-29964](https://github.com/magento/magento2/issues/29964)

<!-- MC-37816 -->

* Wir haben die Leistung von geplanten Exporten von Katalogen verbessert, die mehr als 100.000 Produkte mit Verbrauchern enthalten.

<!-- MC-38306 -->

* Das Programm leert den Kategoriecache nicht mehr, wenn Sie ein deaktiviertes Produkt zu einer Kategorie hinzufügen oder speichern. Zuvor hat die Anwendung den Cache für verwandte Kategorien geleert, obwohl der Produktstatus die Serverleistung beeinträchtigte.

<!-- MC-38518 -->

* Die Seitenladezeit für die Aktualisierung der Produktmenge im Warenkorb wurde verbessert. Zuvor führte die Anwendung mehrere separate Abfragen für jedes Produkt im Warenkorb aus, was die Seitenladezeit erhöhte.

<!-- MC-39700 -->

* Der MySQL-Tabelle `Magento_Bulk` wurde ein Indexer hinzugefügt, der die Leistung von Massenvorgängen verbessert hat.

<!-- MC-38593 -->

* Die Anwendung speichert nun die untergeordneten IDs konfigurierbarer Produkte zwischen. Dies hat die Seitenladeleistung verbessert, indem die Anzahl der Datenbankanforderungen reduziert wurde. [GitHub-30585](https://github.com/magento/magento2/issues/30585)

<!-- MC-37594 -->

* Das Laden des Admin-Dashboards wurde verbessert. Zuvor wurden in der Anwendung Registerkartennamen als Liste angezeigt, bevor das Laden der Seite abgeschlossen wurde.

<!-- MC-37417 -->

* Die Verwaltung des Redis-Cache wurde durch das Hinzufügen von Ablaufbeschränkungen für Layout-Caches verbessert. Zuvor erreichten Redis-Caches den maximalen Speicher in großen Bereitstellungen schnell, und die Anwendung gab Fehler bei Schreibvorgängen aus.

<!-- ENGCOM-8016 -->

* Die Leistung beim Auschecken wurde verbessert, indem eine redundante Datenbankabfrage in `app/code/Magento/Catalog/Model/CategoryLink.php` entfernt wurde. [GitHub-29453](https://github.com/magento/magento2/issues/29453)

<!-- ENGCOM-8290 -->

* `Magento\Framework\DB\Adapter\Pdo\Mysql->isTableExists` wurde überarbeitet, um die Leistung zu verbessern. Redundante Aufrufe an `SHOW TABLE STATUS` wurden reduziert, um zu überprüfen, ob eine Tabelle vorhanden ist. [GitHub-29662](https://github.com/magento/magento2/issues/29662)

<!-- ENGCOM-8258 -->

* `getPageLayoutsConfig` wird jetzt im Cache gespeichert, was die Leistung des Konfigurationsaufbaus verbessert hat. [GitHub-29546](https://github.com/magento/magento2/issues/29546)

### Beständig

<!-- MC-36647 -->

* Käufer können keine Bestellung mehr aufgeben, nachdem ihr Sitzungs-Cookie abgelaufen ist, wenn der beständige Warenkorb aktiviert ist. Stattdessen zeigt das Programm die Anmeldeseite an, damit sich der Käufer anmelden kann. Zuvor hat die Anwendung die Bestellung aufgegeben. Die Anwendung hat den persistenten Kunden nicht ordnungsgemäß validiert, wenn `PHPSESSID` abgelaufen war und `customerSession` aus den persistenten Informationen neu erstellt wurde.

<!-- MC-39127-->

* Die Anwendung zeigt nun die Willkommensnachricht wie erwartet an, nachdem sich ein Käufer in einem Speicher anmeldet, in dem der beständige Warenkorb aktiviert ist. In der Anwendung wurde zuvor der Wert &quot;**Not you?&quot;angezeigt.** -Meldung nach der Anmeldung.

<!-- MC-38269-->

* In der Anwendung werden die **Nicht bei Ihnen?** Text, wenn ein Kunde bei der Anmeldung bei einer Bereitstellung, in der der beständige Warenkorb aktiviert ist, die Option **Angaben speichern** auswählt.

<!-- MC-37109-->

* Die Anwendung zeigt den Inhalt des Warenkorbs eines Kunden nach Ablauf der Kundensitzung nicht mehr an. Zuvor zeigte die Anwendung diesen Fehler an, wenn ein Gastkunde versuchte, auszuchecken, wenn der beständige Warenkorb aktiviert war: `No such entity with cartid = 0`.

### Preise

<!-- MC-34394-->

* Aufeinander folgende asynchrone Preisaktualisierungen stören einander nicht mehr, und jedem Vorgang wird der richtige Status zugewiesen. Wenn zuvor eine asynchrone Preisaktualisierung fehlschlug, schlugen alle folgenden asynchronen Preisaktualisierungen fehl, bis der entsprechende Warteschlangenverbraucher neu gestartet wurde. [GitHub-27865](https://github.com/magento/magento2/issues/27865)

### Berichte

<!-- MC-36652 38925-->

* **Berichte** > **Marketing** > **Produkte in Warenkörben** zeigen jetzt nur den Datensatz im zulässigen Umfang des Benutzers an, der den Bericht generiert. Zuvor waren alle Daten für alle Bereiche verfügbar.

<!-- MC-38074-->

* Die Anwendung verwendet jetzt die im Rollenbereich des Händlers, der den Bericht generiert, angegebene Währung, wenn die Produktwährung im Bericht Produkte im Warenkorb angezeigt wird.

<!-- MC-37934-->

* Die kürzlich angezeigten und kürzlich verglichenen Produktfunktionen zeigen jetzt Statistiken für verschiedene Stores und Websites in Admin an, wie in einer Bereitstellung mit mehreren Stores erwartet. Zuvor wurden bei diesen Funktionen nicht alle Stores oder Websites berücksichtigt.

<!-- MC-37217-->

* Preise in Bestellberichten verwenden jetzt das richtige Währungssymbol.

<!-- ENGCOM-8314 -->

* Die Anwendung überprüft jetzt, ob ein Token vorhanden ist, wenn ein Benutzer auf die Schaltfläche &quot;Admin Dashboard&quot;**Zum erweiterten Bericht wechseln** klickt.  Wenn das Token vorhanden ist, zeigt die Anwendung die Seite &quot;Fortschrittliche Berichterstellung&quot;an. Wenn das Token nicht konfiguriert ist, zeigt das Programm eine informative Seite im Benutzerhandbuch an. [GitHub-25411](https://github.com/magento/magento2/issues/25411)

### Überprüfungen

<!-- MC-37117-->

* Die Seite &quot;Neue Überprüfung&quot;wird jetzt erwartungsgemäß geladen, wenn Sie auf die Schaltfläche **Neue Überprüfung** unter Admin **Marketing** > **Alle Bewertungen** klicken. Wenn Sie auf ein Produkt auf dieser Seite klicken, wird das erwartete neue Überprüfungsformular für dieses Produkt geöffnet.

<!-- ENGCOM-8383 -->

* Die Anwendung löst diesen Fehler nicht mehr aus, wenn Sie versuchen, eine Bestellung von Admin **Marketing** > **Alle Prüfungen**: `Uncaught TypeError: Event.observe is not a function` zu bearbeiten.  [GitHub-30388](https://github.com/magento/magento2/issues/30388)

### Vertrieb

<!-- MC-36219-->

* Die Spalte `order_created_at` der `sales_shipment_grid` wird jetzt nach jeder Aktualisierung erwartungsgemäß aktualisiert.

<!-- MC-36405-->

* Sie können jetzt ein Produkt mit einem benutzerdefinierten Optionsdatum erfolgreich in einem Speicher neu anordnen, für den die Option **JavaScript-Kalender verwenden** aktiviert ist. Zuvor hat die Anwendung, als Sie versuchten, die Neuanordnung vorzunehmen, den Artikel nicht zum Warenkorb hinzugefügt und diesen Fehler angezeigt: `Could not add the product with SKU "simp1" to the shopping cart: Please specify date required option(s).`

<!-- MC-36533-->

* Die Anwendung schließt eine Bestellung nicht mehr sofort, wenn ein Käufer eine Bestellung auscheckt, die aus einem virtuellen Produkt mit Gesamtkosten von 0 USD in Implementierungen besteht, bei denen die Methode zum Checkout ohne Zwischensumme aktiviert ist.

<!-- MC-36755-->

* Die Anwendung archiviert eine Bestellung nicht mehr, bevor sie sie verarbeitet. Bisher wurden nicht ausgewählte Bestellungen von einer Mehrfachauswahlaktion im Raster Admin-Reihenfolge beeinflusst.

<!-- MC-37371-->

* Das Credit Memo Grid zeigt jetzt das richtige Währungssymbol an, wenn der Saudi-Riyal (SAR) als Basiswährung festgelegt ist.

<!-- MC-37880-->

* Die Anwendung zeigt jetzt bei der Kasse die Informationen zu Versandadressen wie erwartet auf der Bestellseite an.

<!-- MC-38666-->

* Der Wert von `total_qty` entspricht nun dem Wert von `total_qty_ordered` in den Verkaufsrechnungen.

<!-- MC-38717-->

* Der asynchrone Versand von E-Mails zum Verkauf sendet jetzt nur E-Mails für Bestellungen, die nach dem Datum der letzten Aktualisierung erstellt wurden. Zuvor filterte die Anwendung E-Mails nicht nach dem Datum, an dem der asynchrone Versand aktiviert war.

<!-- MC-39135-->

* Die Anwendung sendet jetzt eine E-Mail zur Rechnungsstellung wie erwartet, wenn vom Administrator eine Bestellung aufgegeben wird.

<!-- MC-38917-->

* Die Anwendung löscht jetzt vorhandene Bestelldaten während einer Sitzung, wenn ein Händler eine neue Bestellung für einen Kunden vom Administrator erstellt.

<!-- MC-38915-->

* Sie können jetzt die Kundengruppe für neue Kunden ändern, die über eine Administratorreihenfolge erstellt werden, wenn **Automatische Zuweisung zur Kundengruppe aktivieren** aktiviert ist. Sie können auch eine Kundengruppe auf Grundlage der MwSt-Validierung zuweisen. Bisher hat das Anfrageobjekt bei der Validierung der MwSt-Nummer die zugewiesene Anforderung `group_id` nicht geprüft. Standardmäßig wird der Standardwert `group_id` verwendet.

<!-- MC-37539-->

* Die Anwendung ändert den Status eines benutzerdefinierten Bestellstatus mit dem Status `Suspected Fraud` nicht mehr in `Processing`, nachdem ein Händler mithilfe der REST-API eine Teilsendung erstellt hat.

### Verkaufsregel

<!-- MC-34793-->

* Couponcodes, die auf der Grundlage der Versandmethode angewendet wurden, werden nicht mehr angewendet, wenn ein Käufer die Versandmethode ändert. Zuvor wurden die Couponcodes durch die Anwendung nicht gelöscht, als Käufer die Versandmethoden wechselten.

<!-- MC-34649-->

* Käufer können einen Gutscheincode nicht häufiger anwenden als die Einstellung **Verwendung pro Kunde** zulässt. Wenn zuvor mehrere Browserfenster geöffnet waren und mehrere Bestellungen gleichzeitig aufgegeben wurden, erhielt jede Bestellung den Rabatt, obwohl die Einstellung **Verwendet pro Kunde** den Wert **1** enthielt.

### Suche {#search-heading}

<!-- MC-35095-->

* Elasticsearch gibt keinen unbekannten Modifikatorfehler mehr aus, wenn ein Käufer ein Suchsynonym sucht. Zuvor fehlte dem Escaper in regulären Ausdrücken ein Maskierungszeichen, was zu einem schwerwiegenden Fehler führte.

<!-- MC-37577-->

* Bei der erweiterten Suche werden die untergeordneten Elemente konfigurierbarer Produkte nicht mehr als individuelle Suchergebnisse zurückgegeben, wenn die untergeordneten Produkte mit Sichtbarkeit konfiguriert wurden, die auf &quot;**Nicht einzeln sichtbar**&quot;eingestellt ist.

<!-- MC-37954-->

* Bei der Sortierung der Produktnamen in den Suchergebnissen wird nicht mehr zwischen Groß- und Kleinschreibung unterschieden.

<!-- ENGCOM-8329 -->

* Die Suchergebnisseite wird nun erwartungsgemäß zwischengespeichert, wenn die Einstellung **Anzahl der wichtigsten Suchergebnisse auf den Cache auf 0** festlegen unter Admin **Stores** > **Konfiguration** > **Katalog** > **Katalog** > **Katalogsuche** aktiviert ist.

<!-- MC-36807-->

* Der Katalogsuchindexer wird jetzt ausgeführt, ohne dass ein Fehler aufgrund der Feldbegrenzung für das Elasticsearch ausgegeben wird. Zuvor hatte die Anwendung den folgenden Fehler ausgegeben: `Limit of total fields [xxx] in index [m24dev_product_1_v10] has been exceeded`.

<!-- MC-35491-->

* Die Leistung der Katalogsuche wurde verbessert. Die Deaktivierung von **Suchvorschlägen aktivieren** (**Stores** > **Konfiguration** > **Katalog** > **Katalogsuche** ) funktioniert erwartungsgemäß. Zuvor fragte die Anwendung die MySQL `search_query` -Tabelle anstelle des Elasticsearchs nach Vorschlägen zur automatischen Vervollständigung der Suche. [GitHub-25534](https://github.com/magento/magento2/issues/25534)

<!-- MC-35256-->

* Elasticsearch filtert nun die Produktpreise genauso wie MySQL. Der Feldtyp `price_*` wurde von `float` in `double` im Elasticsearch-Index geändert, um die Genauigkeit zu verbessern und einen Gleitkommafehler zu korrigieren.

<!-- ENGCOM-8393 -->

* Dem Admin wurde ein Keydown-Ereignis-Listener hinzugefügt, um das globale Suchformular zu aktivieren, wenn ein Schrägstrich eingegeben wird. [GitHub-29551](https://github.com/magento/magento2/issues/29551)

<!-- MC-24217-->

* Elasticsearch gibt keinen Fehler mehr aus, zeigt jedoch stattdessen keine Produkte wie erwartet an, wenn ein `string` -Wert verwendet wird, um Produkte nach Attribut mit dem Backend-Typ `integer` oder `decimal` zu filtern. Zuvor zeigte die Anwendung diesen Fehler in `exception.log`: `number format exception` an.

<!-- ENGCOM-8303 -->

* Elasticsearch gibt keine Ausnahme mehr aus, wenn ein Suchbegriff einen `/` enthält.  [GitHub-25886](https://github.com/magento/magento2/issues/25886), [GitHub-25110](https://github.com/magento/magento2/issues/25110)

* Die Suche ist jetzt wie erwartet für eine ausgewählte Kundengruppe aus der Produktabfrage deaktiviert, wenn die Konfigurationseinstellung **Katalogsuche nicht zulassen nach** in den allgemeinen Kategorieberechtigungen aktiviert ist. [GitHub-29927](https://github.com/magento/magento2/issues/29927)

<!-- ENGCOM-8466 -->

* Suchergebnisse enthalten nicht mehr mehrere Zitate desselben Wortes. [GitHub-30104](https://github.com/magento/magento2/issues/30104)

### Versand

<!-- MC-38247 -->

* Der Checkout-Prozess schlägt nicht mehr fehl, wenn eine Netzwerkunterbrechung die Verbindung zur DHL-Versandmethode unterbricht. Stattdessen zeigt die Anwendung andere verfügbare Versandmethoden an. Zuvor wurde der Checkout-Prozess angehalten, als die Verbindung zum DHL-Versand unterbrochen wurde. Der Fehler wurde in der Anwendung angezeigt: `Sorry, no quotes are available for this order at this time`. [GitHub-29902](https://github.com/magento/magento2/issues/29902)

<!-- MC-35194-->

* Die Felder, die die UPS-Versandmethode unter Admin **Stores** > **Konfiguration** > **Verkauf** > **Bereitstellungsmethoden** beschreiben, sind jetzt erwartungsgemäß aktiviert.

<!-- MC-35633-->

* Durch den Endpunkt POST `/rest/V1/shipment` erstellte Sendungen aktualisieren die Bestellungen jetzt ordnungsgemäß. Zuvor führte der Antrag zu einer Lieferung, doch der Versandstatus blieb im Verarbeitungsstatus.

<!-- MC-37120-->

* Die Anwendung entfernt keine einfachen Produkte mehr aus dem Warenkorb, wenn ein anderes Produkt vor dem Checkout mit Versand an mehrere Adressen aus dem Warenkorb entfernt wird. [GitHub-30259](https://github.com/magento/magento2/issues/30259)

<!-- MC-38031-->

* Auf der Seite &quot;Bestellüberprüfung&quot;wird nun der Steuerbetrag vor dem Versandbetrag angezeigt, der für Bestellungen erwartet wird, die an mehrere Adressen gesendet werden.

<!-- ENGCOM-8257 -->

* Das UPS-Versand-Tracking zeigt jetzt nur den Status `Delivered On` an, wenn ein Paket zugestellt wurde. [GitHub-30032](https://github.com/magento/magento2/issues/30032)

<!-- MC-38825-->

* Die Anwendung zeigt nun die richtige Zwischensumme des Warenkorbs für Bestellungen an, die ein virtuelles Produkt enthalten, wenn der Käufer von der Abfertigung mit mehreren Adressen zum Warenkorb zurückkehrt.

<!-- MC-38682-->

* Händler können jetzt auf der Versandseite eine Versandbeschriftung für eine bestehende Bestellung erstellen, die FedEx-Versand verwendet, wenn JavaScript-Bundling aktiviert ist. Zuvor hatte die Anwendung einen Fehler ausgelöst, wenn der Händler auf die Schaltfläche **Versandtitel erstellen** klickte.

<!-- MC-36953-->

* Der Versand-Tracking-Link in der an Kunden gesendeten Versandbestätigungs-E-Mail funktioniert jetzt erwartungsgemäß. Zuvor gab dieser Link einen 404-Fehler zurück.

<!-- ENGCOM-8025 -->

* Die Anwendung zeigt jetzt eine informative Fehlermeldung an, wenn ein Käufer mit mehreren Adressen zur Kasse geht und dann alle anderen Produkte als ein virtuelles Produkt entfernt. [GitHub-25595](https://github.com/magento/magento2/issues/25595)

<!-- ENGCOM-8253 -->

* Sie können jetzt einen Versandtitel wie für eine Teilbestellung erwartet erstellen. Zuvor, als Sie versuchten, eine Versandbeschriftung für nur einen Artikel aus einer Bestellung zu erstellen, fügte die Anwendung alle Produkte zum Paket hinzu und die Validierung schlug fehl. [GitHub-29552](https://github.com/magento/magento2/issues/29552)

<!-- ENGCOM-8154 -->

* Die Validierung für die Versandmethode wird beim Aufruf von `/V1/guest-carts/:cartId/totals-information` nicht mehr umgangen. [GitHub-25147](https://github.com/magento/magento2/issues/25147)

### Sitemap

<!-- MC-37306-->

* Von `cron` generierte Sitemaps enthalten jetzt korrekte Bild-URLs. Zuvor war der generierte zwischengespeicherte Bildpfad in Multi-Store-Bereitstellungen falsch.

### Store

<!-- ENGCOM-7543 -->

* Der Admin- und der Hauptspeicher-Umschalter spiegeln jetzt Änderungen wider, die an der Sortierreihenfolge des Stores in Admin vorgenommen wurden. [GitHub-13401](https://github.com/magento/magento2/issues/13401)

<!-- ENGCOM-8274 -->

* Die Anwendung erstellt nun korrekte URLs für Kategorien und Produkte, nachdem der URL-Schlüssel der obersten Ebene einer Store-Ansicht geändert wurde. Wenn zuvor die Kategoriestruktur einer Store-Ansicht modifizierte &quot;`url_keys`&quot;enthielt und ein Kategorieschlüssel nicht geändert wurde, aber der Schlüssel der übergeordneten Kategorie dies tat, verwendete der ursprüngliche Code bei der Erstellung von URLs die standardmäßige Store-Ansicht der Kategorie. [GitHub-28633](https://github.com/magento/magento2/issues/28633)

### Zielregeln

<!-- MC-34998-->

* Das Laden von Produktdetailseiten wurde optimiert. Es wurden Indizes für Datenbanktabellen hinzugefügt, die Abfragen zu Zielregelbedingungen für viele Fälle optimieren.

### Steuern

<!-- MC-37666-->

* Die MwSt-Validierung einer Gastbestellung führt nicht mehr dazu, dass die Anwendung das Angebot mit einer falschen Kundensteuerklasse speichert. [GitHub-30018](https://github.com/magento/magento2/issues/30018)

<!-- MC-37761-->

* Bestellungen, die an mehrere Adressen gesendet werden, können jetzt beim Checkout gespeichert werden, wenn FPT konfiguriert ist. Nach Abschluss einer Bestellung für mehrere Adressen zeigte die Anwendung zuvor eine leere Seite anstelle der Auftragserfolgsseite an.

<!-- ENGCOM-8158 -->

* Die Detailseiten der Storefront-Produkte zeigen jetzt alte und neue Preise mit und ohne Steuern wie erwartet an. [GitHub-27500](https://github.com/magento/magento2/issues/27500), [GitHub-11998](https://github.com/magento/magento2/issues/11998)

### Test

<!-- MC-37364-->

* `bin/magento dev:tests:run` startet jetzt die folgenden Tests erwartungsgemäß: Alle, Einheit, Integration, Integration für alle, statisch, statisch für alle, Integrität, veraltet und Standard.

<!-- MC-38488-->

* `AdminMediaGalleryInsertLargeImageFileSizeTest` wurde umgestaltet.

<!-- ENGCOM-8158 -->

* Unit-Tests sind jetzt mit PHPUnit 8 kompatibel. [GitHub-29779](https://github.com/magento/magento2/issues/29779)

<!-- ENGCOM-8009 -->

* `\Magento\TestFramework\TestCase\WebapiAbstract` enthält jetzt eine Funktion, die den Vergleich großer verschachtelter Arrays erwarteter und tatsächlicher Ergebnisse in Tests unterstützt. Irrelevante Schlüssel im Ergebnis können nun ignoriert werden. [GitHub-29498](https://github.com/magento/magento2/issues/29498)

<!-- ENGCOM-8024 -->

* `AdminMediaGalleryCatalogUiEditCategoryGridPageTest` schlägt nicht mehr zufällig fehl. [GitHub-1764](https://github.com/magento/adobe-stock-integration/issues/1764)

<!-- ENGCOM-8041 -->

* `dev/tests/integration/testsuite/Magento/Customer/Controller/AccountTest` wurde verbessert. (`assert` basiert jetzt auf dem `XPath` -Selektor anstelle von `assertStringContainsString`.) [GitHub-29700](https://github.com/magento/magento2/issues/29700)

<!-- ENGCOM-8017 -->

* Testabdeckung für das Modul `AdminAnalytics` hinzugefügt. [GitHub-29500](https://github.com/magento/magento2/issues/29500)

<!-- ENGCOM-8266 -->

* Funktionstests für Integration und API sind jetzt mit PHPUnit 9.3 kompatibel. [GitHub-30146](https://github.com/magento/magento2/issues/30146)

<!-- MC-35798 -->

* Fehlerkorrektur - Beim GraphQL `testRequestCacheTagsForCategoryListOnMultipleIds`-Test treten jetzt keine Fehler mehr auf. [GitHub-29372](https://github.com/magento/magento2/issues/29372)

<!-- ENGCOM-7762 -->

* Header-Werte, die URLs enthalten, werden jetzt ordnungsgemäß in `ApiFunctional TestFramework` analysiert. [GitHub-26425](https://github.com/magento/magento2/issues/26425)

<!-- MC-35798 8109-->

* Fehlerkorrektur - Beim GraphQL `testRequestCacheTagsForCategoryListOnMultipleIds`-Test treten jetzt keine Fehler mehr auf. [GitHub-29372](https://github.com/magento/magento2/issues/29372)

<!-- ENGCOM-8382 -->

* `—no-tablespaces` wurde zu allen Vorkommen von `mysqldump` hinzugefügt, wodurch Integrationstests ohne die Berechtigung `PROCESS` ausgeführt werden können (erforderlich seit MySQL 5.7.31 / 8.0.21, um standardmäßig `mysqldump` auszuführen). [GitHub-30566](https://github.com/magento/magento2/issues/30566)

### Design

<!-- ENGCOM-8419 -->

* Dem Befehl `bin/magento setup:static-content:deploy` wurde ein neues `--no-parent` -Flag hinzugefügt, das verhindert, dass die übergeordneten Elemente eines Designs kompiliert werden. Mit dieser neuen Kennzeichnung können Sie die Leistung des Bereitstellungsprozesses für statische Inhalte erheblich verbessern, indem Sie unnötige Kompilierungen vermeiden. Beachten Sie, dass dieses neue Flag bei Verwendung der `compact` -Strategie nicht funktioniert. [GitHub-30184](https://github.com/magento/magento2/issues/30184)

<!-- MC-37630 -->

* Die Designkonfiguration generiert keine DDL-Vorgänge mehr. Zuvor erzeugte die Anwendung beim Aktualisieren der Designkonfiguration DDL-Anweisungen, die MySQL-Fehler Trigger.

<!-- ENGCOM-8112 -->

* Redundanter Code im Modul `Magento_ConfigurableProduct` im Admin-Design wurde entfernt.  [GitHub-29857](https://github.com/magento/magento2/issues/29857)

<!-- ENGCOM-8144 -->

* Die redundante Navigation mit weniger Stilen und nicht verwendete Eigenschaften im leeren Design wurden entfernt. [GitHub-29914](https://github.com/magento/magento2/issues/29914)

<!-- ENGCOM-8285 -->

* Dem leeren Design in der Mobile-Ansicht wurde eine ausblendbare Navigationsfunktion hinzugefügt. [GitHub-30237](https://github.com/magento/magento2/issues/30237)

<!-- ENGCOM-7803 -->

* Das Laden von Webschriften für Designs wurde optimiert.  [GitHub-29526](https://github.com/magento/magento2/issues/29526)

<!-- ENGCOM-8068 -->

* Entwickler können jetzt den Schrifttyp beim Deklarieren einer benutzerdefinierten Schrift in einem Design angeben. [GitHub-29719](https://github.com/magento/magento2/issues/29719)

### Übersetzung und Gebietsschemata

<!-- MC-36836 -->

* Die Datumsauswahl für das Admin-Orderraster funktioniert jetzt erwartungsgemäß, wenn das Admin-Gebietsschema arabisch ist (`ar_SA - Saudi Arabia`).

<!-- MC-38476 -->

* Die Anwendung zeigt keine Fehlermeldung mehr an, wenn ein Käufer bei der Registrierung oder dem Hinzufügen einer neuen Adresse eine argentinische Adresse mit einem gültigen Postleitzahl eingibt. Zuvor wurde in der Anwendung folgender Fehler angezeigt: `Provided Zip/Postal Code seems to be invalid. Example: 1234. If you believe it is the right one you can ignore this notice.`

<!-- MC-38663-->

* Die Anwendung gibt keinen Fehler mehr aus, wenn ein Käufer eine fünfstellige Postleitzahl für eine koreanische Adresse eingibt.

<!-- ENGCOM-8244 -->

* Unterstützung für die Uruguay-Regionen hinzugefügt, die in [ISO 3166-2:UY](https://en.wikipedia.org/wiki/ISO_3166-2:UY) definiert sind. [GitHub-29729](https://github.com/magento/magento2/issues/29729)

<!-- ENGCOM-8220 -->

* `zip_codes.xml` wurde aktualisiert, um acht Stellen für brasilianische Postleitzahlen zu erzwingen. [GitHub-29984](https://github.com/magento/magento2/issues/29984)

<!-- ENGCOM-8304 -->

* Verbesserte Lokalisierung der verbleibenden nicht lokalisierten Wortgruppen. [GitHub-11175](https://github.com/magento/magento2/issues/11175)

<!-- ENGCOM-8380 -->

* Der Platzhalter für die Rastersuche kann jetzt übersetzt werden. [GitHub-30510](https://github.com/magento/magento2/issues/30510)

<!-- ENGCOM-8018 -->

* Das Programm lädt jetzt Inline-Übersetzungen für JavaScript-Module nur herunter, wenn sie aktiviert sind.  [GitHub-29553](https://github.com/magento/magento2/issues/29553)

### Benutzeroberfläche

<!-- MC-38509-->

* Die Schaltfläche **Konto erstellen** auf der Seite Neues Konto erstellen bleibt aktiv, wenn ein Käufer ungültige Daten eingibt. Zuvor war diese Schaltfläche deaktiviert, was verhinderte, dass Käufer nach einem Fehler erneut versuchen konnten, ein Konto zu erstellen. Dies war ein bekanntes Problem in Version 2.4.1. [GitHub-30513](https://github.com/magento/magento2/issues/30513)

<!-- MC-38698-->

* Das Laden des Versandrasters auf der Seite zur Bearbeitung der Admin-Bestellung wurde verbessert.

<!-- MC-37870-->

* Das Programm zeigt jetzt das Kontrollkästchen **Gleiche Abrechnungsadresse** wie erwartet auf der Bestellseite an, wenn Produkte von der SKU zum Warenkorb hinzugefügt wurden.

<!-- ENGCOM-8007 -->

* Die CSS-Klasse, die eine begrenzte Breite definiert hat, wird nun erwartungsgemäß auf die Felder **Startzeit** unter Admin **Store** > **Konfiguration** > **Katalog** > **XML-Sitemap** > **Erstellungseinstellungen** angewendet.  [GitHub-29496](https://github.com/magento/magento2/issues/29496)

<!-- ENGCOM-7992 -->

* Es wurden Anzeigeprobleme mit der Checkbox-Beschriftung für Nutzungsbedingungen behoben.  [GitHub-24060](https://github.com/magento/magento2/issues/24060)

<!-- ENGCOM-7948 -->

* Die Anwendung zeigt den CSS-Code für einen Tier-Preisblock auf der Produktseite nicht mehr an, wenn die Tier-Preise nicht verfügbar sind. [GitHub-29194](https://github.com/magento/magento2/issues/29194)

<!-- ENGCOM-8084 -->

* Die Position der Schaltflächen auf der Detailseite der Bildansicht wurde entsprechend den Richtlinien der Benutzeroberfläche neu angeordnet.  [GitHub-1783](https://github.com/magento/adobe-stock-integration/issues/1783)

<!-- ENGCOM-8342 -->

* Das Textfeld Couponcode wird jetzt in Internet Explorer-/EDGE-Browsern in der richtigen Breite angezeigt.

<!-- ENGCOM-7630 -->

* Die Variable `@button__border-radius` ist jetzt in der Bibliothek `lib/web/css/source/lib/variables/_buttons.less` definiert.  `border-radius` hat den Standardwert `3px`. Zuvor war `border-radius` hartcodiert.  [GitHub-28674](https://github.com/magento/magento2/issues/28674)

<!-- ENGCOM-8067 -->

* Die Suchschaltfläche Senden (Lupe) im Mini-Suchfeld ist jetzt deaktiviert, bis die minimale Länge der Suchzeichenfolge erreicht ist. [GitHub-29704](https://github.com/magento/magento2/issues/29704)

<!-- MC-38807-->

* Die Schaltfläche **Vorlage für Vorschau anzeigen** funktioniert jetzt wie erwartet auf der Seite &quot;Warteschlange bearbeiten&quot;.

<!-- MC-31892-->

* Die Anwendung behält jetzt den Wert eines Attributs bei, wenn Sie das Attribut von einer Gruppe in eine andere verschieben.

<!-- ENGCOM-8085 -->

* Es wurde eine Variable für die Schriftgewichtsgröße zu `lib/web/css/source/lib/variables/_typography.less` hinzugefügt. [GitHub-29778](https://github.com/magento/magento2/issues/29778)

<!-- ENGCOM-8211 -->

* Die Sichtbarkeit des Filters funktioniert jetzt mit der Spaltenanzeige, wie in Admin Raster erwartet.  [GitHub-30345](https://github.com/magento/magento2/issues/30345)

<!-- ENGCOM-8152 -->

* Komponentenoptionen für die Benutzeroberflächenauswahl sind nicht mehr sichtbar, wenn `this.disabled(true)` festgelegt ist. [GitHub-29098](https://github.com/magento/magento2/issues/29098)

<!-- ENGCOM-7901 -->

* Die Variable `@font-family-name__base` wird beim Laden der Schriftart Open Sans nicht mehr verwendet. [GitHub-29515](https://github.com/magento/magento2/issues/29515)

<!-- ENGCOM-8120 -->

* Das WAI-ARIA-Attribut `aria-atomic="true"` wurde dem Fehler-Container-Tag hinzugefügt. [GitHub-29560](https://github.com/magento/magento2/issues/29560)

<!-- ENGCOM-8175 -->

* Die Raster der UI-Komponenten zeigen jetzt eine genaue Anzahl ausgewählter Elemente an. Zuvor wurde bei der Auswahl aller Rasterelemente durch eine Suche nach Keyword eine falsche Anzahl von Auswahlen angezeigt, während der Käufer anschließend einige Elemente deaktiviert hat, bevor das Kontrollkästchen &quot;Kopfzeile&quot;aktiviert wurde. [GitHub-29968](https://github.com/magento/magento2/issues/29968)

<!-- ENGCOM-8118 -->

* Die Anwendung zeigt nicht gerenderte HTML nicht mehr auf den Übersichtsseiten für Rechnung und Versand an. [GitHub-29958](https://github.com/magento/magento2/issues/29958)

<!-- ENGCOM-8066 -->

* Durch Klicken auf **Optionen** unter &quot;Admin **Stores** > **Währungsraten**&quot;werden Benutzer nun zum erweiterten Abschnitt mit Währungsoptionen auf der Systemkonfigurationsseite weitergeleitet. [GitHub-29336](https://github.com/magento/magento2/issues/29336)

<!-- ENGCOM-8361 -->

* Verbesserte Unterstützung für die Anzeige eines Widgets in Abhängigkeit von einer anderen Bedingung für `adminhtml` Widgets bei Verwendung eines Auswahl-Widget-Typs. [GitHub-13316](https://github.com/magento/magento2/issues/13316), [GitHub-7252](https://github.com/magento/magento2/issues/7252), [GitHub-6868](https://github.com/magento/magento2/issues/6868)

<!-- ENGCOM-8336 -->

* Verbesserter Abstand von Text in Bestätigungs-Popup-Dialogfeldern im Luma-Design. [GitHub-30452](https://github.com/magento/magento2/issues/30452)

### Vault

<!-- MC-39109-->

* Das Modul `Vault` erkennt nun Zahlungsmethodencodes aus der Anfrage für den Zahlungsinformationsverwaltungsdienst. Wenn ein Käufer zuvor eine Bestellung mit einer gespeicherten Braintree-Kreditkarte aufgegeben hat, hat der Antrag diesen Fehler auch dann ausgegeben, wenn eine gültige Zahlungsmethode verwendet wurde: `The requested Payment Method is not available`.

<!-- ENGCOM-7977 -->

* Das Banner, das das Programm auf der Seite &quot;Admin-Anmeldung als Kunde&quot;anzeigt, bleibt jetzt oben auf der Seite, wenn der Benutzer scrollt. [GitHub-29354](https://github.com/magento/magento2/issues/29354)

### Vertex

* Adressenvorschläge werden jetzt erwartungsgemäß entfernt, wenn eine Adresse geändert wird.

* Eine Wettlaufsituation, die manche Kunden daran hinderte, ihre Adresse in ihrem Kontobereich zu speichern, wurde behoben.

* Bei der Überprüfung der Testadressen wird die Seite &quot;Adressenbearbeitung&quot;unter bestimmten Bedingungen nicht mehr zum ganzseitigen Cache hinzugefügt.

* Die vertex-berechnete Steuer wird jetzt berücksichtigt, wenn der kostenlose Versand für einen Steuerbetrag konfiguriert ist.

### Web-API-Framework

<!-- MC-23904 ENGCOM-8421-->

* Sie können jetzt die POST `V1/invoice/:invoiceId/refund` verwenden, um eine Rechnung zurückzuerstatten, die eine Produktmenge von null und keine Versandkosten aufweist (z. B. `{"items": [{"qty": 0, "orderItemId": 6, "extensionAttributes": {}}], "appendComment": false, "notify": true, "isOnline": true, "arguments": {"adjustment_negative": 0.0, "adjustment_positive": 0.99, "shipping_amount": 0}}.` ). Zuvor hatte der Antrag den folgenden Fehler ausgegeben: `You can't create a creditmemo without products`. [GitHub-23069](https://github.com/magento/magento2/issues/23069)

<!-- MC-33732 -->

* Sie können jetzt POST `V1/categories` verwenden, um eine Kategorie zu erstellen oder zu aktualisieren. Zuvor hat die Anwendung den Wert nicht gespeichert, wenn der `default_sort_by` -Wert als Array festgelegt war. Wenn der `default_sort_by` -Wert als Zeichenfolge festgelegt wurde, hat die Anwendung diesen Fehler ausgegeben: `Error occurred during \"custom_attributes\" processing. Attribute \"default_sort_by\" has invalid value. The \"string\" value's type is invalid. The \"string[]\" type was expected. Verify and try again.`

<!-- MC-35740 -->

* Die Verwendung von POST `V1/invoices/:id/capture` zum Erfassen von Zahlungsinformationen funktioniert jetzt erwartungsgemäß. Zuvor genehmigte die Applikation die Bestellung, erfasste sie jedoch nur auf der Website des Payment Gateways.

<!-- MC-37794 -->

* Wenn Sie POST `V1/order/:orderId/ship` verwenden, um eine Teilsendung zu erstellen, gibt der Endpunkt die richtige Anzahl an versendeten Produkten zurück.

<!-- MC-38425-->

* Rechnungen, die mit der POST `V1/order/:orderID/invoice` erstellt wurden, spiegeln nun die Teilzahlung durch einen Store-Kredit genau wider. Zuvor wurde, wenn eine Bestellung teilweise mit einem Store-Guthaben beglichen wurde, die Rechnung erstellt, ohne dass der Store-Guthaben berücksichtigt wurde.

<!-- MC-36830-->

* Die Aufrufe GET `rest/all/V1/categories` und GET `rest/all/V1/categories?rootCategoryId=2` geben jetzt die ausgefüllten Felder `name` und `product_count` wie für alle Kategorien im Baum erwartet zurück. Zuvor waren die Kategoriefeldwerte leer. Das Plug-in für den Tabellennamenauflöser gab einen falschen Tabellennamen zurück, um die Anzahl der Produkte nach Kategorie abzurufen.

<!-- ENGCOM-8286 -->

* Der PUT `V1/categories/:id` -Endpunkt speichert jetzt die Daten, die zum Erstellen von 301-Umleitungen für Kategorie-URL-Schlüssel erforderlich sind, wenn das benutzerdefinierte Attribut `save_rewrites_history` angegeben wird. [GitHub-29174](https://github.com/magento/magento2/issues/29174), [GitHub-30240](https://github.com/magento/magento2/issues/30240)

### Wunschliste

<!-- MC-33626-->

* Käufer können einem Wunschzettel jetzt ein Produkt hinzufügen, wenn das Produkt einer benutzerdefinierten Inventarquelle zugewiesen ist. [GitHub-3018](https://github.com/magento/inventory/issues/3018)

<!-- MC-35416-->

* Administratoren können jetzt von der Admin-Kundenseite aus auf die Seite &quot;Warenkorb verwalten&quot;zugreifen, nachdem ein Kunde ein Produkt aus der Storefront zu seiner Wunschliste hinzugefügt hat. Zuvor wurde in der Anwendung der folgende Fehler angezeigt, als der Administrator auf die Schaltfläche **Warenkorb verwalten** klickte: `An error has occurred. See error log for details`.

<!-- MC-35573-->

* Die Schaltfläche **Zum Warenkorb hinzufügen** auf der freigegebenen Wunschlisten-Seite funktioniert jetzt wie erwartet für anonyme, Gastbenutzer und Benutzer, die nicht angemeldet sind.

<!-- ENGCOM-8062 -->

* Die Anwendung zeigt jetzt auf der Wunschlistenseite die ausgewählten konfigurierbaren Produktattributoptionen wie erwartet an.  [GitHub-24091](https://github.com/magento/magento2/issues/24091), [GitHub-22503](https://github.com/magento/magento2/issues/22503)

<!-- ENGCOM-7779 -->

* `ActionInterface` wurde für `\Magento\Wishlist\Controller\Shared\Allcart` implementiert. [GitHub-29537](https://github.com/magento/magento2/issues/29537)

## Bekannte Probleme

**Problem**: Die Datei `[magento_root]/index.php` wurde entfernt und die Anwendung wird jetzt für Apache-Konfigurationen standardmäßig von `/pub` aus ausgeführt. Stores, die aus Unterordnern bereitgestellt werden, funktionieren nicht erwartungsgemäß und zeigen möglicherweise 404-Fehler an. **Problemumgehung**: Verwenden Sie Symlinks, um die Installation in einen Unterordner zu emulieren. Im folgenden Beispiel wird `https://shop01.com/shop/` verwendet, um zu veranschaulichen, wie mithilfe eines Symlinks eine Installation in einem Unterordner emuliert werden kann.

1. Erstellen Sie ein Unterverzeichnis für `https://shop01.com/shop/`:

   ```bash
   mkdir magento_root/pub/shop01
   ```

   ```bash
   cd magento_root/pub/shop01
   ```

1. Erstellen Sie Symlinks für die übergeordneten Ordner des Stores im neu erstellten Verzeichnis:

   ```bash
   ln -s ../media media
   ```

   ```bash
   ln -s ../static static
   ```

   ```bash
   ln -s ../../../pub pub
   ```

   ```bash
   ln -s ../.htaccess .htaccess
   ```

   ```bash
   ln -s ../health_check.php health_check.php
   ```

1. Erstellen Sie eine `index.php` -Datei im neuen Verzeichnis (`magento_root/pub/shop01/index.php`) und fügen Sie folgenden Inhalt hinzu:

```php
   <?php
   require realpath(__DIR__) . '/../../../app/bootstrap.php';

   switch ($_SERVER['HTTP_HOST']) {
       case 'shop01.com':
       case 'www.shop01.com':
           $params = $_SERVER;
           $params[\Magento\Store\Model\StoreManager::PARAM_RUN_CODE] = 'shop01';
           $params[\Magento\Store\Model\StoreManager::PARAM_RUN_TYPE] = 'website';
           $bootstrap = \Magento\Framework\App\Bootstrap::create(BP, $params);
           $app = $bootstrap->createApplication(\Magento\Framework\App\Http::class);
           $bootstrap->run($app);
           break;

       default:
           $bootstrap = \Magento\Framework\App\Bootstrap::create(BP, $_SERVER);
           /** @var \Magento\Framework\App\Http $app */
           $app = $bootstrap->createApplication(\Magento\Framework\App\Http::class);
           $bootstrap->run($app);
       break;
   }
```

1. Konfigurieren Sie Ihren Apache-Server so, dass er auf das neue Unterverzeichnis verweist. Bereitstellungskonfigurationen können sehr unterschiedlich sein. Hier finden Sie eine Beispiel-Serverkonfiguration:

```xml
   <VirtualHost *:80>
       DocumentRoot "magento_root/pub/shop1"
       ServerName shop01.com
   </VirtualHost>
```

**Problem**: Der Antrag sendet keine Zahlungsinformationen wie erwartet, wenn ein Käufer zum ersten Mal einen korrekten Code in das CAPTCHA-Feld auf der Zahlungsseite eingibt, zeigt aber diesen Fehler an: `There has been an error processing your request`. Dies tritt nur auf, wenn der Käufer versucht, die Bestellung zu platzieren, ohne den CAPTCHA-Code einzugeben oder sie falsch einzugeben.  **Problemumgehung**: Aktualisieren Sie die Seite. <!-- MC-40506-->

**Problem**: Die Anwendung erstellt eine Bestellung auf dem Braintree wie erwartet, wenn ein Käufer auf **Bezahlen mit Venmo** klickt, die Bestellung jedoch nicht in der Admin-Konsole erstellt. Siehe bekanntes Problem [2.4.2: Braintree Venmo-Zahlung funktioniert nicht](https://support.magento.com/hc/en-us/articles/360054662652/) Knowledge Base-Artikel.  <!-- BUNDLE-2894-->

**Problem**: Sie können die `addConfigurableProductToCart` GraphQL-Mutation nicht verwenden, um ein konfigurierbares Produkt in einer nicht standardmäßigen Store-Ansicht in einer Bereitstellung mit mehreren Stores, in der &quot;Bestand&quot;ausgeführt wird, einem Warenkorb hinzuzufügen. (Luma-Storefronts sind nicht betroffen.) Die Anwendung zeigt diesen Fehler an: `Could not add item to cart. Please check required options and try again`. **Problemumgehung**: Verwenden Sie stattdessen die `addProductsToCart` -Mutation. [GitHub-31660](https://github.com/magento/magento2/issues/31660)<!-- PWA-1298-->

## Gemeinschaftsbeiträge

Wir sind der weiteren Magento Open Source-Community dankbar und möchten ihre Beiträge zu dieser Version würdigen.

Das Community-Engineering-Team [Magento Contributors](https://magento.biterg.io/app/kibana) führt nach Monat, Quartal und Jahr eine Liste der beitragenden Personen und Partner. Auf dieser Mitarbeiter-Seite können Sie Links zu ihren zusammengeführten PRs auf GitHub folgen.

### Partnerbeiträge

In der folgenden Tabelle sind die Beiträge von Partnern aufgeführt. In dieser Tabelle sind der Partner aufgeführt, der die Pull-Anforderung beigetragen hat, die externe Pull-Anforderung und die GitHub-Problemnummer, die mit ihr verknüpft ist (sofern verfügbar).

{{$include /help/_includes/release-notes/engcomm-2-4-2-partner.md}}

### Individuelle beitragende Faktoren

In der folgenden Tabelle sind die Beiträge unserer Community-Mitglieder aufgeführt. In dieser Tabelle sind die externen Pull-Anforderungen, die GitHub-Problemnummer, die damit verknüpft ist (sofern verfügbar), und das Community-Mitglied, das die Pull-Anforderung beigetragen hat, aufgeführt.

{{$include /help/_includes/release-notes/engcomm-2-4-2-issues.md}}

### Systemanforderungen

Unser Technologiestapel basiert auf PHP und MySQL. Weitere Informationen finden Sie unter [Systemanforderungen](../../../installation/system-requirements.md).

### Installations- und Upgrade-Anweisungen

Sie können Magento Open Source 2.4.2 mit [Composer](../../../installation/composer.md) installieren.

## Migrationstools

Mit dem Datenmigrationswerkzeug können Sie vorhandene Magento 1.x-Speicherdaten auf Magento 2.x übertragen. Diese Befehlszeilenschnittstelle umfasst Funktionen für Überprüfung, Fortschrittsverfolgung, Protokollierung und Tests. Installationsanweisungen finden Sie unter [Installieren des Datenmigrationswerkzeugs](../../../tools/data-migration-tool/install.md). Sie sollten das [Datenmigrations-Repository](https://github.com/magento/data-migration-tool) erkunden oder dazu beitragen.

Mit dem [Code Migration Toolkit](https://github.com/magento-commerce/code-migration) können Sie vorhandene Magento 1.x Store-Erweiterungen und -Anpassungen auf Magento 2.x übertragen. Die Befehlszeilenschnittstelle enthält Skripte zum Konvertieren von Magento 1.x-Modulen und -Layouts.
