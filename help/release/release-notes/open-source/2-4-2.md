---
title: Versionshinweise zu Magento Open Source 2.4.2
description: Erfahren Sie mehr über neue Funktionen, Verbesserungen, Fehlerbehebungen und bekannte Probleme in der Magento Open Source 2.4.2.
recommendations: noCatalog
exl-id: 01e90bcb-d43c-4daa-9669-44e3370102af
source-git-commit: 95ea96a566b0579a22b2ba738bd4a4bceef8cd9c
workflow-type: tm+mt
source-wordcount: '12958'
ht-degree: 0%

---

# Versionshinweise zu Magento Open Source 2.4.2

In Magento Open Source 2.4.2 werden Leistungs- und Sicherheitsverbesserungen sowie erhebliche Plattformverbesserungen eingeführt. Zu den Sicherheitsverbesserungen gehört die Erweiterung der Unterstützung für das `SameSite`-Attribut für alle Cookies. Elasticsearch 7.9.x und Redis 6.x werden jetzt unterstützt.

Diese Version enthält über 280 neue Fehlerbehebungen am Kern-Code und 35 Sicherheitsverbesserungen. Es beinhaltet die Lösung von fast 290 GitHub-Problemen durch unsere Community-Mitglieder. Diese Community-Beiträge reichen von einer kleineren Bereinigung des Kern-Codes bis hin zu signifikanten Verbesserungen in GraphQL.

Alle in 2.4.1 identifizierten bekannten Probleme wurden in dieser Version behoben.

{{bics}}

## Wenden Sie `AC-3022.patch` an, um DHL weiterhin als Versandunternehmen anzubieten

DHL hat die Schemaversion 6.2 eingeführt und wird die Schemaversion 6.0 in naher Zukunft einstellen. Adobe Commerce 2.4.4 und frühere Versionen, die die DHL-Integration unterstützen, unterstützen nur Version 6.0. Händler, die diese Versionen bereitstellen, sollten `AC-3022.patch` so bald wie möglich beantragen, DHL weiterhin als Reederei anzubieten. Informationen [ Herunterladen und Installieren des Patches finden Sie im Knowledgebase-Artikel ](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier)Apply a patch to continue offer DHL as shipping carrier) .

## Sicherheits-Patch verfügbar

Händler können jetzt zeitkritische Sicherheitskorrekturen installieren, ohne die Hunderte von funktionalen Korrekturen und Verbesserungen anzuwenden, die eine vollständige vierteljährliche Version bereitstellt (z. B. 2.4.1-p1). Patch 2.4.0.12 (Composer-Paket 2.4.1-p1) ist ein Sicherheits-Patch, der Fehlerbehebungen für Sicherheitslücken bietet, die in unserer vorherigen vierteljährlichen Version 2.4.1 identifiziert wurden. Alle Hotfixes, die auf die Version 2.4.1 angewendet wurden, sind in diesem Sicherheits-Patch enthalten. (Ein *Hotfix* bietet eine Fehlerbehebung für eine veröffentlichte Version, die ein bestimmtes Problem oder einen Fehler behebt.)

Allgemeine Informationen zu Sicherheits-Patches finden Sie unter [Einführung in die neue Sicherheits-Patch-Version](https://community.magento.com/t5/Magento-DevBlog/Introducing-the-New-Security-Patch-Release/ba-p/141287). Anweisungen zum Herunterladen und Anwenden von Sicherheits-Patches (einschließlich Patch 2.4.1-p1) finden Sie [Schnellstart für die lokale Installation](../../../installation/composer.md). Sicherheits-Patches enthalten nur Sicherheitsfehlerbehebungen, nicht aber die zusätzlichen Sicherheitsverbesserungen, die im vollständigen Patch enthalten sind.

## Weitere Versionsinformationen

Obwohl der Code für diese Funktionen mit vierteljährlichen Releases gebündelt ist, werden mehrere dieser Projekte (z. B. Progressiven Webs Application (PWA Studio)) ebenfalls unabhängig voneinander veröffentlicht. Fehlerbehebungen für diese Projekte werden in den separaten, projektspezifischen Versionsinformationen dokumentiert, die in der Dokumentation für jedes Projekt verfügbar sind.

## Highlights

Achten Sie auf die folgenden Highlights in dieser Version.

### Wesentliche Sicherheitsverbesserungen

Diese Version umfasst mehr als 35 Sicherheitskorrekturen und Verbesserungen der Plattformsicherheit. Alle Sicherheitskorrekturen wurden auf 2.4.1-p1 und 2.3.6-p1 rückportiert.

#### Mehr als 35 Sicherheitsverbesserungen, die die Schwachstellen bei Remote Code Execution (RCE) und Cross-Site Scripting (XSS) beheben

Bisher sind keine bestätigten Angriffe im Zusammenhang mit diesen Problemen aufgetreten. Bestimmte Schwachstellen können jedoch ausgenutzt werden, um auf Kundeninformationen zuzugreifen oder Administratorsitzungen zu übernehmen. Die meisten dieser Probleme erfordern, dass ein Angreifer zunächst Zugriff auf den Administrator erhält. Daher erinnern wir Sie daran, alle erforderlichen Schritte zu unternehmen, um Ihren Administrator zu schützen, einschließlich, aber nicht beschränkt auf diese Bemühungen: IP-Zulassungsauflistung, [Zwei-Faktor-Authentifizierung](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/), die Verwendung eines VPN, die Verwendung eines eindeutigen Standorts anstelle von `/admin` und gute Passworthygiene. Unter [Adobe-Sicherheitsbulletin](https://helpx.adobe.com/de/security/products/magento/apsb21-08.html) finden Sie eine Erläuterung dieser behobenen Probleme.

#### Zusätzliche Sicherheitsverbesserungen

Zu den Sicherheitsverbesserungen für diese Version gehören:

* Alle Core-Cookies unterstützen jetzt das `SameSite`.

* Die Anwendung zeigt jetzt Meldungen an, die potenziell schadhaften Inhalt in Produkt- und Kategoriebeschreibungsfeldern identifizieren, wenn Benutzende versuchen, Werte in diesen Feldern zu speichern.

* Dateisystemvorgänge in allen Komponenten wurden standardisiert und gehärtet, um böswillige Uploads zu verhindern.

* Verstöße gegen die Core Content Security Policy (CSP) wurden behoben.

{{cve-notice}}

### Verbesserungen der Infrastruktur

Diese Version enthält Verbesserungen der Kernqualität, die die Qualität des Frameworks und diese Funktionsbereiche verbessern: Kundenkonto, Katalog, CMS, OMS, Import/Export, Promotions und Targeting sowie Warenkorb und Checkout.

### Plattformverbesserungen

* [**Elasticsearch 7.9.x wird jetzt unterstützt**](../../../installation/system-requirements.md). Obwohl die Ausführung von Elasticsearch 7.9.x empfohlen wird, bleibt Version 2.4.x mit Elasticsearch 7.4.x kompatibel. <!-- MC-36867-->

* 2.4.2 wurde mit (Lack [.4) ](../../../installation/system-requirements.md). Version 2.4.x bleibt kompatibel mit Lack 6.x.

* [**Redis 6.x wird jetzt unterstützt**](../../../installation/system-requirements.md). Version 2.4.x bleibt kompatibel mit Redis 5.x. <!-- MC-34853-->

* 2.4.2 ist jetzt mit **Composer 2.x** kompatibel. Es wird empfohlen, dass Händler zu Composer 2.x migrieren. Obwohl Sie diese Version mit Composer 1.x installieren können, wird Composer 1.x bald das Ende der Lebensdauer erreichen. Einen Überblick über die Funktionen von Composer 2.x finden Sie unter [Composer 2.0 ist jetzt verfügbar!](https://blog.packagist.com/composer-2-0-is-now-available/)

Die Möglichkeit, eine Installation für die Verwendung einer geteilten Datenbank zu konfigurieren, wird in dieser Version nicht mehr unterstützt. Händler, die derzeit die Split-Datenbank verwenden, sollten mit der Planung beginnen, zu einer einzelnen Datenbank zurückzukehren oder zu ihr zu migrieren, oder einen alternativen Ansatz verwenden. Einen Überblick über dieses Problem [ Sie im DevBlog-Beitrag ](https://community.magento.com/t5/Magento-DevBlog/Deprecation-of-Split-Database-in-Magento-Commerce/ba-p/465187)Einstellung der Split-Datenbankfunktionalität in Magento Open Source&quot;.  Migrationsanweisungen [ Sie unter „Von einer geteilten Datenbank auf eine einzelne ](../../../configuration/storage/revert-split-database.md) zurücksetzen“.

### Leistungsverbesserungen

Diese Version enthält Code-Verbesserungen, die die API-Leistung und die Reaktionszeit von Administratoren bei Bereitstellungen mit großen Katalogen verbessern. Dank mehrerer Erweiterungen der Skalierbarkeit unterstützt 2.4.2 nativ komplexe Kataloge, die bis zu 20-mal größer sind als in früheren Versionen.

### Adobe Stock-Integration

Diese Version enthält Adobe Stock Integration v2.1.1.

### GraphQL

Mit dieser Version werden die folgenden Funktionen von GraphQL abgedeckt:

* Es wurde Unterstützung für [Vergleichslisten](https://developer.adobe.com/commerce/webapi/graphql/schema/products/queries/compare-list/) hinzugefügt. Käufer können [ Vergleichslisten ](https://developer.adobe.com/commerce/webapi/graphql/schema/products/mutations/create-compare-list/) und [löschen](https://developer.adobe.com/commerce/webapi/graphql/schema/products/mutations/delete-compare-list/) sowie Elemente [hinzufügen](https://developer.adobe.com/commerce/webapi/graphql/schema/products/mutations/add-products-to-compare-list/) und [entfernen](https://developer.adobe.com/commerce/webapi/graphql/schema/products/mutations/remove-from-compare-list/) zu den Vergleichslisten hinzufügen. Darüber hinaus können sich Kunden, die eine Vergleichsliste als Gast erstellen, als Kunde anmelden und [ Vergleichslisten ](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/assign-compare-list/) (aufbewahren).

* Es wurde die [`generateCustomerTokenAsAdmin`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/generate-token-as-admin/)-Mutation hinzugefügt und das `Customer`-Objekt wurde aktualisiert, um die Unterstützung für den Remote-Einkauf zu unterstützen.

* Es wurde Lokalisierungsunterstützung für Stores hinzugefügt, um Aufgaben wie das Ändern von Sprachen, Warenkörben und Währungen zu unterstützen. <!-- MC-37801-->

* Hinzugefügte Unterstützung für Gewerkschaften in GraphQL. [GitHub-29425](https://github.com/magento/magento2/issues/29425)-<!-- ENGCOM-8291 -->

* Das GraphQL-Schema wurde verbessert, um den Abruf von Produktdaten für konfigurierbare Produkte mit vielen Varianten zu optimieren. <!-- MC-36138-->

* Objekt-IDs vom Typ Ganzzahl werden nicht mehr unterstützt und durch `uid` Attribute vom Typ „ID“ ersetzt. <!-- MC-36346-->

* Das Attribut `staging` wurde der [`ProductInterface`](https://developer.adobe.com/commerce/webapi/graphql/schema/products/interfaces/attributes/) und der [`CategoryInterface`](https://developer.adobe.com/commerce/webapi/graphql/schema/products/interfaces/category/) hinzugefügt, um zu bestimmen, ob ein Produkt bereitgestellt wird, und um die zugehörigen Kampagneninformationen anzuzeigen. <!-- MC-33897-->

Weitere Informationen zu diesen Verbesserungen finden Sie [&#128279;](https://developer.adobe.com/commerce/webapi/graphql/) GraphQL-Entwicklerhandbuch.

### PWA Studio

Diese Version von PWA Studio umfasst:

* Internationalisierung und Lokalisierung. Venia bietet jetzt Unterstützung für mehrere Sprachen und Währungen.

* Verbessertes Erweiterbarkeits-Framework, um Code-Änderungen durch Erweiterungen zu unterstützen.

* Anfangskomponenten für „Mein Konto“-Funktionen wie Wunschliste, Gespeicherte Zahlungen, Adressbuch und Auftragsverlauf.

* Verschiedene Leistungsoptimierungen und Fehlerbehebungen.

Weitere Informationen zu Verbesserungen und Fehlerbehebungen finden Sie unter [PWA Studio-Versionen](https://github.com/magento/pwa-studio/releases). Unter [Kompatibilität](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) finden Sie eine Liste der PWA Studio-Versionen und der entsprechenden kompatiblen Versionen.

### Mediensammlung

**Neue Rollenressourcen für Media Gallery**. Diese Version bietet Händlern die Möglichkeit, den Administratorzugriff nur auf die Mediensammlung zu beschränken und zu steuern, wer diese Aktionen ausführen kann:

* Einfügen von Medien-Assets in Inhalte

* Hochladen von Assets

* Asset-Details bearbeiten

* Löschen von Assets aus der Mediensammlung

* Verwalten der Ordnerstruktur.

**Web-optimierte Bilder im Inhalt**. Händler können jetzt [Web-optimierte ](https://experienceleague.adobe.com/de/docs/commerce-admin/content-design/wysiwyg/gallery/media-gallery-image-optimization)) anstelle von hochauflösenden Bildern in Inhalten verwenden. Das Originalbild bleibt in der Mediensammlung unverändert und die Bildausgabedarstellung wird dynamisch generiert, wenn das Bild in den Inhalt eingefügt wird.

### Funktionstest-Framework (MFTF)

MFTF 3.2.1 ist jetzt verfügbar. Diese Version führt Fehlertoleranzen sowohl bei Tests als auch bei der Erstellung von Test-Suites ein. Weitere Verbesserungen und Fehlerbehebungen werden im &quot;[ Framework-Änderungsprotokoll“ ](https://github.com/magento/magento2-functional-testing-framework/blob/develop/CHANGELOG.md).

### Vom Anbieter entwickelte Erweiterungen

In den folgenden Artikeln finden Sie Aktualisierungen zu Funktionen und Änderungen in dieser Version:

* [Amazon Pay](https://marketplace.magento.com/amzn-amazon-pay-magento-2-module.html)

* [Braintree](https://experienceleague.adobe.com/de/docs/commerce-admin/stores-sales/payments/braintree)

* [dotdigital Engagement Cloud](https://marketplace.magento.com/dotdigital-dotdigital-magento2-os-package.html)

* [Klarna](https://marketplace.magento.com/klarna-m2-klarna.html)

* [Vertex Cloud](https://marketplace.magento.com/vertexinc-vertex-tax-module.html)

* [Totop-Produktbewertungen](../../../upgrade/modules/upgrade.md)

### Verbesserungen bei der AWS S3-Unterstützung

Die Unterstützung für den Amazon Simple Storage Service (AWS S3) wurde erweitert und umfasst jetzt auch:

* Objektspeicher und zukünftige Erweiterbarkeit

* [Speichern von Mediendateien](../../../configuration/remote-storage/remote-storage.md) auf AWS S3

## Behobene Probleme

Wir haben Hunderte von Problemen im 2.4.2-Kern-Code behoben.

### Installation, Upgrade, Bereitstellung

<!-- MC-38429-->

* Die Möglichkeit, eine Installation für die Verwendung einer geteilten Datenbank zu konfigurieren, wird in dieser Version nicht mehr unterstützt. Siehe den [Einstellung der Split-Datenbankfunktionalität in Magento Open Source](https://community.magento.com/t5/Magento-DevBlog/Deprecation-of-Split-Database-in-Magento-Commerce/ba-p/465187) DevBlog-Beitrag.

<!-- MC-36472-->

* Händler können jetzt erfolgreich eine Open Source-Bereitstellung, die MySQL 8.x ausführt, auf eine Commerce-Bereitstellung aktualisieren. Zuvor gab die Anwendung eine Ausnahme aus, wenn `AUTO_INCREMENT` Werte für alle Tabellen, denen während des Upgrades `row_id` hinzugefügt wurden, auf die Anfangswerte zurückgesetzt wurden.

<!-- ENGCOM-7280 -->

* Die Anwendung zeigt jetzt eine Fehlermeldung an, die den Pfad angibt, der zum Erstellen des Patches verwendet wurde, wenn beim Ausführen von `bin/magento/setup:db:generate-patch` ein Fehler auftritt. [GitHub-27523](https://github.com/magento/magento2/issues/27523)

<!-- ENGCOM-8029 -->

* `block_html`-, `full_page`- und `layout`-Caches sind jetzt nach `bin/magento/setup:upgrade` Ausführung wie erwartet deaktiviert.  [GitHub-28186](https://github.com/magento/magento2/issues/28186)

<!-- ENGCOM-8184 -->

* Die mindestens erforderliche PHP-Version in `bootstrap.php` wurde aktualisiert. [GitHub-30004](https://github.com/magento/magento2/issues/30004)

<!-- MC-38788-->

* Sie können `bin/magento/setup:upgrade` jetzt nach der Installation der Beispieldaten ausführen. Zuvor hat die Anwendung beim Versuch, `bin/magento/setup:upgrade` auszuführen, folgenden Fehler angezeigt: `unable to apply data patch magento\catalogrulesampledata\setup\patch\data\installcatalogrulesampledata for module magento_catalogrulesampledata`. Die Anwendung zeigte diesen Fehler auch im Systemprotokoll an: `main.ERROR: Sample Data error: Unable to unserialize value. Error: Syntax error`. [GitHub-30685](https://github.com/magento/magento2/issues/30685)

<!-- MC-36785-->

* Sie können jetzt einen YouTube-API-Schlüssel wie erwartet über die Befehlszeile festlegen. Zuvor hat die Anwendung diesen Fehler zurückgegeben, als Sie versucht haben, `bin/magento config:sensitive:set catalog/product_video/youtube_api_key` auszuführen: `There are no sensitive configurations to fill`.

<!-- ENGCOM-8163 -->

* Die Anwendung berücksichtigt jetzt die `maxMessages` Werte, die in `queue_consumer.xml` definiert sind. Zuvor verwendete die Anwendung nur die Werte der Bereitstellungskonfiguration. [GitHub-29522](https://github.com/magento/magento2/issues/29522)

<!-- ENGCOM-8243 -->

* Die URL-Generierung für einen neuen Store funktioniert jetzt wie erwartet, wenn der Store mit `bin/magento setup:config:import` erstellt wird. Zuvor wurden URL-Neuschreibungen nicht in Produktionsumgebungen generiert. [GitHub-30025](https://github.com/magento/magento2/issues/30025)

<!-- ENGCOM-8230 -->

* Die Anwendung gibt keinen Fehler mehr aus, wenn Sie versuchen, nach der Installation von Magento Open Source mithilfe des `ssh`-Containers `backend-frontname` zu wechseln. [GitHub-26762](https://github.com/magento/magento2/issues/26762)

<!-- ENGCOM-8230 -->

* Die Anwendung zeigt diese Frage nicht mehr an, wenn Sie `bin/magento setup:install` ausführen, um eine Verbindung zur vorhandenen Datenbank herzustellen: `Overwrite the existing configuration for db-ssl-verify?[Y/n]`. [GitHub-29612](https://github.com/magento/magento2/issues/29612)

### Adobe Stock-Integration

<!-- ENGCOM-8020-->

* Es wurde Unterstützung zum Lesen von `exif_image.png` oder `exif-image.jpeg` Metadaten hinzugefügt. [GitHub-1449](https://github.com/magento/adobe-stock-integration/issues/1449)

<!-- ENGCOM-8194 8094 8147-->

* Der Inhalt, der angezeigt wird, wenn Sie auf das Lesezeichen „Standardansicht“ für die Mediensammlung klicken, wird nicht mehr gefiltert. Zuvor enthielt die Standardansicht einen Filter, der von `url-filter` Anwendung angewendet wurde. [GitHub-1813](https://github.com/magento/adobe-stock-integration/issues/1813), [GitHub-1789](https://github.com/magento/adobe-stock-integration/issues/1789), [GitHub-1780](https://github.com/magento/adobe-stock-integration/issues/1780)

<!-- ENGCOM-8070 -->

* Die Logik wurde vom WYSIWYG OnInsert-Controller (`Magento\Cms\Controller\Adminhtml\Wysiwyg\Images\OnInsert::execute()`) entfernt und dem `Model\Wysiwyg\Images\PrepareImage::execute()` hinzugefügt. [GitHub-1504](https://github.com/magento/adobe-stock-integration/issues/1504)

<!-- ENGCOM-8081 -->

* Die Bereichsemulation wurde aus dem `media-content:sync`-Befehl entfernt (`\Magento\MediaContentSynchronization\Console\Command\Synchronize::execute`). [GitHub-1784](https://github.com/magento/adobe-stock-integration/issues/1784)

### Analytics

<!-- MC-37137-->

* Die erweiterte Berichterstellung funktioniert jetzt für mehrere Umgebungen in derselben Domain wie erwartet. Zuvor schlugen CSV-Dateien, die von erweiterten Berichten generiert wurden, fehl, da doppelte Anführungszeichen mit umgekehrten Schrägstrichen maskiert wurden, anstatt mit einem anderen doppelten Anführungszeichen, wie es der CSV-Standard RFC4180 erfordert.

<!-- MC-35996-->

* Der `analytics_collect_data` wird jetzt erfolgreich ausgeführt, wenn entweder der Standard- oder der Nicht-Standard-Port verwendet wird, um in `env.php` eine Verbindung zu MySQL herzustellen. Zuvor gab `analytics_collect_data` einen Fehler aus, wenn Sie den nicht standardmäßigen Port verwendet haben.

<!-- MC-35407-->

* CSV-Dateien, die von `analytics_collect_data` generiert werden, sind jetzt ordnungsgemäß maskiert. Zuvor wurden diese Dateien nicht mit der richtigen Maskierung generiert, was die Erstellung von Inventarberichten verhinderte.

### Braintree

* Käufer können jetzt Apple Pay verwenden, um eine Bestellung für virtuelle Produkte erfolgreich aufzugeben. Zuvor gab die Anwendung den folgenden Fehler aus: `There are no shipping methods available for you right now. Please try again or use an alternative payment method`.

* Die standardmäßige PayPal Express Checkout-Zahlungsmethode funktioniert jetzt wie erwartet mit der Braintree-Kreditkartenzahlungsmethode. Zuvor zeigte die Anwendung nicht die Schaltfläche **PayPal** an, wenn die Braintree-Kreditkartenzahlungsmethode aktiviert war.

### Produkte im Paket

<!-- MC-34063-->

* Die Anwendung legt keine Preise mehr für untergeordnete Artikel von Festpreis-Paketen in Angeboten fest.

<!-- MC-38050-->

* Die Preissortierung funktioniert jetzt wie erwartet, wenn Bundle-Produkte nicht vorrätige Produkte enthalten. Bislang wurden beim Sortieren des Preises in absteigender Reihenfolge keine Produkte in absteigender Reihenfolge angezeigt.

<!-- MC-38576-->

* Die Anwendung wendet jetzt automatisch eine Standardmenge von 1 für Bundle-Produktoptionen an, wenn viele Optionen vorhanden sind. Zuvor mussten Händler jeder Option manuell eine Standardmenge zuweisen.

<!-- ENGCOM-8159 -->

* Auf der Seite „Rechnung erstellen“ werden nun die untergeordneten Produkte für Bundle-Produkte wie erwartet angezeigt. [GitHub-27350](https://github.com/magento/magento2/issues/27350)

<!-- MC-38460 -->

* Die Anwendung weist jetzt die richtigen Produktpreise zu, wenn Sie einfache Produkte, die Teil eines Produktpakets sind, mit einem benutzerdefinierten Preis neu bestellen. Zuvor führte die Festlegung eines benutzerdefinierten Preises für ein Bundle-Produkt bei der Neubestellung zu falschen Preisen für angehängte einfache Produkte. [GitHub-30343](https://github.com/magento/magento2/issues/30343)

<!-- MC-30348 -->

* Wenn Sie POST `/V1/order/{orderId}/ship` aufrufen, um eine Bestellung zu versenden, die ein Produktpaket enthält, wird die Bestellung jetzt als abgeschlossen markiert. Zuvor hat die Anwendung diese Fehlermeldung angezeigt: `You can't create a shipment without products`. [GitHub-9762](https://github.com/magento/magento2/issues/9762)

### Warenkorb und Checkout

<!-- MC-34264-->

* Die Schätzung der Versandmethode funktioniert jetzt wie erwartet, wenn benutzerdefinierte Adressattribute im Versandschritt des Checkout-Workflows vorhanden sind. Zuvor hat die Anwendung diese Fehlermeldung angezeigt: `{"message":"Error occurred during \"custom_attributes\" processing. A custom attribute is specified with a missing attribute code. Verify the code and try again."}` [GitHub-27505](https://github.com/magento/magento2/issues/27505)

<!-- MC-35783-->

* Die Anwendung zeigt jetzt die `You have no items in your shopping cart` im Mini-Warenkorb wie erwartet an, wenn ein Käufer den einzigen Artikel aus seinem Warenkorb entfernt. Zuvor wurden die Warenkorbdaten nicht für `checkout/cart/removeFailed` aktualisiert, wenn ein Käufer den einzelnen Artikel entfernte und die Anwendung diese Nachricht anzeigte: `1 product requires your attention`.

<!-- MC-36088-->

* Die Anwendung zeigt die Versandkosten für eine Bestellung für eine nicht anwendbare Versandart nicht mehr an. Zuvor hatte die Anwendung für eine nicht anwendbare Versandmethode im Checkout-Workflow den Preis 0 angezeigt.

<!-- MC-36598-->

* Die standardmäßige Rechnungsadresse eines Kunden ist jetzt ausgewählt, wenn das Kontrollkästchen **Meine Rechnungsadresse und Lieferadresse sind identisch** im Checkout-Workflow deaktiviert ist.

<!-- MC-37351-->

* Der Inhalt des Warenkorbs geht nicht mehr verloren, wenn ein Käufer von einem Geschäft in einen anderen in einer anderen Domain wechselt.

<!-- MC-38000-->

* Käufer können jetzt eine Bestellung erfolgreich abschließen, indem sie das Auschecken mit mehreren Adressen verwenden, wenn sie mehrere Versandmethoden verwenden. Zuvor hat die Anwendung diesen Fehler angezeigt: `There has been an error processing your request`. [GitHub-30197](https://github.com/magento/magento2/issues/30197)

<!-- MC-38048-->

* Die Anwendung zeigt jetzt das richtige Standardland auf der Versandseite des Checkout-Workflows an, wenn der Käufer die Shop-Ansicht vom Warenkorb aus ändert.

<!-- MC-38309-->

* Die Anwendung schließt jetzt die aktuelle Sitzung aus, wenn Kundensitzungen nach einem Zurücksetzen des Passworts nach der Abmeldung bereinigt werden, wenn ein Gastkäufer angemeldet ist. Zuvor hat die Anwendung den Warenkorb geleert, wenn der Käufer sein Kennwort zurückgesetzt hat.

<!-- MC-36884-->

* Die Anwendung zeigt jetzt das richtige Standardland für eine Shop-Ansicht an, wenn ein Käufer die Shop-Ansicht im Warenkorb ändert. Zuvor, als die Store-Ansicht im Warenkorb geändert wurde, war das Standardland falsch.

<!-- MC-38746-->

* Redundante Aufrufe an den `/rest/V1/guest-carts/cart_id/totals-information`-Endpunkt im Warenkorb wurden entfernt, wodurch die Warenkorbleistung verbessert wurde. Wenn ein Käufer zuvor ein Produkt zum Warenkorb hinzugefügt und dann den Warenkorb angesehen hat, hat die Anwendung die `collectAddressTotals`-Methode mehrmals aufgerufen.

<!-- MC-38833-->

* Die Anwendung zeigt das Feld **Region** für ein Land im Checkout-Workflow nicht mehr an, wenn die Einstellung **Status auswählen, wenn dies für Land optional ist** deaktiviert ist. [GitHub-30747](https://github.com/magento/magento2/issues/30747)

<!-- MC-38813-->

* Die Anwendung wiederholt eine Versandadresse im Checkout-Workflow für Storefronts nicht mehr, wenn eine Bestellung vom Administrator neu bestellt wird.

<!-- MC-38814-->

* Es wurden Probleme beim Design von `AdminMediaGalleryInsertLargeImageFileSizeTest` behoben.

<!-- MC-37321-->

* Allen neuen Datensätzen in der `quote` für Gäste wird jetzt in der `customer_is_guest field` der Wert 1 zugewiesen. Zuvor wurde jedem neuen Gast, der ein Produkt in den Warenkorb gelegt hat, im Feld `quote.customer_is_guest` der Datensatz mit 0 zugewiesen.

<!-- ENGCOM-8091 -->

* Die Schaltfläche **Senden** im Abschnitt Überprüfung und Zahlungen des Checkout-Workflows wurde in `<form id="purchaseorder-form"...></form>` verschoben, was die implizite Formularübermittlung ermöglicht, ohne dass JavaScript geändert wird. [GitHub-27925](https://github.com/magento/magento2/issues/27925)

<!-- ENGCOM-8428 -->

* Die Anwendung zeigt das Feld **Region** im Checkout-Workflow nicht mehr an, wenn die Einstellung **Status auswählen, wenn dies für Land optional ist** deaktiviert ist. [GitHub-30747](https://github.com/magento/magento2/issues/30747)

<!-- ENGCOM-8442 -->

* Die Anwendung aktualisiert jetzt die Zwischensumme eines Warenkorbs korrekt, wenn ein Käufer beim Auschecken mit mehreren Adressen **Warenkorb aktualisieren** klickt. [GitHub-30408](https://github.com/magento/magento2/issues/30408)

<!-- ENGCOM-8283 -->

* Die Anwendung löst keine Ausnahme mehr aus, wenn `config.xml` Knoten für Zahlungsmethoden vorhanden sind, die derzeit nicht installiert sind. Zuvor gab die Anwendung beim Auschecken eine Ausnahme aus. [GitHub-29555](https://github.com/magento/magento2/issues/29555)

<!-- ENGCOM-8215 -->

* Die Anwendung rendert jetzt Produktnamen, die Sonderzeichen enthalten, korrekt im Mini-Warenkorb. [GitHub-29075](https://github.com/magento/magento2/issues/29075)

<!-- ENGCOM-8308 -->

* Die Anwendung legt jetzt das richtige Rabattpaket für den Tabellensatz fest. Zuvor hat die Anwendung bei der Berechnung des Tabellensatzes keine Warenkorbregel angewendet, die einen Rabatt auf den Warenkorb festlegt. [GitHub-30169](https://github.com/magento/magento2/issues/30169)

### Warenkorb-Preisregel

* Die Warenkorbpreisregeln werden jetzt wie erwartet angewendet, wenn die Zwischensummen der Bestellungen ohne Berücksichtigung der Steuer berechnet werden. Die neue `Subtotal (Incl. Tax)`-Option wurde als Bedingung für eine Warenkorbpreisregel hinzugefügt.

<!-- MC-37884-->

* Die Anwendung einer Preisregel mit einem Coupon mithilfe von GraphQL funktioniert jetzt wie erwartet, wenn die **Festbetragsrabatt für den gesamten Warenkorb** verwendet wird.

### Katalog

<!-- MC-34100-->

* Das Programm zeigt jetzt alle erneut aktivierten Produkte wie erwartet in der Storefront an. Wenn ein Produkt deaktiviert und dann erneut aktiviert wurde, hat die Anwendung das Produkt erst angezeigt, nachdem der Cache für Lackseiten gelöscht oder der Speicher neu indiziert wurde, da der Seitencache nach der erneuten Aktivierung eines Produkts nicht ungültig gemacht wurde.

<!-- MC-37745-->

* Die teilweise Neuindizierung großer Kataloge funktioniert jetzt erwartungsgemäß. Zuvor verschwanden Produkte zufällig während der Neuindizierung mit dem `catalogsearch_fulltext` partiellen Indexer von der Kategorieseite der Storefront.

<!-- MC-35123-->

* Käufer können jetzt eine fakturierte Bestellung eines Produkts mit anpassbaren Optionen wie erwartet neu bestellen. Zuvor gab die Anwendung diesen Fehler aus, wenn ein Käufer versuchte, Folgendes neu zu bestellen: `{"0":"The product's required option(s) weren't entered. Make sure the options are entered and try again`.

<!-- MC-35212-->

* Sie können jetzt die Einstellung **Layout** auf der Seite „Kategoriedesign“ erfolgreich auf &quot;**Layout-Aktualisierungen“**. Zuvor wurde die Anwendung auf **Kategorie - FullWidth** zurückgesetzt, als Sie den Wert **Keine Layout-Aktualisierungen** zugewiesen haben.

<!-- MC-35490-->

* Probleme mit der Sortierreihenfolge von Produkten in der Storefront wurden behoben. Zuvor setzte die Anwendung, wenn sie die Produktpreise indizierte, gelegentlich die `min_price` und `max_price` eines konfigurierbaren Produkts in der `catalog_product_index_price` auf 0, was sich auf die Preissortierreihenfolge in der Storefront auswirkte.

<!-- MC-35608-->

* Die Anwendung aktualisiert jetzt erfolgreich Attribute mit der Bezeichnung `Product Type`. Da das Attribut `product_type` im Code reserviert war, hat die Anwendung diese Meldung angezeigt, als Sie versucht haben, ein `Product Type` Attribut zu aktualisieren: `An attribute with the same code (product_type) already exists.`

<!-- MC-36214-->

* Die Anwendung ändert die Position eines hochgeladenen Videos im Abschnitt Bilder und Videos auf der Produktdetailseite nicht mehr, wenn Sie das Produkt speichern. Zuvor wurde der neuen Bildposition ein Indexwert (Position in der Liste) zugewiesen und wenn vorhandene Bildpositionen nicht mit ihren Indexwerten ausgerichtet waren, wurde das neue Bild in der Liste verlegt.

<!-- MC-36548-->

* Die Funktion **Zum Warenkorb hinzufügen** funktioniert jetzt wie erwartet, wenn die Schaltfläche **Zum Warenkorb hinzufügen** zum Klicken verfügbar ist. Wenn Sie zuvor mehrmals auf diese Schaltfläche geklickt haben, während Sie auf das Laden einer Produktseite warteten, hat die Anwendung den folgenden Fehler ausgegeben: `Invalid Form Key. Please refresh the page`.

<!-- MC-37006 36835-->

* Die Anwendung leert den Kategorie-Cache nicht mehr, wenn ein Händler deaktivierte Produkte zu einer Kategorie hinzufügt oder daraus entfernt. Zuvor hat die Anwendung den Cache für zugehörige Kategorien trotz des Produktstatus geleert. Die Zuweisung von Kategorien wurde beim Speichern einer Kategorie ebenfalls aufgehoben, was dazu führte, dass der Kategorie-Cache geleert wurde.

<!-- MC-37347-->

* Die Katalogproduktfilterung im Bereich **Alle Store-Ansicht** funktioniert jetzt ordnungsgemäß. Zuvor wurden Produkte mit dem Status `Enabled` oder `Disabled` im Raster angezeigt, während nur aktivierte oder deaktivierte Produkte gefiltert wurden.

<!-- MC-38038-->

* Eine teilweise Neuindizierung führt nicht mehr zu übersehenen Produkten und leeren Kategorien.

<!-- MC-38315-->

* Die Neuanordnung funktioniert jetzt wie erwartet, wenn **JavaScript-Kalender verwenden** aktiviert ist (**Stores** > **Configuration** > **Catalog** > **Date &amp; Time Custom Options**). Zuvor zeigte die Anwendung, wenn diese Einstellung aktiviert war, diesen Fehler an, als Sie versuchten, die zuvor aufgegebene Bestellung über die Admin: `Please specify date required option(s)` neu anzuordnen.

<!-- MC-38719-->

* Die Anwendung zeigt jetzt bei der Preiserstellung für mehrere Websites die richtige Währung an.

<!-- MC-38914-->

* Benutzerdefinierte Attribute für Produktbilder sind jetzt korrekt maskiert. Das `data-src` hat erwartungsgemäß denselben Wert wie `src` Attribut. Zuvor wurden URL-Sonderzeichen maskiert.

<!-- MC-37665-->

* Durch die Aktualisierung einer Kategorie über die REST-API wird die Einstellung **Standardwert verwenden** für die Attribute Kategorie aktivieren, In Menü einschließen und URL-Schlüssel nicht mehr deaktiviert.

<!-- MC-35363-->

* Beim Speichern einer Kategorie wird jetzt nur der Block-Cache geleert, der mit dieser Kategorie verknüpft ist. Zuvor löschte die Anwendung den Cache für alle Kategorieblöcke.

<!-- MC-30626-->

* Der Preis einer benutzerdefinierten Option mit einem Prozentpreis wird jetzt in Multi-Store-Bereitstellungen erwartungsgemäß in die Basiswährung des aktiven Stores umgerechnet. Zuvor wurde der Preis einer benutzerdefinierten Option mit einem Prozentpreis falsch umgerechnet. [GitHub-26432](https://github.com/magento/magento2/issues/26432)

<!-- MC-38890-->

* Die Anwendung erstellt nun Bilder erfolgreich neu. Diese Bilder werden in der Admin wie erwartet angezeigt, wenn ein Händler Mediensammlungsdaten mit POST `rest/all/V1/products` sendet. Zuvor wurden die Bilder von der Anwendung neu erstellt, aber gelöscht, wenn ein Händler Mediensammlungsdaten über die POST `rest/all/V1/products` gesendet hat, wenn die Bilder in `pub/media` gelöscht wurden, aber noch Datensätze in den Medien vorhanden waren, die Datensätze für diese Bilder enthielten. Daher sah der Händler nur Platzhalter im Admin-Bereich, da die Bilder während des Aktualisierungsprozesses erstellt und gelöscht wurden.

<!-- MC-36903-->

* Datensätze werden jetzt erwartungsgemäß gelöscht, wenn Sie die Zuweisung eines Elements auf einer Website aufgehoben haben. Zuvor wurden Bilder bei der Ausführung von POST `rest/all/V1/products` dupliziert.

<!-- MC-38413-->

* Der `/V1/categories/{categoryId}/products`-Aufruf gibt jetzt wie erwartet eine Liste aller Produkte zurück, die zur übergeordneten Kategorie gehören. Wenn ein Produkt zu mehr als einer Unterkategorie der übergeordneten Kategorie gehörte, gab die Anwendung diesen Fehlertyp aus: `Internal Error. Details are available in the application log file. Report ID: webapi-5f8579e37db54`.  [GitHub-30461](https://github.com/magento/magento2/issues/30461)

<!-- MC-32996-->

* Der `/V1/products/attributes/:attributeCode/options` REST-Endpunkt unterstützt jetzt die Aktualisierung einer vorhandenen Attributoption.

<!-- MC-30626 ENGCOM-8475-->

* Der Preis einer benutzerdefinierten Option mit einem Prozentpreis wird jetzt in Multi-Store-Bereitstellungen erwartungsgemäß in die Basiswährung des aktiven Stores umgerechnet. Zuvor wurde der Preis einer benutzerdefinierten Option mit einem Prozentpreis falsch umgerechnet. [GitHub-26432](https://github.com/magento/magento2/issues/26432)

<!-- ENGCOM-8395 -->

* Händler können jetzt während der Produkterstellung erfolgreich ein neues Attribut speichern. Zuvor hat die Anwendung das Attribut nicht gespeichert und den Händler auf die Startseite der Store-Ansicht umgeleitet, als er versucht hat, das Attribut zu speichern. [GitHub-30362](https://github.com/magento/magento2/issues/30362)

<!-- ENGCOM-7997 -->

* Die Produktraster auf den Seiten **Verkauf** > **Bestellungen** und **Katalog** > **Produkte** enthalten jetzt alle relevanten Stores, nicht nur den zuletzt erstellten Store. [GitHub-29267](https://github.com/magento/magento2/issues/29267)

<!-- ENGCOM-6698 -->

* Das Produkt-Repository verwendet jetzt `store_id`, wenn verfügbar, um Attributwerte für ein vorhandenes Produkt zu speichern.  Zuvor hat die Produkt-Repository-Klasse die Produktspeicher-ID überschrieben und immer die standardmäßige Speicher-ID zugewiesen. [GitHub-29933](https://github.com/magento/magento2/issues/29933)

### Katalogregel

<!-- MC-35065-->

* Katalogpreisregeln funktionieren jetzt wie erwartet mit benutzerdefinierten Optionen auf Produktdetailseiten. Zuvor entsprachen die Produktpreise auf dieser Seite nicht den geltenden Katalogpreisregeln. [GitHub-22856](https://github.com/magento/magento2/issues/22856)

<!-- MC-34265-->

* Produkt- und Katalog-Caches laufen jetzt wie geplant ab. Zuvor waren Caches täglich abgelaufen, da `сron` die `catalogrule_apply_all`-Aufgabe einmal täglich ausgeführt haben. Dadurch wurden alle Katalogregeln und abhängigen Indexer neu indiziert und der Cache für alle Produkte und Kategorien geleert.

### Bereinigung

#### Tippfehler- und Grammatikbereinigung

<!-- ENGCOM-7967 -->

* Der Titel der Seite mit den fehlgeschlagenen Bestellungen wurde auf Korrektheit überprüft. Zuvor trug diese Seite den Titel: **Wir haben Ihre Bestellung erhalten!**.  [GitHub-29416](https://github.com/magento/magento2/issues/29416)

<!-- ENGCOM-8101 -->

* Unnötige Leerzeichen in `app/code/Magento/Contact/view/frontend/templates/form.phtml` wurden entfernt. [GitHub-29779](https://github.com/magento/magento2/issues/29779)

<!-- ENGCOM-7716 -->

* Fehlerkorrektur - Tippfehler in der Hilfemeldung für den Unterbefehl `bin/magento/setup:config:set` wurden korrigiert.  [GitHub-28802](https://github.com/magento/magento2/issues/28802)

<!-- ENGCOM-8058 -->

* Grammatik im PHPDoc für die `framework/Registry.php` korrigiert. [GitHub-29661](https://github.com/magento/magento2/issues/29661)

<!-- ENGCOM-8273 -->

* Entfernte überflüssige Leerzeichen aus `app/code/Magento/Catalog/Helper/Product/View.php`. [GitHub-30601](https://github.com/magento/magento2/issues/30601)

<!-- ENGCOM-8181 -->

* Fehlerkorrektur - Ein Tippfehler im Funktionsnamen in `app/code/Magento/Ui/view/base/web/js/form/element/ui-select.js` wurde korrigiert. [GitHub-29987](https://github.com/magento/magento2/issues/29987)

<!-- ENGCOM-8478 -->

* Die Pluralisierung von „Artikel“ im Mini-Warenkorb und in der Zusammenfassung der Kassenbestellungen wurde korrigiert. [GitHub-29920](https://github.com/magento/magento2/issues/29920)

<!-- ENGCOM-8309 -->

* Leerzeichen in Inline-Elementen in Navigationsfiltern mit Markup-Ebenen wurden entfernt. [GitHub-30448](https://github.com/magento/magento2/issues/30448)

<!-- ENGCOM-8056 -->

* `rl` wurde in `\Magento\Framework\Filter\Template\Tokenizer\Parameter` auf `url` korrigiert. [GitHub-29185](https://github.com/magento/magento2/issues/29185)

#### Bereinigung des Codes

<!-- MC-37922-->

* Ein überflüssiges HTML-`<br>`-Tag wurde aus dem Bereich Überprüfen der Datenmeldung auf der Seite **System** > **Import** entfernt.

<!-- ENGCOM-8028 -->

* `ChangeQuoteControl` wurde überarbeitet. [GitHub-29673](https://github.com/magento/magento2/issues/29673)

<!-- ENGCOM-8027 -->

* `AccessChangeQuoteControl` und die zugehörigen Komponententests wurden überarbeitet. [GitHub-29672](https://github.com/magento/magento2/issues/29672)

<!-- ENGCOM-8053 -->

* Der Codestil der Rückgabetypdeklaration in `app/code/Magento/Captcha/CustomerData/Captcha.php` wurde korrigiert. [GitHub-29712](https://github.com/magento/magento2/issues/29712)

<!-- ENGCOM-8288 -->

* Position der Schaltflächenliste auf der Seite Neues Attribut korrigiert.

<!-- ENGCOM-8315 -->

* Es wurde die richtige Blockklasse für das Frontend-`viewModel`-Referenzbeispiel für die `\Magento\Framework\View\Element\Template` hinzugefügt. [GitHub-30450](https://github.com/magento/magento2/issues/30450)

<!-- ENGCOM-8090 -->

* Eine redundante Feldgruppe im Verkaufsregelformular wurde entfernt. [GitHub-29599](https://github.com/magento/magento2/issues/29599)

<!-- ENGCOM-8448 -->

* Unnötiger Code wurde aus der `hierarchy/edit.phtml` entfernt.

<!-- ENGCOM-8446 -->

* PHPdoc-Kommentar in `app/code/Magento/CatalogImportExport/Model/Export/Product.php` korrigiert. [GitHub-30833](https://github.com/magento/magento2/issues/30833)

<!-- ENGCOM-8277 -->

* Die Docblock-Anmerkung für die `PublisherInterface` wurde korrigiert. [GitHub-30190](https://github.com/magento/magento2/issues/30190)

<!-- ENGCOM-8264 -->

* Korrigierte Argumente in der `getStatusByState`. [GitHub-30173](https://github.com/magento/magento2/issues/30173)

<!-- ENGCOM-8235 -->

* Die Methodenbeschreibung in `app/code/Magento/Quote/Model/Cart/Totals/ItemConverter.php` wurde korrigiert. [GitHub-30125](https://github.com/magento/magento2/issues/30125)

<!-- ENGCOM-8242 -->

* Redundante Variablenzuweisungen in derselben Zeile in mehreren Dateien wurden entfernt. [GitHub-30133](https://github.com/magento/magento2/issues/30133)

<!-- ENGCOM-8263 -->

* `@param string $attribute` in `@param AbstractAttribute|string[]|string $attribute` in `EntityAbstract.php` geändert. [GitHub-30191](https://github.com/magento/magento2/issues/30191)

<!-- ENGCOM-8142 -->

* Ungültige Tags (z. B. `@package` und `@subpackage`) wurden in der gesamten Code-Basis aus Docblocks entfernt. [GitHub-30061](https://github.com/magento/magento2/issues/30061)

<!-- ENGCOM-8117 -->

* Nicht verwendete Parameter im Konstrukt der `AdvancedPricing`-Klasse wurden entfernt. [GitHub-29531](https://github.com/magento/magento2/issues/29531)

### Konfigurierbare Produkte

<!-- MC-35016-->

* Wenn Sie nicht vorrätige konfigurierbare Produkte nach Preis filtern, werden jetzt Ergebnisse innerhalb der richtigen Preisspanne angezeigt.

<!-- MC-38930-->

* Ein virtuelles Produkt ändert seinen Typ nicht mehr, wenn sein Status von „Aktiviert“ in „Deaktiviert“ (oder umgekehrt) geändert wird. Zuvor hat die Anwendung den Produkttyp bei einer Statusänderung von „virtuell“ in „einfach“ geändert.

<!-- MC-38197-->

* Die `getValue()` Methode Trigger beim Aktualisieren von Warenkörben keinen schwerwiegenden Fehler mehr.

<!-- MC-34444-->

* Konfigurierbare Produkte, die auf mehreren Websites verfügbar sind, zeigen keine einfachen untergeordneten Produkte mehr an, die der jeweiligen Website nicht zugewiesen sind. [GitHub-28291](https://github.com/magento/magento2/issues/28291)

<!-- ENGCOM-8202 -->

* Storefront-Produktseiten zeigen jetzt wie erwartet Stufenpreise ohne Steuern an. [GitHub-12225](https://github.com/magento/magento2/issues/12225)

<!-- ENGCOM-8134 8174-->

* MSRP-Preise für konfigurierbare Produkte werden jetzt korrekt in die gewählte Währung umgerechnet. Zuvor hatte die Anwendung die Preise in der falschen Währung angezeigt und folgenden Fehler ausgegeben: `Call to a member function setAppliedTaxes() on null`. [GitHub-26526](https://github.com/magento/magento2/issues/26526), [GitHub-29603](https://github.com/magento/magento2/issues/29603)

<!-- ENGCOM-8234 -->

* Händler können jetzt eine Store-spezifische Textzeichenfeld-Attributbezeichnung mit dem Wert 0 (null) speichern. Zuvor wurde der Wert 0 durch den Optionswert Admin ersetzt. [GitHub-30073](https://github.com/magento/magento2/issues/30073)

### Cron

<!-- MC-37712-->

* Die Systemmeldungsliste zeigt jetzt Produktaktualisierungen genau an, nachdem `cron` ausgeführt wurde und die Anwendung die Produkte wie geplant aktualisiert hat.

<!-- ENGCOM-8164 -->

* Der `cron_schedule`-Tabelle wurde ein Index hinzugefügt, der auf `schedule_id` und `status` basiert. [GitHub-29601](https://github.com/magento/magento2/issues/29601)

### Benutzerdefinierte Kundenattribute

<!-- MC-23545-->

* Die Anwendung zeigt jetzt nach der Erstellung Kundenattribute des Typs `file` auf der Seite Kontoinformationen an. Beim Versuch, ein neues Attribut dieses Typs zu speichern, hat die Anwendung zuvor die folgenden Fehler angezeigt: `The "newAttribute" attribute value is empty. Set the attribute and try again` und `Validation is failed`.

<!-- MC-23544-->

* Die Anwendung zeigt jetzt korrekt mehrzeilige benutzerdefinierte Kundenattributwerte an. Zuvor wurden nicht alle Daten angezeigt.

<!-- MC-36978-->

* Die Anwendung warnt jetzt Erstkäufer, wenn sie beim Erstellen eines Kontos ein ungültiges Geburtsdatum eingeben. Zuvor ignorierte der Validator Gebietsschemaeinstellungen und Käufer wurden zur Seite Neues Kundenkonto erstellen mit einem Fehler wegen ungültigem Datum weitergeleitet.

<!-- MC-38846-->

* Benutzerdefinierte Adressattribute sind jetzt wie erwartet im Zahlungsschritt des Checkout-Workflows enthalten.

<!-- MC-38114-->

* Benutzerdefinierte Attribute für die Mehrfachauswahl von Adressen werden nun beim Checkout eines Gastes sowie auf der Seite mit den Bestelldetails für Admin und Mein Konto korrekt angezeigt.

<!-- MC-37101-->

* Sie können jetzt eine führende Null in einem benutzerdefinierten Kundenattribut löschen, wenn `Input Type` auf `Text` und `Input Validation` auf `Numeric Only` festgelegt ist.

<!-- MC-36721-->

* Die Anwendung exportiert jetzt erfolgreich Kundendaten, die einen benutzerdefinierten Wert für das Geschlecht enthalten.

### KUNDE

<!-- MC-35771-->

* Das Kalender-Widget für das Feld Geburtsdatum des Storefront-Kundenkontos verwendet jetzt das angegebene Store-Gebietsschema.

<!-- MC-38498-->

* Die Anwendung speichert keine doppelten Einträge einer Kundenadresse mehr während des Checkouts einer Neubestellung für einen bestehenden Kunden vom Administrator.

<!-- MC-37393-->

* Wenn Sie alle Adressen mehrerer Kunden aus dem Administrator löschen, werden jetzt alle Adressen aus der Liste der Kundenadressen gelöscht und die standardmäßigen Abrechnungs- und Versandadressen entfernt. Zuvor hat das Programm die Adresse aus der Liste der Kundenadressen gelöscht, aber die standardmäßigen Rechnungs- und Versandadressen nicht entfernt.

<!-- MC-37377-->

* Die Registerkarte Admin-Kundenadresse zeigt jetzt die Adressanzahl korrekt an, nachdem ein Administrator eine Massenlöschung von Adressen durchgeführt hat. Zuvor zählte die Anwendung gelöschte Adressen.

<!-- MC-36718-->

* Das DateTime-Format für das Feld **Geburtsdatum** auf der Seite zur Kundenregistrierung wurde korrigiert. Zuvor fehlte die führende Null, die einem einstelligen Tag vorausging.

<!-- MC-36024-->

* Die Validierung des Datumsformats für das Feld **Geburtsdatum** funktioniert jetzt, bevor der Erstkäufer auf die Schaltfläche **Konto erstellen** klickt. Zuvor konnte ein Käufer einen Wert in einem ungültigen Format eingeben. Wenn er auf die Schaltfläche **Konto erstellen** klickte, wurde der Käufer zur Seite Neues Kundenkonto erstellen mit einem Fehler bezüglich eines ungültigen Datums weitergeleitet.

<!-- MC-33867-->

* Die Anwendung gibt keinen schwerwiegenden Fehler mehr aus, wenn ein Administrator versucht, ein neues Kundenkonto zu speichern, das ungültige Daten für ein Attribut enthält.

<!-- MC-36258-->

* Die Anwendung gibt keinen 400-Fehler mehr aus, wenn ein Kunde versucht, in einer Bereitstellung, in der zuvor Magento Shipping installiert war und derzeit das Standard-Luma-Design bereitgestellt wird, auf seinen Warenkorb zuzugreifen. Zuvor filterte die Anwendung keine Abschnittsnamen heraus, die von zuvor installierten/aktivierten Modulen erstellt wurden, die vom Administrator nicht unterstützt wurden, bevor Anforderungen an den Server gesendet wurden, was zu Fehlern führte.

<!-- MC-35812-->

* Die Anwendung zeigt jetzt eine Meldung wie erwartet an, wenn ein Käufer ein Gastkonto erstellt, wenn die Einstellung **E-Mail-Bestätigung** erforderlich) aktiviert ist und `Magento\Customer\Controller\Account\CreatePost` überschrieben wurde. Zuvor hatte die Anwendung diese Art der Anpassung des Benutzerregistrierungsprozesses nicht zugelassen. Unter diesen Bedingungen wurde der E-Mail-Bestätigungsstatus eines Benutzers als abgeschlossen betrachtet, der neue Benutzer wurde automatisch angemeldet und es wurde keine Fehlermeldung angezeigt.

<!-- ENGCOM-8039 -->

* Die Anwendung weist nun einen Einkäufer der richtigen Kundengruppe zu, wenn der Einkäufer eine Bestellung mit einer nicht standardmäßigen Kundengruppe in einem Geschäft aufgibt, in dem **Automatische Zuordnung an Kundengruppe aktivieren** aktiviert ist. [GitHub-26976](https://github.com/magento/magento2/issues/26976)

<!-- MC-39783-->

* Das Raster Admin-Kunden ist jetzt erwartungsgemäß verfügbar, wenn die nicht standardmäßige Website in einer Bereitstellung mit mehreren Sites gelöscht wird und Indizes auf **Nach Zeitplan aktualisieren** eingestellt sind. Zuvor zeigte die Anwendung das Raster nicht an und gab folgenden Fehler aus: `[2020-12-09 11:31:54] report.CRITICAL: The website with id 2 that was requested wasn't found. Verify the website and try again. \{"exception":"[object] (Magento\\Framework\\Exception\\NoSuchEntityException(code: 0): The website with id 2 that was requested wasn't found. Verify the website and try again. at /var/www/html/magento24ee/vendor/magento/module-store/Model/WebsiteRepository.php:110)"}`

### dotdigital

* Die Fehlerbehandlung beim Abrufen von Programmlisten aus dotdigital Engagement Cloud wurde verbessert.

* Der Wert, der während der Gastsynchronisierung in der Spalte „Store-Name“ synchronisiert wird, ist jetzt der Name der Store-Ansicht wie erwartet. Zuvor war der Name der Website in dieser Spalte enthalten.

* Es wurde eine Array-Prüfung vor dem Durchlaufen von Auftragsstatus-Automatisierungen hinzugefügt, nachdem eine Bestellung gespeichert wurde.

* Es wurden Probleme mit Composer-Upgrades behoben, die das Ergebnis der Abhängigkeit des dotdigital-Moduls von `magento/module-authorization` waren.

### herunterladbar

<!-- ENGCOM-7679 -->

* Die Anwendung listet ein herunterladbares Produkt nicht mehr auf der Registerkarte Meine Download-Produkte auf, nachdem die Bestellung, zu der es gehört, teilweise zurückerstattet wurde. [GitHub-28388](https://github.com/magento/magento2/issues/28388)

### EAV

<!-- MC-35934-->

* Benutzerdefinierte Attribute, die `\Magento\Eav\Model\Entity\Attribute\Backend\ArrayBackend` verwenden, verwenden jetzt Standardwerte, wenn in der Payload kein Wert angegeben wird, wenn ein Produkt durch einen API-Aufruf erstellt wird.

### E-Mail

<!-- ENGCOM-7961 -->

* `\Magento\Config\Model\Config\Source\Email\Template::toOptionArray` gibt keinen Fehler mehr aus, wenn `setPath()` nicht vor dem `toOptionArray()` aufgerufen wird. [GitHub-29315](https://github.com/magento/magento2/issues/29315)

<!-- MC-36777-->

* Die Anwendung konvertiert nun beim Laden einer E-Mail-Vorlage Klartext in HTML, wenn Sie auf **HTML-Version zurückgeben** klicken.

<!-- MC-34803-->

* E-Mails, die an Kunden gesendet werden, die Teilrechnungen enthalten, enthalten jetzt genaue Artikelzwischensummen. Zuvor war die Zwischensumme in dieser E-Mail die Summe der bestellten Menge, nicht der Gesamtbetrag der fakturierten Menge.

<!-- MC-38337-->

* Die Anwendung sendet jetzt E-Mail-Erinnerungen an alle relevanten Kunden mit gültigen E-Mail-Adressen. Zuvor hat die Anwendung den Versand von Erinnerungs-E-Mails an Kunden beendet, nachdem eine ungültige Adresse aufgetreten war.

<!-- ENGCOM-7517 -->

* Das Senden von Verkaufs-E-Mails im asynchronen Modus funktioniert jetzt wie erwartet, nachdem ein Produkt aus einem Katalog entfernt wurde. Zuvor war der asynchrone E-Mail-Versand blockiert, und die Anwendung zeigte folgenden Fehler an: `main.ERROR: Cron Job sales_send_order_invoice_emails has an error: Call to a member function getData() on null. Statistics: {"sum":0,"count":1,"realmem":0,"emalloc":0,"realmem_start":73400320,"emalloc_start":37177640} [] []main.CRITICAL: Error when running a cron job {"exception":"[object] (RuntimeException(code: 0): Error when running a cron job at /var/www/html/vendor/magento/module-cron/Observer/ProcessCronQueueObserver.php:327, Error(code: 0): Call to a member function getData() on null at /var/www/html/vendor/magento/module-catalog/Helper/Image.php:502)"} []`. [GitHub-26878](https://github.com/magento/magento2/issues/26878)

<!-- ENGCOM-8381 -->

* Die Anwendung kopiert einen Kunden nicht mehr per E-Mail zur Bestellbestätigung, wenn `sales_email/order_comment/enabled` deaktiviert und `sales_email/order_comment/copy_method` auf `bcc` gesetzt ist. [GitHub-29915](https://github.com/magento/magento2/issues/29915)

### Frameworks

<!-- MC-24195-->

* Angepasste Filtergruppen werden jetzt bei der Kundensuche korrekt angewendet. Zuvor hatte die `afterSearch`-Funktion OR-Filter nicht wie erwartet. [GitHub-24576](https://github.com/magento/magento2/issues/24576)

<!-- MC-36942-->

* Bilder auf der Startseite eines Shops werden jetzt erfolgreich gerendert. Zuvor war die HTML der Seitenquelle beschädigt, da die drei aufeinander folgenden Schrägstriche im base64-Code des Bildes als Kommentar falsch interpretiert wurden.

<!-- MC-37369-->

* Die Datumsauswahl funktioniert jetzt beim Filtern von Bestellungen aus der Liste der Admin-Bestellungen in Geschäften mit dem arabischen Gebietsschema (`ar_SA - Saudi Arabia`) ordnungsgemäß.

<!-- MC-38344-->

* DatePicker zeigt jetzt das richtige Datum an, nachdem ein Händler eine Warenkorbpreisregel in einer -Bereitstellung gespeichert hat. [GitHub-30382](https://github.com/magento/magento2/issues/30382)

<!-- MC-31085-->

* Die Anwendung stellt jetzt die Gruppierung arabischer Tausender und die arabischen Dezimaltrennzeichen korrekt dar. Zuvor wurden arabische Symbole beschnitten. [GitHub-26676](https://github.com/magento/magento2/issues/26676)

<!-- MC-30631-->

* Die Anwendung löscht jetzt wie erwartet abgelaufene Datenbanksitzungen aus der Datenbank-`session`.

### Allgemeine Fehlerbehebungen

<!-- MC-38105-->

* Sie können jetzt einen nativen Sitzungs-Handler konfigurieren, der sich von dem Handler unterscheidet, der in `php.ini` definiert ist. Zuvor hat `SessionManager` den memcache nicht als `save_handler` festgelegt, sondern stattdessen den `session_handler` der Datei verwendet. Die Anwendung gab diesen Fehler aus: `main.CRITICAL: Warning: SessionHandler::read(): open(127.0.0.1:11211/sess_0imeeaqmnvemdg4e3h57tat0ik, O_RDWR) failed: No such file or directory (2) in../vendor/magento/framework/Session/SaveHandler/Native.php on line 22 {"exception":"[object] (Exception(code: 0): Warning: SessionHandler::read(): open(127.0.0.1:11211/sess_0imeeaqmnvemdg4e3h57tat0ik, O_RDWR) failed: No such file or directory (2) in ../vendor/magento/framework/Session/SaveHandler/Native.php on line 22 at ../vendor/magento/framework/App/ErrorHandler.php:61)"}`. [GitHub-24717](https://github.com/magento/magento2/issues/24717)

<!-- ENGCOM-8052 -->

* An den `LoginAsCustomer` Modulen wurden die folgenden Verbesserungen vorgenommen:

   * `around`-Plug-in durch `after` ersetzt

   * Redundanter Code entfernt

   * `(bool)->getValue()` durch `isSetFlag` ersetzt. [GitHub-29689](https://github.com/magento/magento2/issues/29689)

<!-- ENGCOM-8093 -->

* Beim Neuladen aller kundenspezifischen Datenabschnitte mit dem Platzhalter (*) wird bei Anfragen kein 400-Fehler mehr `customer/section/load`. [GitHub-28154](https://github.com/magento/magento2/issues/28154)

<!-- ENGCOM-7994 -->

* Die Anwendung übergibt jetzt Ausnahmen, die auftreten, wenn ein Layout im Produktionsmodus gerendert wird, an `var/report`. [GitHub-29606](https://github.com/magento/magento2/issues/29606)

<!-- MC-35058-->

* Händler können jetzt die Zuweisung von Produkten zu Kategorien erwartungsgemäß aufheben. Zuvor gab die Anwendung einen Fehler ähnlich diesem Fehler aus: `Could not save product "4" with position 0 to category 3`.

<!-- ENGCOM-7527 -->

* Die Anwendung löst jetzt eine Ausnahme aus, wenn ein nicht vorhandener Kunde ein Zurücksetzen des Kennworts anfordert. [GitHub-26288](https://github.com/magento/magento2/issues/26288)

<!-- MC-33687 ENGCOM-8497-->

* Die Anwendung zeigt jetzt eine informative Fehlermeldung an, wenn ein Administrator beim Hochladen einer Datei, die diesen Attributwert enthält, versucht, ein Kundenkonto zu speichern, das einen ungültigen Wert für ein Kundenattribut enthält. Zuvor gab es einen schwerwiegenden Fehler. [GitHub-30295](https://github.com/magento/magento2/issues/30295)

<!-- ENGCOM-8400 -->

* Die Anwendung wendet jetzt die Konfigurationseinstellung **Logo für HTML-Druckansicht** wie erwartet auf die PDF der Storefront-Rechnung an. [GitHub-24730](https://github.com/magento/magento2/issues/24730)

<!-- ENGCOM-8425 -->

* `static::` wurde in der gesamten Code-Basis für den Zugriff auf private Konstanten durch `self::` ersetzt. [GitHub-30781](https://github.com/magento/magento2/issues/30781)

<!-- ENGCOM-8395 -->

* Die Anwendung öffnet jetzt die Seite Neues Attribut wie erwartet, wenn ein Händler während der **zweimal auf die Schaltfläche** Neues Attribut erstellen“ klickt. Zuvor hat die Anwendung eine leere Seite angezeigt und einen Fehler ausgegeben. [GitHub-30361](https://github.com/magento/magento2/issues/30361)

<!-- ENGCOM-8426 -->

* Die Anwendung zeigt die `The coupon code has been accepted` nicht mehr an, nachdem ein Coupon entfernt wurde. [GitHub-30255](https://github.com/magento/magento2/issues/30255)

<!-- ENGCOM-8396 -->

* Admins können jetzt Widgets bestimmten Kategorien zuweisen. [GitHub-30009](https://github.com/magento/magento2/issues/30009)

<!-- ENGCOM-8216 -->

* Der Attributselektor `input[type=datetime]` wurde durch einen weniger spezifischen Eingabetyp-Selektor ersetzt. [GitHub-30064](https://github.com/magento/magento2/issues/30064)

<!-- ENGCOM-8282 -->

* Das Programm zeigt jetzt Store-spezifische Werte an, die erwartungsgemäß mit benutzerdefinierten Kategorieattributen verknüpft sind. [GitHub-13440](https://github.com/magento/magento2/issues/13440)

<!-- ENGCOM-8287 -->

* Die Anwendung zeigt jetzt eine Eingabeaufforderung mit der Frage an, ob die Kundengruppe geändert werden soll, wenn Sie auf der Seite zur Auftragserstellung auf die Schaltfläche **Umsatzsteuer-Identifikationsnummer validieren** klicken, wenn die Ladenadresse und der Versandort zu verschiedenen EU-Ländern gehören. [GitHub-29652](https://github.com/magento/magento2/issues/29652)

<!-- ENGCOM-8031 -->

* Die `\Magento\Catalog\Model\ImageUploader` wurde überarbeitet, um die neue `moveFileFromTmp`-Methode zu verwenden. [GitHub-29598](https://github.com/magento/magento2/issues/29598)

<!-- ENGCOM-8178 -->

* Die Anwendung zeigt jetzt eine aussagekräftigere Fehlermeldung an, wenn ein Händler versucht, ein Produktattribut mit `product_type` und `type_id` Codes zu erstellen, um eine aussagekräftigere Beschreibung zu erhalten. [GitHub-28479](https://github.com/magento/magento2/issues/28479)

<!-- ENGCOM-8135 -->

* Die Validierungslogik für die Felder **Kunden-Token-Lebensdauer (Stunden)** und **Admin-Token-Lebensdauer (Stunden)** auf der Seite Admin **Stores** > **Konfigurationen** > **Services** > **OAuth** wurde korrigiert. [GitHub-29502](https://github.com/magento/magento2/issues/29502)

<!-- ENGCOM-8132 -->

* Die Anwendung analysiert jetzt korrekt Text, der `}}` im Inhaltsfeld des Widgets enthält. [GitHub-12087](https://github.com/magento/magento2/issues/12087)

<!-- ENGCOM-8098 -->

* Sie können jetzt einen Filter über die Seite „Produktkategorien“ entfernen. Zuvor hat das Programm beim Versuch, den Filter zu löschen, nicht zugelassen, dass Sie den Filter entfernt haben, und es wurde folgender Fehler angezeigt: `Something went wrong`. [GitHub-8538](https://github.com/magento/magento2/issues/8538)

<!-- ENGCOM-8050 -->

* `Magento\Framework\MessageQueue\ConfigInterface` kann jetzt instanziiert werden, wenn das optionale Modul `Magento_MessageQueue` deaktiviert ist. Zuvor gab die Anwendung den folgenden Fehler aus: `PHP Fatal error:  Uncaught Error: Cannot instantiate interface Magento\Framework\MessageQueue\ConfigInterface in /var/www/magento2/magento2/lib/internal/Magento/Framework/ObjectManager/Factory/AbstractFactory.php:121`. [GitHub-26080](https://github.com/magento/magento2/issues/26080)

<!-- ENGCOM-7312 -->

* Die Logik, die bestimmt, wann die Anwendung den E-Mail-Wert aus dem persistenten Speicher abrufen kann, wurde verbessert. Zuvor zeigte die Anwendung ausgefüllte Passwortfelder auf der Checkout-Seite an, wenn ein nicht registrierter Benutzer zur Checkout-Seite zurückkehrte, nachdem er das E-Mail-Feld zum ersten Mal ausgefüllt hatte. [GitHub-26903](https://github.com/magento/magento2/issues/26903)

<!-- ENGCOM-7777 -->

* Dem Admin-Kopfzeilen- `AdminNotification` Symbolleistenblock wurde ein fehlendes `aclResource`-Attribut hinzugefügt. Zuvor war der Eintrag in der Admin-Benachrichtigungs-Symbolleiste sichtbar, auch wenn der Admin-Benutzer nicht über die Rollenressourcenberechtigungen verfügt, um ihn anzuzeigen. [GitHub-29067](https://github.com/magento/magento2/issues/29067)

<!-- ENGCOM-8022 -->

* Die `framework/database/select` `where` Funktionen behandeln `type` jetzt korrekt. [GitHub-29590](https://github.com/magento/magento2/issues/29590)

<!-- ENGCOM-8260 -->

* Die ineffiziente Verwendung von `array_merge` in Schleifen wurde in der gesamten Code-Basis verbessert, was die Leistung an mehreren Stellen verbessert hat, einschließlich beim Bereitstellungsprozess statischer Inhalte. [GitHub-30183](https://github.com/magento/magento2/issues/30183)

<!-- ENGCOM-8445 -->

* Die standardmäßige Lebensdauer der Admin-Sitzung wurde vom Verschlüsselungsmodul in das Sicherheitsmodul verschoben. [GitHub-30859](https://github.com/magento/magento2/issues/30859)

<!-- ENGCOM-8425 -->

* Die Anwendung sucht jetzt in einer Klasse nach privaten Konstanten und zeigt eine Warnung an, wenn `static::` Aufrufe an sie erfolgen. Zuvor gab die Anwendung den folgenden Fehler aus: `Undefined class constant`.

<!-- ENGCOM-8326 -->

* Unterstützung für symbolisch verknüpfte `root` in Fehlerseiten und im Wartungsmodus wurde hinzugefügt. Wenn die `root` oder `magento/pub` zuvor mit einem anderen Verzeichnis synchronisiert wurden, hat der Fehlerprozessor (`Magento\Framework\Error\Processor`) keine richtige URL für die Ansichtsdatei generiert. [GitHub-30296](https://github.com/magento/magento2/issues/30296)

<!-- ENGCOM-8087 -->

* Fehlendes `order_data`-Array wurde `EmailSender` Klassen hinzugefügt. Dadurch werden diese Klassen mit der Empfehlung der Magento zur Verwendung von Skalarvariablen anstelle von Objekten in den E-Mail-Vorlagen in Einklang gebracht. [GitHub-29604](https://github.com/magento/magento2/issues/29604)

### GraphQL

<!-- MC-37615-->

* Der GraphQL-URL-Resolver verarbeitet Abfrageparameter jetzt korrekt. Zuvor wurde bei der Verarbeitung von SEO-freundlichen URLs mit Parametern NULL zurückgegeben.

<!-- ENGCOM-8422 -->

* Der GraphQL-URL-Resolver verarbeitet jetzt die CMS-Seitenhierarchie korrekt. Zuvor wurde NULL zurückgegeben. [GitHub-30474](https://github.com/magento/magento2/issues/30474)

<!-- MC-38209-->

* Abfragen für die `categories.breadcrumbs` eines Produkts geben keine Breadcrumb-Daten mehr für Kategorien zurück, deren übergeordnete Kategorie deaktiviert ist. [GitHub-30468](https://github.com/magento/magento2/issues/30468)

<!-- MC-38407-->

* Der Pfad zu einem Kategoriebild wird jetzt korrekt zurückgegeben, wenn URL-Neuschreibungen deaktiviert sind.

<!-- MC-36648-->

* Die Anwendung gibt jetzt eine informativere Meldung zurück, wenn während eines Vorgangs zum Zurücksetzen des GraphQL-Kennworts ein Fehler mit auftritt. [GitHub-30179](https://github.com/magento/magento2/issues/30179)

<!-- MC-38078-->

* Die Produktpositionen werden jetzt erwartungsgemäß in den GraphQL-Abfrageergebnissen aktualisiert, wenn die Abfrageergebnisse zwischengespeichert werden.

<!-- MC-35355-->

* Die `products` Abfrage gibt jetzt die erwarteten Ergebnisse beim `category_id` zurück  Der Filter wird mit dem Schlüsselwort `in` angegeben. [GitHub-30349](https://github.com/magento/magento2/issues/30349)

<!-- ENGCOM-8219 -->

* Es wurden Regeln zu `editorconfig` hinzugefügt, um die Einrückung von JSON- und YAML-Dateien in zwei Leerzeichen zu unterstützen. [GitHub-30066](https://github.com/magento/magento2/issues/30066), [GitHub-30063](https://github.com/magento/magento2/issues/30063)

<!-- ENGCOM-8079 -->

* Die `FlushCacheByTags`-Klasse wurde aktualisiert und verwendet jetzt After-Plug-ins anstelle von Round-Plug-ins. [GitHub-29558](https://github.com/magento/magento2/issues/29558)

<!-- ENGCOM-8370 -->

* Der Code in der `checkout_index_index.xml` wurde durch das Entfernen von `sortOrder` aus `messages`-, `authentication`-, `progressBar`-, `estimation`- und `sidebar checkout`-Komponenten verbessert. [GitHub-30550](https://github.com/magento/magento2/issues/30550)

<!-- ENGCOM-8379 -->

* Inhalte in `calc` werden jetzt maskiert, was zu korrekten `calc` in der CSS-Ausgabedatei führt. Zuvor hat die Anwendung einen falschen `calc` zurückgegeben. [GitHub-30542](https://github.com/magento/magento2/issues/30542)

<!-- ENGCOM-8030 -->

* Der URL Rewrite Generator legt jetzt die Kategorieobjekte `url_key`, `url_path` und `store_id` beim Speichern von Kategorie-URL-Neuschreibungen für den globalen Umfang auf Standardwerte zum Speichern von Werten fest. Zuvor wurden `url_key`, `url_path` und `store_id` mit den Werten der zuletzt verarbeiteten Speicher-ID gespeichert. [GitHub-29585](https://github.com/magento/magento2/issues/29585)## gruppierte Produkte

<!-- MC-35361-->

* Die Produktabfrage gibt jetzt alle erwarteten Daten für gruppierte Produkte zurück. Zuvor war `product_links` ein leeres Array.

<!-- MC-37718-->

* Ein gruppiertes Produkt wird jetzt auf der Seite zur Produktbearbeitung als nicht vorrätig aufgeführt, wenn alle untergeordneten einfachen Produkte nicht vorrätig sind.

<!-- MC-37249-->

* Der Status eines gruppierten Produkts wird jetzt auf der Seite „Produktbearbeitung“ korrekt aktualisiert, wenn sich der Status seiner untergeordneten einfachen Produkte in „Nicht vorrätig“ ändert. Zuvor wurde der Lagerbestand für das übergeordnete Element des gruppierten Produkts nicht aktualisiert, nachdem die untergeordneten Elemente den Lagerstatus geändert hatten.

<!-- ENGCOM-8250 -->

* `\Magento\Widget\Controller\Adminhtml\Widget\Instance\Validate` erkennt jetzt einen Ergebniswert der Phrase als Fehlermeldung und gibt ihn während der Widget-Validierung an den Benutzer aus. [GitHub-27397](https://github.com/magento/magento2/issues/27397)

<!-- ENGCOM-8311 -->

* Die hartcodierte Liste der Kategorieattribute in `Magento\Catalog\Model\Category\DataProvider::getFieldsMap()` wurde durch eine Liste von Attributen ersetzt, die aus dem Cache generiert werden. [GitHub-13440](https://github.com/magento/magento2/issues/13440)

<!-- ENGCOM-7759 -->

* Redundantes Hashing von `req.http.host/client.ip` wurde entfernt und das Hashing wird von der in VCL integrierten Lackierung durchgeführt. [GitHub-29988](https://github.com/magento/magento2/issues/29988)

<!-- ENGCOM-8302 -->

* Dem `Magento_Ui`-Datei-Uploader wurde ein Rückruf wegen Fehlern hinzugefügt. [GitHub-29557](https://github.com/magento/magento2/issues/29557)

<!-- ENGCOM-8405 -->

* Eine `acl.xml` Inkonsistenz, die beim Aktivieren von `Magento_LoginAsCustomerAssistance`, aber beim Deaktivieren von `Magento_LoginAsCustomerAdminUi` oder `Magento_LoginAsCustomerLog` auftrat, wurde behoben. Wenn ein Administrator mit diesen Anmeldeinformationen versucht hat, sich bei Admin anzumelden, hat die Anwendung zuvor eine leere Seite angezeigt und diesen Fehler ausgegeben, als `Exception #0 (LogicException): Could not create an acl object: Invalid Document Element 'resource': The attribute 'title' is required but missing. Line: 13`: . [GitHub-30680](https://github.com/magento/magento2/issues/30680)

<!-- ENGCOM-8157 -->

* Die Anwendung gibt keinen `Undefined class constant` mehr aus, wenn während der Plug-in-Erstellung ein `Interceptor` generiert wird. [GitHub-28981](https://github.com/magento/magento2/issues/28981), [GitHub-29879](https://github.com/magento/magento2/issues/29879)

<!-- ENGCOM-8108 -->

* Die Anwendung verarbeitet jetzt das Messaging und die Protokollierung für asynchrone Massenvorgänge korrekt. Zuvor wurden die `magento_operation`- und `queue_message_status`-Tabellen nicht korrekt aktualisiert, und die Systemmeldungen waren falsch, obwohl Produkte aktualisiert wurden. [GitHub-29718](https://github.com/magento/magento2/issues/29718)

<!-- ENGCOM-8388 -->

* Ein Erstkäufer wird jetzt wie erwartet zur Seite Neues Kennwort festlegen weitergeleitet, wenn er in der E-Mail zum Zurücksetzen des Kennworts auf **Neues Kennwort festlegen** klickt, wenn **E-Mail zur Bestätigung** erforderlich“ für den Store aktiviert ist. Zuvor wurde der Käufer zur Schaltfläche **Kennwort vergessen** auf der Anmeldeseite zurückgeleitet. [GitHub-27954](https://github.com/magento/magento2/issues/27954)

<!-- ENGCOM-8337 -->

* Fehler bei der Konvertierung des Arrays in eine Zeichenfolge beim Speichern der Zeilensystemkonfiguration mit Standardwerten wurde korrigiert. [GitHub-30314](https://github.com/magento/magento2/issues/30314)

<!-- ENGCOM-8440 -->

* Sie können jetzt Argumente für Nachrichtenwarteschlangen festlegen. [GitHub-30216](https://github.com/magento/magento2/issues/30216)

<!-- ENGCOM-8384 -->

* Der Basisdatei-Wächter berücksichtigt jetzt `AppState->emulateAreaCode()`. [GitHub-39656](https://github.com/magento/magento2/issues/29656)

<!-- ENGCOM-8441 -->

* Die neue `BlockByIdentifier` unterstützt das Abrufen eines Layout-Blocks basierend auf der CMS-Blockkennung. Wenn ein CMS-Block aus dem Cache entfernt wird, löscht die Anwendung daher auch den Layout-Block-Cache. [GitHub-28309](https://github.com/magento/magento2/issues/28309)

<!-- ENGCOM-8385 -->

* Es wurden Probleme bei der numerischen Argumentkonvertierung in Warteschlangen behoben. Wenn Sie zuvor eine Warteschlange mit numerischen `type` im `queue_topology.xml` deklariert haben, wurde der Argumentwert in eine Zeichenfolge umgewandelt. [GitHub-29615](https://github.com/magento/magento2/issues/29615)

### GraphQL

<!-- MC-37615-->

* Die `urlResolver` Abfrage verarbeitet Abfrageparameter jetzt korrekt.

<!-- ENGCOM-8422 -->

* Die `urlResolver` Abfrage gibt nicht mehr NULL zurück, wenn ein benutzerdefinierter CMS-Knoten und eine benutzerdefinierte Seite als Eingabe angegeben werden. [GitHub-30474](https://github.com/magento/magento2/issues/30474)

<!-- MC-38209 ENGCOM-8386-->

* Die `category`-Abfrage gibt keine untergeordneten Kategorien mehr einer übergeordneten Kategorie zurück, die deaktiviert wurde. [GitHub-30468](https://github.com/magento/magento2/issues/30468)

<!-- MC-38407-->

* Die `category` Abfrage gibt jetzt den richtigen Pfad eines Kategoriebilds zurück, wenn URL-Neuschreibungen deaktiviert sind.

<!-- MC-36648 8321-->

* Die `resetPassword`-Mutation gibt jetzt eine informativere Meldung zurück, wenn ein Fehler auftritt. [GitHub-30179](https://github.com/magento/magento2/issues/30179)

<!-- MC-38078 ENGCOM-8504-->

* Zwischengespeicherte Ergebnisse der `products` werden wie erwartet ungültig gemacht, wenn sich die Produktpositionen ändern. [GitHub-30467](https://github.com/magento/magento2/issues/30467)

<!-- MC-35355 ENGCOM-8404-->

* Die `products` Abfrage gibt jetzt die erwarteten Ergebnisse zurück, wenn der `category_id` mit dem Schlüsselwort `in` angegeben wird. [GitHub-30349](https://github.com/magento/magento2/issues/30349)

<!-- ENGCOM-8373 -->

* Die `categories`- und `categoryList`-Abfragen berücksichtigen jetzt die Kategorieverfügbarkeit basierend auf der Kategorieberechtigungskonfiguration und der ID der übergeordneten Kategorie. [GitHub-29880](https://github.com/magento/magento2/issues/29880), [GitHub-30624](https://github.com/magento/magento2/issues/30624)

<!-- MC-37603-->

* Die `updateProductsInWishList`-Mutation validiert jetzt Elemente der Wunschliste ordnungsgemäß. [GitHub-30467](https://github.com/magento/magento2/issues/30467)

<!-- ENGCOM-8430 PWA-1107-->

* Veraltete Attribute in den `ProductInterface` und `CategoryInterface`, um ihre Verwendung in der Storefront zu verhindern. [GitHub-30625](https://github.com/magento/magento2/issues/30625)

* Preise werden jetzt aus den Abfrageergebnissen der Produkte ausgeblendet, wenn die Kategorieberechtigungen so eingestellt sind, dass sie ausgeblendet werden. [GitHub-29926](https://github.com/magento/magento2/issues/29926)

<!-- MC-36898 PWA-1299-->

* Sie können jetzt die `addProductsToWishList`-Mutation verwenden, um ein Bundle-Produkt mit einer benutzerdefinierten Menge zu einer Wunschliste hinzuzufügen.

<!-- MC-36946 -->

* Die GraphQL-Reaktionszeit für Vorgänge vom Typ „Zum Warenkorb hinzufügen“ wurde verbessert.

<!-- ENGCOM-8099 -->

* Die `products`-Abfrage gibt jetzt die Stufenpreiswerte erwartungsgemäß zurück. [GitHub-29168](https://github.com/magento/magento2/issues/29168)

<!-- ENGCOM-7528 -->

* Ein redundantes `getMappedNums` wurde aus einer Schleife in `lib/internal/Magento/Framework/GraphQl/Query/EnumLookup.php` entfernt. [GitHub-30031](https://github.com/magento/magento2/issues/30031)

<!-- ENGCOM-8172 -->

* Die `products`-Abfrage gibt keinen Fehler mehr zurück, wenn das abgefragte Produkt ein deaktiviertes verwandtes Produkt hat. [GitHub-28892](https://github.com/magento/magento2/issues/28892)

<!-- MC-37395 -->

* Die `cart` Abfrage gibt jetzt Preise zurück, die in die richtige Währung (die standardmäßige Anzeigewährung) umgerechnet wurden. Zuvor gab die Abfrage den Artikelpreiswert in der Basiswährung zurück, und der Währungscode wurde als standardmäßige Anzeigewährung zurückgegeben.

<!-- MC-37388-->

* GraphQL berücksichtigt jetzt Katalogberechtigungen. Die Anwendung beschränkt, welche Elemente für eine `products` Abfrage basierend auf der Kundengruppe des Käufers zurückgegeben werden.

<!-- MC-39690-->

* Das Attribut `customizable_option` wurde mehreren Datentypen hinzugefügt, die das `CartItemInterface` implementieren.

<!-- MC-39744-->

* Es wurden Attribute für die `storeConfig` Abfrage hinzugefügt, um Informationen zu Stores, Store-Gruppen und Websites zurückzugeben.

<!-- MC-37414-->

* hat das `SelectedCustomizableOption.type`-Attribut wieder aktiviert. Darüber hinaus ist das `customizable_options`-Attribut in verschiedenen Implementierungen des `CartItemInterface` jetzt nicht mehr null.

<!-- MC-23860-->

* Die Suchfunktion der `products` Abfrage gibt keine Elemente mehr zurück, in denen Kategorieberechtigungen aktiviert wurden.

<!-- MC-37726-->

* Die `products` Abfrage gibt die richtige Währung für Store-Ansichten mit mehreren Währungen zurück.

<!-- MC-37727-->

* Beschriftungen für `products` Abfragefilter geben jetzt übersetzte Werte zurück, sofern sie für nicht standardmäßige Store-Ansichten gelten.

<!-- MC-37728-->

* Devisenbeträge auf Geschenkkarten im Warenkorb speichern.

<!-- MC-38443-->

* Es wurde der Datentyp `ConfigurableProductOptionsSelection` hinzugefügt, der Metadaten enthält, die den auswählbaren konfigurierbaren Optionen für ein Produkt entsprechen. Verwenden Sie dieses Objekt in einer `products` Abfrage, um die Anzahl der Mediensammlungselemente zu minimieren, die angezeigt werden, wenn der Käufer konfigurierbare Produktoptionen auswählt.

### Bilder

<!-- MC-36942-->

* Bilder auf der Startseite eines Shops werden jetzt erfolgreich gerendert. Zuvor war die HTML der Seitenquelle beschädigt, da die drei aufeinander folgenden Schrägstriche im base64-Code des Bildes als Kommentar falsch interpretiert wurden.

<!-- ENGCOM-8116 -->

* Die Abhängigkeit von der `fileinfo`-Erweiterung wurde aus dem CMS-Modul entfernt. Zuvor gab es einen Fehler, wenn Sie versuchten, ein Bild mit dem Bild-Uploader hochzuladen. Dieser wird gestartet, wenn Sie beim Hinzufügen von Inhalten auf **Bild einfügen** klicken. [GitHub-24332](https://github.com/magento/magento2/issues/24332), [GitHub-16531](https://github.com/magento/magento2/issues/16531), [GitHub-29852](https://github.com/magento/magento2/issues/29852)

<!-- ENGCOM-8020 -->

* Es wurde Unterstützung zum Lesen von `exif_image.png` oder `exif-image.jpeg` Metadaten hinzugefügt. [GitHub-1449](https://github.com/magento/adobe-stock-integration/issues/1449)

<!-- ENGCOM-8296 -->

* CMYK-Bildfarben werden jetzt korrekt gerendert. Wenn der Imagick-Adapter jetzt erkennt, dass ein geöffnetes Bild einen CMYK-Farbraum hat, wird der Farbraum in SRGB konvertiert. Zuvor wurden diese Bilder mit invertierten Farben gerendert. [GitHub-22375](https://github.com/magento/magento2/issues/22375)

<!-- ENGCOM-8251 -->

* Boolesche Werte sind für `image_with_border.phtml` nicht mehr festgelegt. Redundante `max-width`- und `height` wurden aus `.product-image-photo` entfernt. (Diese Werte werden bereits durch das Zurücksetzen von Stilen global für das Bild festgelegt.) [GitHub-30186](https://github.com/magento/magento2/issues/30186)

### Import/Export

<!-- MC-35081-->

* Der Kundenadressen-`region_id` wird beim Import von Kundenadressen über eine CSV-Datei (`entity type = "customer address"` und `import behavior = "add/update"`), aus der bestimmte Feldwerte gelöscht wurden, kein `NULL` mehr zugewiesen.

<!-- MC-35295-->

* Sie können jetzt Produktbilder während des Imports in der Storefront ausblenden.

<!-- MC-35836-->

* Wenn ein importiertes Produkt in der CSV-Datei auf 0, aber `is_in_stock set` 1 gesetzt `qty`, wird das Produkt nicht auf der Kategorieseite aufgeführt und auf der Produktdetailseite als nicht vorrätig gekennzeichnet. Zuvor waren Produkte mit diesen Werten nach dem Import in der Storefront sichtbar.

<!-- MC-38433-->

* Der CSV-Import ignoriert nicht mehr die `dropdown`- und `textarea` für zusätzliche Attribute. Zuvor wurden diese Attributwerte beim Import nicht aktualisiert.

<!-- MC-37933-->

* Die CSV-Datei für den Produktexport wird jetzt wie erwartet in der Admin-Liste der CSV-Exportdateien angezeigt. Zuvor gab die Anwendung beim Ausführen dieses Befehls einen Fehler aus: `bin/magento queue:consumers:start exportProcessor --single-thread --max-messages=10000`.

<!-- MC-37672-->

* Die Anwendung gibt beim Importieren von CSV-Daten, die bengalische (Bangla) Alphabetzeichen enthalten, keinen Fehler mehr aus.

<!-- MC-36410-->

* Die Anwendung zeigt jetzt eine informative Fehlermeldung an, wenn ein Administrator beim Importieren einer Datei **die seit dem Export geändert wurde, während er in Chrome**, auf „Daten überprüfen“ klickt. Zuvor hat die Anwendung einen Konsolenfehler angezeigt, dem Benutzer jedoch nicht mitgeteilt, wie er fortfahren soll.

<!-- ENGCOM-8252 -->

* Die Anwendung dupliziert Produktbilder nicht mehr, wenn Sie dieselben CSV-Produktdaten mehrmals importieren. [GitHub-21885](https://github.com/magento/magento2/issues/21885)

<!-- ENGCOM-8262 -->

* Die Beschränkung von 90 Zeichen für Bilddateinamen in `vendor/magento/framework/File/Uploader.php` wurde entfernt.  Zuvor durften Verzeichnis- und Dateinamen nicht länger als 255 Zeichen sein. Die Anwendung hat Produkte mit Bildern importiert, deren Dateiname dieses Limit überschreitet, die Bilddatei jedoch nicht importiert. [GitHub-29377](https://github.com/magento/magento2/issues/29377)

<!-- ENGCOM-8153 -->

* Couponcodes können jetzt erfolgreich in CSV oder XML exportiert werden. Zuvor zeigte die Anwendung einen 404-Fehler an, wenn Sie auf **CSV exportieren** oder **XML exportieren** klickten, als Sie versuchten, Coupons zu exportieren. [GitHub-29277](https://github.com/magento/magento2/issues/29277)

<!-- ENGCOM-8252 -->

* Duplizierte Produktbilder werden jetzt nach dem Importieren einer CSV-Datei, die Bilder enthält, entfernt. [GitHub-14398](https://github.com/magento/magento2/issues/14398), [GitHub-21885](https://github.com/magento/magento2/issues/21885)

### Index

<!-- MC-38003-->

* Die Leistung des partiellen Indexers wurde verbessert. Die Anwendung löscht jetzt die Cache-IDs, die für jede Batch-Iteration mit 1.000 ID geändert wurden. Im Cache-Kontext werden keine IDs mehr gesammelt. Zuvor wurden im Cache-Kontext für jede Batch-Iteration von 1.000 ID ID IDs akkumuliert und derselbe Satz von IDs für jede Iteration gelöscht.

<!-- ENGCOM-7929 -->

* Inkonsistenzen zwischen dem System zur teilweisen Neuindizierung und dem System zur vollständigen Neuindizierung wurden korrigiert. Beide Indizierungssysteme verwenden nun denselben Code, der ordnungsgemäß funktioniert. Zuvor verwendeten beide Indizierungssysteme eine andere Logik in Bezug auf die freigegebenen Indizierer, was möglicherweise dazu führte, dass Indexer nach jeder Ausführung des partiellen Neuindizierungssystems ungültig wurden. [GitHub-29478](https://github.com/magento/magento2/issues/29478), [GitHub-29297](https://github.com/magento/magento2/issues/29297)

<!-- MC-38168-->

* Wir haben Probleme mit dem manuellen Indexer behoben, die entweder zu leeren Kategorieseiten oder zu einer reduzierten Produktzahl auf Kategorieseiten geführt hatten. Probleme mit unvollständigen Kategorieseiten oder der Anzahl von Produkten sind aufgetreten, wenn:

   * Die `catalogsearch_fulltext` und `catalog_product_price` partiellen Indexer wurden in einem großen Katalog ausgeführt, bis diese Indexer die Ausführung abschlossen.

   * Der partielle Indexer wurde entweder auf `catalog_category_product` oder `catalog_product_category` Indizes ausgeführt und gleichzeitig wurde auf einem dieser Indizes eine vollständige Neuindizierung durchgeführt. Diese beiden Indizierungsprozesse konnten zu Konflikten führen, was dazu führte, dass Produkte auf Kategorieseiten fehlten.

   * `bin/magento indexer:reindex inventory` wurde in einem großen Katalog ausgeführt. Produkte fehlten auf den Kategorieseiten, bis die Ausführung des `catalogsearch_fulltext` partiellen Indexers abgeschlossen war.

<!-- MC-39700-->

* Der `Magento_Bulk` MySQL-Tabelle wurde ein Indexer hinzugefügt, der die Leistung von Massenvorgängen verbessert hat.

<!-- MC-38806-->

* Kommentare in Datenbanktabellen geben jetzt den Tabellenstatus nach der Neuindizierung genau wieder (`bin/magento indexer:reindex`). Zuvor enthielten die Tabellenkommentare nach der Neuindizierung dieselben Werte wie die Kommentare nach einer Neuinstallation.

<!-- ENGCOM-7542 -->

* Die `SELECT entity_id IN`-Anweisung wurde in -Bereitstellungen verbessert, in denen MariaDB v.10.3.18 implementiert wurde, wodurch die Leistung der Katalogkategorieindizierung verbessert wurde. [GitHub-25199](https://github.com/magento/magento2/issues/25199)

<!-- ENGCOM-8237 -->

* Magento Open Source hat die Cache-Leistung verbessert, da Tags nicht mehr mehrmals pro Indexerinstanz geleert werden müssen. [GitHub-29890](https://github.com/magento/magento2/issues/29890)

### Infrastruktur

<!-- MC-34353-->

* Sie können jetzt `app/etc/env.php` verwenden, um den Nachrichtenbroker von MYSQL in AMQP zu ändern.

<!-- MC-38242-->

* Probleme mit der Berechnung von Resten für Dezimalwerte für Produktmengen wurden in der entsprechenden JavaScript-Bibliothek korrigiert. Die Anwendung berechnete zuvor Dezimalbrüche von mehr als zwei Stellen falsch und zeigte anschließend eine falsche Meldung an.

<!-- MC-38993 ENGCOM-8473-->

* Die `\Magento\Authorization\Model\Rules::update` Methode wird nicht mehr unterstützt.  [GitHub-29128](https://github.com/magento/magento2/issues/29128)

<!-- ENGCOM-8000 -->

* Die Anwendung gibt beim Konvertieren eines Datumsobjekts aus UTC keinen schwerwiegenden Fehler mehr aus. Zuvor gab die `convertConfigTimeToUtc`-Methode unter bestimmten Bedingungen eine Ausnahme aus. [GitHub-29525](https://github.com/magento/magento2/issues/29525)

<!-- ENGCOM-7987 -->

* `DataObject` wurde in `\Magento\MediaGalleryCatalogUi\Ui\Component\Listing\Columns\Thumbnail::prepareDataSource` durch das Produktmodell ersetzt.[GitHub-1711](https://github.com/magento/adobe-stock-integration/issues/1711)

<!-- ENGCOM-7914 -->

* Der `RequireJS` kann blockierte Ressourcen nicht mehr erkennen. Zuvor erkannte der Resolver nicht richtig, ob alle Ressourcen auf einer Seite ordnungsgemäß geladen oder verarbeitet wurden, und die Seite wurde weiter geladen. [GitHub-28116](https://github.com/magento/magento2/issues/28116)

<!-- ENGCOM-8229 -->

* Bei der Validierung des Repository-Attributcodes wird jetzt `Magento\Eav\Model\Entity\Attribute::ATTRIBUTE_CODE_MAX_LENGTH` statt eines hartcodierten Werts berücksichtigt. [GitHub-29017](https://github.com/magento/magento2/issues/29017)

<!-- MC-35699-->

* Bei der HTML-Minimierung werden aus HTML-Zeichenfolgen in PHTML-Dateien keine dreifachen Schrägstriche (//) mehr entfernt. Zuvor wurden dreifache Schrägstriche während der Minimierung als Kommentare interpretiert, und der Rest der Zeile wurde bei der Bereitstellung in der generierten PHTML-Datei vollständig entfernt.

<!-- MC-38201-->

* Händler können Indexerabonnements jetzt auf Tabellenspaltenebene und nicht mehr auf Tabellenebene konfigurieren. Es wurde ein neues Argument zu `\Magento\Framework\Mview\View\Subscription` hinzugefügt, damit Spalten für eine bestimmte Ansicht- oder Tabellenkombination ignoriert werden können. [GitHub-30243](https://github.com/magento/magento2/issues/30243)

<!-- MC-30171-->

* Wenn Sie auf die **Zum Warenkorb hinzufügen** klicken, bevor die Produktseite von JavaScript vollständig initialisiert wurde, führt dies nicht mehr zu doppelten `form_key`. Zuvor konnte ein Produkt mit einem zwischengespeicherten `form_key`-Wert, der eine Ausnahme auslöste, zum Warenkorb hinzugefügt werden. Wenn **Zum Warenkorb hinzufügen** angeklickt wurde, bevor die JavaScript vollständig initialisiert wurde, stimmte der in den Formulardaten gesendete `form_key` nicht mit der Benutzersitzung überein, und das Produkt wurde nicht zum Warenkorb hinzugefügt. [GitHub-13746](https://github.com/magento/magento2/issues/13746)

<!-- ENGCOM-8107 -->

* Der aktuelle cURL-Client berücksichtigt jetzt Kopfzeilennamen, bei denen nicht zwischen Groß- und Kleinschreibung unterschieden wird. Zuvor wurde beim `Set-Cookie`-Vergleich zwischen Groß- und Kleinschreibung unterschieden, was bei einigen HTTP-Servern zu Problemen führen konnte. [GitHub-29524](https://github.com/magento/magento2/issues/29524)

<!-- ENGCOM-8360 -->

* Aktualisiertes XSD-URN-Format in XML-Dateien für `api-functional` und Testfälle. [GitHub-30552](https://github.com/magento/magento2/issues/30552)

<!-- ENGCOM-8295 -->

* Ein Ereignispräfix und ein Ereignisobjekt wurden zur Auflistung des Produktkatalogwerts hinzugefügt, um die Anpassung des Ladens der Sammlung von `\Magento\Catalog\Model\ResourceModel\Product\Option\Value\Collection` zu verbessern. [GitHub-29621](https://github.com/magento/magento2/issues/29621)

<!-- ENGCOM-8261 -->

* Alle Vorkommen von `array_merge` wurden überarbeitet, sodass sie das im Codierungsstandard empfohlene Format verwenden. [GitHub-30005](https://github.com/magento/magento2/issues/30005)

<!-- ENGCOM-7718 -->

* Ein `head.additional` Block des Typs `\Magento\Framework\View\Element\Text\ListText` wurde (`magento2/module-base`) zum `adminhtml` `default` hinzugefügt. [GitHub-29165](https://github.com/magento/magento2/issues/29165)

<!-- ENGCOM-8312 -->

* Dem Widget „Layout-Vorlagenmodul“ wurde die fehlende Escape-URL-Methode hinzugefügt. [GitHub-30036](https://github.com/magento/magento2/issues/30036)

<!-- ENGCOM-8127 -->

* Die `\Magento\Framework\Filesystem\Io\File::read()` Methode ist jetzt mit `\Magento\Framework\Filesystem\Io\IoInterface::read()` kompatibel. [GitHub-27866](https://github.com/magento/magento2/issues/27866)

### Klarna

* Die Abhängigkeit vom PayPal-Modul wurde entfernt. [GitHub-29421](https://github.com/magento/magento2/issues/29421)

### Protokollierung

<!-- ENGCOM-8443 -->

* Das `Magento_Logging` Modul hat jetzt neue Werte sowie die davor liegenden Werte korrekt registriert. Zuvor wurden in den Werten in der Spalte Wert vor Änderung Werte von K. A. angezeigt, unabhängig davon, ob es sich um die erste oder die nächste Änderung handelte oder wann der Standardwert zurückgegeben wurde. [GitHub-26943](https://github.com/magento/magento2/issues/26943)

### Mediensammlung

<!-- ENGCOM-8014 -->

* Die Seite **Stores** > **Configuration** > **Advanced** > **System** wurde aktualisiert, um den richtigen Produktnamen (Media Gallery) anzuzeigen. Es wurden kleinere Änderungen an der Benutzeroberfläche vorgenommen. [GitHub-1738](https://github.com/magento/adobe-stock-integration/issues/1738)

<!-- ENGCOM-8019 -->

* Links im Abschnitt Verwendet im Abschnitt Mediensammlungs-Bildbeschreibungen zeigen jetzt ein Raster an, das wie erwartet nach dem ausgewählten Bild gefiltert wurde. Zuvor war das angezeigte Raster nicht korrekt benannt, und die Listeneinträge waren nicht korrekt. [GitHub-1694](https://github.com/magento/adobe-stock-integration/issues/1694)

<!-- ENGCOM-8019 -->

* Sie können jetzt erfolgreich mehrere Bilder in der Mediensammlung bearbeiten. Zuvor war es nicht möglich, einem zweiten Bild Tags hinzuzufügen, nachdem einem Bild Tags hinzugefügt wurden. [GitHub-1755](https://github.com/magento/adobe-stock-integration/issues/1755)

<!-- ENGCOM-8015 -->

* Das Dropdown-Menü „Tags“ ist jetzt wie erwartet leer, nachdem Sie Tags aus einem Bild in der Mediensammlung entfernt haben.  [GitHub-1703](https://github.com/magento/adobe-stock-integration/issues/1703)

<!-- ENGCOM-8146 -->

* Die Batch-Verarbeitung für Warteschlangennachrichten der Mediensynchronisation wird jetzt unterstützt. [GitHub-1724](https://github.com/magento/adobe-stock-integration/issues/1724)

<!-- ENGCOM-8064 -->

* Die Anwendung zeigt jetzt eine 404-Seite wie erwartet an, wenn Sie versuchen, die Mediensammlung zu öffnen, wenn **Erweiterte Mediensammlung** deaktiviert ist. [GitHub-1760](https://github.com/magento/adobe-stock-integration/issues/1760)

<!-- ENGCOM-8072 -->

* `MediaGalleryMetadata` überspringt jetzt den Segmentleser, wenn eine Ausnahme auftritt, analysiert stattdessen die Bildmetadaten und zeigt sie erwartungsgemäß an. Zuvor waren die Bildmetadaten aufgrund einer Ausnahme vom `exif_read_data` Segmentleser leer. [GitHub-1782](https://github.com/magento/adobe-stock-integration/issues/1782)

<!-- ENGCOM-8069 -->

* Die Länge des Ordnernamens verhindert nicht mehr, dass ein Bild in die Mediensammlung hochgeladen wird. Media Gallery legt jetzt die Pfadspalte als Typ `text` fest. [GitHub-1778](https://github.com/magento/adobe-stock-integration/issues/1778)

<!-- ENGCOM-8217 -->

* Bild-Uploader zeigt jetzt die richtige Bildgröße an, wenn eine Ausgabedarstellung aus der Mediensammlung eingefügt wird. [GitHub-1806](https://github.com/magento/adobe-stock-integration/issues/1806)

<!-- ENGCOM-8467 -->

* Die Pfadüberprüfung wurde zum Plug-in &quot;`Mediagallery` Uploader“ hinzugefügt. Zuvor schlug die Validierung fehl und die Anwendung importierte keine Produkte, wenn **Alte Mediensammlung aktivieren** deaktiviert war. [GitHub-30649](https://github.com/magento/magento2/issues/30649)

<!-- ENGCOM-8057 -->

* `Magento_Cms::media_gallery` ACL-Unterressourcen wurden hinzugefügt und für die neue Mediensammlung erzwungen, um konfigurierte Berechtigungen für die folgenden diskreten Vorgänge zu unterstützen:

   * Hochladen von Assets
   * Einfügen von Assets in Inhalte
   * Löschen von Assets
   * Ordner erstellen
   * Ordner löschen. [GitHub-1487](https://github.com/magento/adobe-stock-integration/issues/1487)

<!-- ENGCOM-8047 -->

* Textzeichenfolgen und Ordnernamen der langen Mediensammlung werden nicht mehr abgeschnitten. Zuvor zeigte die Anwendung zugeschnittenen Text und Bilder und zeigte diese Nachricht: `We couldn't find any records`. [GitHub-1763](https://github.com/magento/adobe-stock-integration/issues/1763), [GitHub-1758](https://github.com/magento/adobe-stock-integration/issues/1758)

<!-- ENGCOM-8042 -->

* Die Anwendung zeigt die Schaltfläche **Ausgewählte hinzufügen** nicht mehr an, wenn beim Bearbeiten des Inhalts für eine neue Seite keine Bilder ausgewählt werden. [GitHub-1769](https://github.com/magento/adobe-stock-integration/issues/1769)

<!-- ENGCOM-8047 -->

* Filter werden jetzt wie erwartet auf das Kategorienraster **Inhalt** > **Mediensammlung** angewendet. [GitHub-1763](https://github.com/magento/adobe-stock-integration/issues/1763)

<!-- ENGCOM-8183 -->

* Die Konfiguration der Optionen für Multiplikations-Breakpoints in der Galerie funktioniert jetzt erwartungsgemäß. Zuvor funktionierte die Konfiguration der Breakpoint-Optionen nicht richtig, da `mediaCheck` beim Laden der Seite die Funktion Medienabfrage beenden auslöste. [GitHub-29933](https://github.com/magento/magento2/issues/29933)

### MFTF

<!-- ENGCOM-8359 -->

* Wiederholte Aktionen wurden in `CheckStaticBlocksTest` durch Aktionsgruppen ersetzt. [GitHub-30561](https://github.com/magento/magento2/issues/30561)

<!-- ENGCOM-8267 -->

* `AdminUpdateCategoryAndMakeInactiveTest` und `VerifyChildCategoriesShouldNotIncludeInMenuTest` wurden überarbeitet, um den Best Practices für MFTF zu entsprechen. [GitHub-30058](https://github.com/magento/magento2/issues/30058)

<!-- ENGCOM-8458 -->

* Duplizierte `AdminOpenCMSBlocksGridActionGroup` entfernt. [GitHub-30896](https://github.com/magento/magento2/issues/30896)

<!-- ENGCOM-8156 -->

* `AdminOpentCmsBlockActionGroup` durch AdminOpenCmsBlockActionGroup ersetzt. [GitHub-29839](https://github.com/magento/magento2/issues/29839)

<!-- ENGCOM-8226 -->

* Veraltete `GoToAttributeGridPageActionGroup`. [GitHub-30103](https://github.com/magento/magento2/issues/30103)

<!-- ENGCOM-8061 -->

* Dem `Analytics` wurden Aktionsgruppen hinzugefügt. [GitHub-29500](https://github.com/magento/magento2/issues/29500)

<!-- ENGCOM-7334 -->

* `CheckCheckoutSuccessPageAsRegisterCustomerTest` und `CheckCheckoutSuccessPageAsGuestTest` wurden aktualisiert, um die erstellten Bestellungen nach der Testausführung zu stornieren. [GitHub-28324](https://github.com/magento/magento2/issues/28324)

<!-- ENGCOM-8214 -->

* `AdminNavigateToPageGridActionGroup` aufgrund von Redundanz entfernt. [GitHub-29838](https://github.com/magento/magento2/issues/29838)

<!-- ENGCOM-8122 -->

* Es wurde `ActionGroup` implementiert, um zur Kaufbestätigungsseite zu navigieren. [GitHub-29843](https://github.com/magento/magento2/issues/29843)

<!-- ENGCOM-8124 -->

* Es wurde `AdminOpenCreateNewCMSPageActionGroup` zum Navigieren implementiert, um eine neue CMS-Seite zu erstellen. [GitHub-29824](https://github.com/magento/magento2/issues/29824)

<!-- ENGCOM-8268 -->

* Es wurden Probleme mit dem Überspringen von MFTF-Tests für die CMS-Seite für die Mediensammlung behoben. [GitHub-30164](https://github.com/magento/magento2/issues/30164)

#### Neue Tests

<!-- ENGCOM-7804 -->

* Es wurde ein Test zur Aktivierung von E-Mails an Freunde in Admin hinzugefügt. [GitHub-29145](https://github.com/magento/magento2/issues/29145)

<!-- ENGCOM-8316 -->

* Es wurde ein Test zum Löschen eines CMS-Blocks aus einem Raster durch einen Administrator hinzugefügt. [GitHub-30372](https://github.com/magento/magento2/issues/30372)

<!-- ENGCOM-7933 -->

* Es wurde ein Test zum Anwenden einer Warenkorbregel auf einen einzelnen Bundle-Artikel hinzugefügt. [GitHub-28921](https://github.com/magento/magento2/issues/28921)

<!-- ENGCOM-8075 -->

* Es wurden Tests hinzugefügt, um zu überprüfen **ob „Verwendet in**-Informationen für ein Media Gallery-Bild angezeigt werden, nachdem die Entität gelöscht wurde. [GitHub-1774](https://github.com/magento/adobe-stock-integration/issues/1774)

#### Neue Aktionsgruppen

* `AssertStorefrontCustomerLogoutSuccessPageActionGroup`. [GitHub-29841](https://github.com/magento/magento2/issues/29841)-<!-- ENGCOM-8121 -->

* `AdminOpenConfigurationStoresPageActionGroup`. [GitHub-29848](https://github.com/magento/magento2/issues/29848)-<!-- ENGCOM-8259 -->

* `ReloadPageActionGroup`. [GitHub-30683](https://github.com/magento/magento2/issues/30683)-<!-- ENGCOM-8394 -->

* `StorefrontClickRefundTabCustomerOrderViewActionGroup`. [GitHub-30032](https://github.com/magento/magento2/issues/30032)-<!-- ENGCOM-8203 -->

* `AdminOpenAdminThreeDSecurePageActionGroup`. [GitHub-29845](https://github.com/magento/magento2/issues/29845)-<!-- ENGCOM-8115 -->

* `AdminCustomerClickFirstRowEditLinkActionGroup`.  [GitHub-29501](https://github.com/magento/magento2/issues/29501)-<!-- ENGCOM-8043 -->

* `StorefrontClickAddToCartButtonActionGroup`. [GitHub-29823](https://github.com/magento/magento2/issues/29823)-<!-- ENGCOM-8113 -->

* `AdminDeleteTaxRateActionGroup`. [GitHub-29940](https://github.com/magento/magento2/issues/29940)-<!-- ENGCOM-8192 -->

* `AdminOpenWebConfigurationPageActionGroup`. [GitHub-29846](https://github.com/magento/magento2/issues/29846)-<!-- ENGCOM-8126 -->

* `AdminOpenGeneralConfigurationPageActionGroup`. [GitHub-29847](https://github.com/magento/magento2/issues/29847)-<!-- ENGCOM-8114 -->

* `AdminOrderClickSubmitOrderActionGroup`. [GitHub-29649](https://github.com/magento/magento2/issues/29649)-<!-- ENGCOM-8023 -->

* `AdminOpenCatalogProductPageActionGroup`. [GitHub-29941](https://github.com/magento/magento2/issues/29941)-<!-- ENGCOM-8209 -->

* `AdminClickInvoiceButtonIntoOrderActionGroup`. [GitHub-25399](https://github.com/magento/magento2/issues/25399)-<!-- ENGCOM-8210 -->

* `AdminGridBulkActionGroup`. [GitHub-28324](https://github.com/magento/magento2/issues/28324)<!-- ENGCOM-7334 -->

* `AdminGridColumnShowActionGroup`. [GitHub-28324](https://github.com/magento/magento2/issues/28324)<!-- ENGCOM-7334 -->

* `AdminOpenIndexManagementPageActionGroup`. [GitHub-29825](https://github.com/magento/magento2/issues/29825)-<!-- ENGCOM-8123 -->

* `AdminOpenCatalogSearchTermIndexPageActionGroup`. [GitHub-29844](https://github.com/magento/magento2/issues/29844)-<!-- ENGCOM-8128 -->

* `AdminClickAddProductToggleAndSelectProductTypeActionGroup`. [GitHub-30917](https://github.com/magento/magento2/issues/30917)-<!-- ENGCOM-8439 -->

* `StorefrontCheckoutClickSaveAddressButtonActionGroup`. [GitHub-30916](https://github.com/magento/magento2/issues/30916)-<!-- ENGCOM-8454 -->

* `AdminOpenCurrencyRatesPageActionGroup`. [GitHub-30783](https://github.com/magento/magento2/issues/30783)-<!-- ENGCOM-8432 -->

* `AdminClickGetShippingMethodsAndRatesActionGroup`. [GitHub-30782](https://github.com/magento/magento2/issues/30782)-<!-- ENGCOM-8436 -->

* `AdminSelectFixedShippingMethodActionGroup`. [GitHub-30782](https://github.com/magento/magento2/issues/30782)-<!-- ENGCOM-8436 -->

* `StorefrontClickProceedToCheckoutActionGroup`. [GitHub-30926](https://github.com/magento/magento2/issues/30926)-<!-- ENGCOM-8438 -->

* `StorefrontOpenMyAccountPageActionGroup`. [GitHub-29842](https://github.com/magento/magento2/issues/29842)-<!-- ENGCOM-8143 -->

### Newsletter

<!-- MC-38789-->

* Administratoren können jetzt ein Kundenkonto wie erwartet bearbeiten, wenn der Kunde einen Newsletter in der Warteschlange abonniert hat. [GitHub-30645](https://github.com/magento/magento2/issues/30645)

<!-- ENGCOM-8034 -->

* Die Anwendung sendet jetzt die Newsletter-Anmeldebestätigung erneut, wenn der Erstkäufer sein Newsletter-Abonnement nicht bestätigt. [GitHub-28422](https://github.com/magento/magento2/issues/28422)

<!-- ENGCOM-8429 -->

* Sie können jetzt ein Kundenkonto wie erwartet bearbeiten, wenn der Kunde einen Newsletter in der Warteschlange abonniert hat. [GitHub-30645](https://github.com/magento/magento2/issues/30645)

### Zahlungsmethoden

<!-- MC-35161-->

* Zahlungsmethoden werden jetzt für alle Websites wie erwartet in einer Multi-Store-Bereitstellung in der Admin geladen.

<!-- MC-35152-->

* Die Anwendung schließt jetzt Payflow Pro-Zahlungen erfolgreich ab, wenn der Name des Käufers akzentuierte Buchstaben enthält. Zuvor wurde die Zahlung nicht abgeschlossen und die Anwendung protokollierte diesen Fehler: `report.CRITICAL: String to be escaped was not valid UTF-8 or could not be converted`.

#### PayPal

<!-- MC-35692-->

* Händler können jetzt erfolgreich eine Bestellung vom Administrator aufgeben, nachdem sie von einer Zahlungsmethode, die eine Kreditkarte verwendet, zu einer Zahlungsmethode ohne Kreditkarte gewechselt haben. Wenn ein Händler zuvor auf die Schaltfläche **Bestellung übermitteln** geklickt hat, wurde der Ladevorgang gestartet, jedoch nie abgeschlossen, und die Bestellung wurde nicht aufgegeben.

<!-- MC-37649-->

* Die Anwendung erstellt keine doppelten Bestellungen mehr, wenn eine Bestellung mit PayPal Express aufgegeben wird. Wenn ein Käufer versucht hat, für eine Bestellung mit PayPal Express zu bezahlen, aber PayPal einen Fehler zurückgegeben hat, hat die Anwendung die Bestellung dennoch erstellt. Dies führte zu doppelten Bestellungen auf der Website des Händlers. [GitHub-13952](https://github.com/magento/magento2/issues/13952)

<!-- MC-38829-->

* PayPal-Abrechnungsberichte sind jetzt wie erwartet unter **Berichte** > **Verkauf** > **PayPal-Abrechnung** verfügbar. Zuvor listete die Anwendung diese Berichte nicht auf dem Berichtsraster der PayPal-Abrechnung auf und zeigte diese Nachricht an: `We couldn't find any records`.

<!-- MC-39442-->

* Durch Klicken auf die **PayPal**-Schaltfläche während des Checkouts wird kein redundanter `web-api` mehr Trigger. Zuvor wurden zwei Anfragen ausgelöst, die die Gebühr für das Produkt verdoppelten.

<!-- ENGCOM-8173 -->

* Gäste-Shopper können jetzt PayPal-Bestellungen aufgeben, wenn **Automatische Zuordnung zur Kundengruppe** aktiviert ist. Die Bezahlung erfolgt am PayPal-Gateway, die Bestellung wird in Magento erstellt und der Käufer sieht die Bestelldankseite. Zuvor wurde die Bestellung erfolgreich auf dem PayPal-Gateway verarbeitet, aber die Bestellung wurde nicht in Magento Open Source erstellt. Der Erstkäufer wurde stattdessen zur Seite für die Bestellüberprüfung weitergeleitet, auf der die Anwendung den folgenden Fehler anzeigte: `Failed address validation: %1" error`. [GitHub-25399](https://github.com/magento/magento2/issues/25399)

### Leistung

<!-- MC-37705-->

* Leistungsprobleme in `module-catalog-import-export/Model/Import/Product/Option.php` wurden behoben. Der Zeitaufwand für den Export oder Import von mehr als 100.000 Datensätzen wurde reduziert. Siehe den [Import/Export dauert bei einer großen Anzahl von Produktoptionen länger als erwartet](https://support.magento.com/hc/en-us/articles/360050695772) Wissensdatenbank-Artikel.

<!-- MC-37799-->

* `Magento_Csp/Model/BlockCache` wurde überarbeitet, um sowohl den Speicherverbrauch als auch die Erstellung unnötig großer zwischengespeicherter Zeichenfolgen zu reduzieren. Zuvor waren Seiten mit dynamisch auf die Whitelist gesetzten Skripten und Stilen häufig auf Leistungsprobleme zurückzuführen. [GitHub-29964](https://github.com/magento/magento2/issues/29964)

<!-- MC-37816 -->

* Wir haben die Leistung der geplanten Exporte von Katalogen, die mehr als 100.000 Produkte umfassen, die Verbraucher verwenden, verbessert.

<!-- MC-38306 -->

* Die Anwendung leert den Kategorie-Cache nicht mehr, wenn Sie ein deaktiviertes Produkt zu einer Kategorie hinzufügen oder speichern. Zuvor hat die Anwendung den Cache für zugehörige Kategorien trotz des Produktstatus geleert, was sich auf die Server-Leistung auswirkte.

<!-- MC-38518 -->

* Die Seitenladezeit für die Aktualisierung der Produktmenge im Warenkorb wurde verbessert. Zuvor führte die Anwendung mehrere separate Abfragen für jedes Produkt im Warenkorb aus, was die Seitenladezeit verlängerte.

<!-- MC-39700 -->

* Der `Magento_Bulk` MySQL-Tabelle wurde ein Indexer hinzugefügt, der die Leistung von Massenvorgängen verbessert hat.

<!-- MC-38593 -->

* Die Anwendung speichert jetzt die untergeordneten IDs von konfigurierbaren Produkten zwischen. Dies hat die Seitenladeleistung verbessert, indem die Anzahl der Datenbankanfragen reduziert wurde. [GitHub-30585](https://github.com/magento/magento2/issues/30585)

<!-- MC-37594 -->

* Das Laden des Admin-Dashboards wurde verbessert. Zuvor wurden in der Anwendung Registerkartennamen als Liste angezeigt, bevor das Laden der Seite abgeschlossen war.

<!-- MC-37417 -->

* Die Redis-Cache-Verwaltung wurde durch das Hinzufügen von Ablaufbeschränkungen für Layout-Caches verbessert. Zuvor erreichten Redis-Caches in großen Bereitstellungen schnell den zugewiesenen maximalen Speicher, und die Anwendung meldete Fehler bei Schreibvorgängen.

<!-- ENGCOM-8016 -->

* Die Checkout-Leistung wurde durch das Entfernen einer redundanten Datenbankabfrage in `app/code/Magento/Catalog/Model/CategoryLink.php` verbessert. [GitHub-29453](https://github.com/magento/magento2/issues/29453)

<!-- ENGCOM-8290 -->

* `Magento\Framework\DB\Adapter\Pdo\Mysql->isTableExists` wurde überarbeitet, um die Leistung zu verbessern. Redundante Aufrufe von `SHOW TABLE STATUS` zur Überprüfung des Vorhandenseins einer Tabelle wurden reduziert. [GitHub-29662](https://github.com/magento/magento2/issues/29662)

<!-- ENGCOM-8258 -->

* `getPageLayoutsConfig` wird jetzt im Cache gespeichert, was die Leistung des Konfigurations-Builders verbessert hat. [GitHub-29546](https://github.com/magento/magento2/issues/29546)

### beständig

<!-- MC-36647 -->

* Käufer können keine Bestellung mehr aufgeben, nachdem ihr Sitzungs-Cookie abgelaufen ist, wenn der persistente Warenkorb aktiviert ist. Stattdessen zeigt das Programm die Anmeldeseite an, damit sich der Käufer anmelden kann. Zuvor hat die Anwendung die Bestellung aufgegeben. Die Anwendung validierte den persistenten Kunden nicht ordnungsgemäß, als die `PHPSESSID` abgelaufen war, und `customerSession` wurde aus den persistenten Informationen neu erstellt.

<!-- MC-39127-->

* Die Anwendung zeigt jetzt die Begrüßungsnachricht wie erwartet an, nachdem ein Käufer sich bei einem Store angemeldet hat, in dem der beständige Warenkorb aktiviert ist. Zuvor hat die Anwendung das **Sie nicht?** Nachricht nach der Anmeldung.

<!-- MC-38269-->

* Die Anwendung zeigt nicht mehr die **Sie nicht?** Text, wenn ein Kunde beim Anmelden bei einer Bereitstellung, bei der der persistente Warenkorb aktiviert ist, die Option **Angaben speichern** auswählt.

<!-- MC-37109-->

* Die Anwendung zeigt den Inhalt des Warenkorbs eines Kunden nicht mehr an, nachdem die Kundensitzung abgelaufen ist. Zuvor zeigte die Anwendung diesen Fehler an, wenn ein Gastkunde versuchte herauszufinden, wann der persistente Warenkorb aktiviert war: `No such entity with cartid = 0`.

### Preisgestaltung

<!-- MC-34394-->

* Aufeinander folgende asynchrone Preisaktualisierungen beeinträchtigen einander nicht mehr und jedem Vorgang wird der richtige Status zugewiesen. Wenn eine asynchrone Preisaktualisierung fehlschlug, schlugen bisher alle folgenden asynchronen Preisaktualisierungen fehl, bis die entsprechende Verbraucherwarteschlange neu gestartet wurde. [GitHub-27865](https://github.com/magento/magento2/issues/27865)

### Berichte

<!-- MC-36652 38925-->

* **Berichte** > **Marketing** > **Produkte in Warenkörben** zeigt jetzt nur noch den Datensatz im zulässigen Gültigkeitsbereich des Benutzers an, der den Bericht generiert. Zuvor waren alle Daten für alle Bereiche verfügbar.

<!-- MC-38074-->

* Die Anwendung verwendet jetzt die Währung, die im Rollenbereich des Händlers angegeben ist, der den Bericht generiert, wenn die Produktwährung im Bericht „Produkte im Warenkorb“ angezeigt wird.

<!-- MC-37934-->

* Die Produktfunktionen „Kürzlich angezeigt“ und „Kürzlich verglichen“ zeigen jetzt Statistiken für verschiedene Stores und Websites in Admin an, wie dies bei einer Multi-Store-Bereitstellung erwartet wird. Zuvor berücksichtigten diese Funktionen nicht alle Stores oder Websites.

<!-- MC-37217-->

* In den Bestellberichten wird nun das richtige Währungssymbol verwendet.

<!-- ENGCOM-8314 -->

* Das Programm überprüft jetzt, ob ein Token vorhanden ist, wenn ein Benutzer auf die Schaltfläche Admin-Dashboard **Zum erweiterten Bericht wechseln** klickt.  Wenn das Token vorhanden ist, zeigt die Anwendung die Seite Erweiterte Berichterstellung an. Wenn das Token nicht konfiguriert ist, zeigt die Anwendung eine informative Seite im Benutzerhandbuch an. [GitHub-25411](https://github.com/magento/magento2/issues/25411)

### Reviews

<!-- MC-37117-->

* Die Seite „Neue Überprüfung“ wird nun wie erwartet geladen, wenn Sie auf die Schaltfläche **Neue Überprüfung** in Admin **Marketing** > **Alle Überprüfungen** klicken. Wenn Sie auf dieser Seite auf ein Produkt klicken, wird das erwartete neue Überprüfungsformular für dieses Produkt geöffnet.

<!-- ENGCOM-8383 -->

* Die Anwendung gibt diesen Fehler nicht mehr aus, wenn Sie versuchen, eine Bestellung über Admin **Marketing** > **Alle Reviews**: `Uncaught TypeError: Event.observe is not a function` zu bearbeiten.  [GitHub-30388](https://github.com/magento/magento2/issues/30388)

### Verkauf

<!-- MC-36219-->

* Die Spalte `order_created_at` der `sales_shipment_grid` wird jetzt nach jeder Aktualisierung erwartungsgemäß aktualisiert.

<!-- MC-36405-->

* Sie können jetzt ein Produkt mit einem Datum für benutzerdefinierte Optionen erfolgreich aus einem Store neu bestellen, für den **JavaScript-Kalender verwenden** aktiviert ist. Zuvor hat das Programm beim Versuch, eine neue Bestellung aufzugeben, den Artikel nicht zum Warenkorb hinzugefügt und den folgenden Fehler angezeigt: `Could not add the product with SKU "simp1" to the shopping cart: Please specify date required option(s).`

<!-- MC-36533-->

* Die Anwendung schließt eine Bestellung nicht mehr sofort, wenn ein Käufer eine Bestellung auscheckt, die aus einem virtuellen Produkt mit Gesamtkosten von 0 USD in Bereitstellungen besteht, in denen die Checkout-Methode Null-Zwischensumme aktiviert ist.

<!-- MC-36755-->

* Die Anwendung archiviert eine Bestellung nicht mehr, bevor sie verarbeitet wird. Zuvor hatte die Mehrfachauswahl-Aktion im Admin-Bestellraster Auswirkungen auf nicht ausgewählte Bestellungen.

<!-- MC-37371-->

* Das Raster für die Gutschrift zeigt jetzt das richtige Währungssymbol an, wenn die Basiswährung Saudi-Rial (SAR) festgelegt ist.

<!-- MC-37880-->

* Die Anwendung zeigt jetzt während des Checkouts die Informationen zur Lieferadresse konsistent wie erwartet auf der Bestellseite an.

<!-- MC-38666-->

* Der Wert von `total_qty` entspricht nun dem Wert von `total_qty_ordered` in Verkaufsrechnungen.

<!-- MC-38717-->

* Der asynchrone Versand von Verkaufs-E-Mails sendet jetzt nur noch E-Mails für Bestellungen, die nach dem Datum der letzten Aktualisierung erstellt wurden. Zuvor filterte die Anwendung die E-Mails nicht nach dem Datum, an dem der asynchrone Versand aktiviert wurde.

<!-- MC-39135-->

* Die Anwendung sendet jetzt die Rechnung wie erwartet, wenn eine Bestellung vom Administrator aufgegeben wird.

<!-- MC-38917-->

* Die Anwendung löscht jetzt vorhandene Bestelldaten während einer Sitzung, wenn ein Händler eine neue Bestellung für einen Kunden über den Administrator erstellt.

<!-- MC-38915-->

* Sie können jetzt die Kundengruppe für neue Kunden ändern, die über einen Admin-Auftrag erstellt werden, wenn **Automatische Zuordnung zur Kundengruppe aktivieren** aktiviert ist. Sie können auch eine Kundengruppe auf Grundlage der MwSt.-Validierung zuweisen. Zuvor hat das Anfrageobjekt bei der Validierung der MwSt.-Nummer die zugewiesene `group_id` nicht überprüft. Standardmäßig wird der `group_id` verwendet.

<!-- MC-37539-->

* Die Anwendung ändert den Status einer benutzerdefinierten Bestellung mit `Suspected Fraud` Status nicht mehr in `Processing`, nachdem ein Händler eine Teillieferung mit der REST-API erstellt hat.

### Verkaufsregel

<!-- MC-34793-->

* Gutscheincodes, die basierend auf der Versandmethode angewendet wurden, werden nicht mehr angewendet, wenn ein Käufer die Versandmethode ändert. Zuvor löschte die Anwendung keine Gutscheincodes, wenn Käufer die Versandmethoden wechselten.

<!-- MC-34649-->

* Käufer können einen Gutscheincode nicht öfter anwenden, als es die Einstellung **Benutzer pro Kunde** erlaubt. Wenn ein Käufer zuvor mehrere Browser-Fenster geöffnet hatte und mehrere Bestellungen gleichzeitig aufgab, erhielt jede Bestellung den Rabatt, obwohl die Einstellung **Benutzer pro Kunde** einen Wert von **1** hatte.

### Suche {#search-heading}

<!-- MC-35095-->

* Elasticsearch gibt keinen unbekannten Modifikatorfehler mehr aus, wenn ein Käufer nach einem Suchsynonym sucht. Zuvor fehlte dem Ausbrecher ein Schrägstrich-Symbol in regulären Ausdrücken, was zu einem schwerwiegenden Fehler führte.

<!-- MC-37577-->

* Die erweiterte Suche gibt die untergeordneten Elemente konfigurierbarer Produkte nicht mehr als einzelne Suchergebnisse zurück, wenn die untergeordneten Produkte mit der Sichtbarkeit konfiguriert wurden, die auf &quot;**einzeln sichtbar“ festgelegt**.

<!-- MC-37954-->

* Beim Elasticsearch von Produktnamen in Suchergebnissen wird nicht mehr zwischen Groß- und Kleinschreibung unterschieden.

<!-- ENGCOM-8329 -->

* Die Suchergebnisseite wird jetzt wie erwartet zwischengespeichert, wenn die Einstellung **Anzahl der wichtigsten Suchergebnisse, die zwischengespeichert werden sollen, auf 0 setzen** in Admin **Stores** > **Configuration** > **Catalog** > **Catalog** > **Catalog Search** aktiviert ist.

<!-- MC-36807-->

* Der Katalogsuchindex wird jetzt ausgeführt, ohne dass aufgrund der Beschränkung der Elasticsearch-Felder ein Fehler ausgelöst wird. Zuvor gab die Anwendung den folgenden Fehler aus: `Limit of total fields [xxx] in index [m24dev_product_1_v10] has been exceeded`.

<!-- MC-35491-->

* Die Leistung der Katalogsuche wurde verbessert. Die Deaktivierung **Suchvorschläge aktivieren** (**Stores** > **Konfiguration** > **Katalog** > **Katalogsuche** ) funktioniert erwartungsgemäß. Zuvor wurde von der Anwendung die MySQL-`search_query` anstelle von Elasticsearch für Suchvorschläge mit automatischer Vervollständigung abgefragt. [GitHub-25534](https://github.com/magento/magento2/issues/25534)

<!-- MC-35256-->

* Elasticsearch filtert jetzt die Produktpreise genauso wie MySQL. Der Feldtyp `price_*` wurde im Elasticsearch-Index von `float` in `double` geändert, um die Genauigkeit zu verbessern und einen Gleitkommafehler zu korrigieren.

<!-- ENGCOM-8393 -->

* Dem Administrator wurde ein Keydown-Ereignis-Listener hinzugefügt, um das globale Suchformular zu aktivieren, wenn ein Schrägstrich eingegeben wird. [GitHub-29551](https://github.com/magento/magento2/issues/29551)

<!-- MC-24217-->

* Elasticsearch gibt keinen Fehler mehr aus, sondern zeigt stattdessen keine Produkte wie erwartet an, wenn ein `string` verwendet wird, um Produkte nach Attribut mit dem Backend-Typ &quot;`integer`&quot; oder &quot;`decimal`&quot; zu filtern. Zuvor hat die Anwendung diesen Fehler in `exception.log` angezeigt: `number format exception`.

<!-- ENGCOM-8303 -->

* Elasticsearch löst keine Ausnahme mehr aus, wenn ein Suchbegriff ein `/` enthält.  [GitHub-25886](https://github.com/magento/magento2/issues/25886), [GitHub-25110](https://github.com/magento/magento2/issues/25110)

* Die Suche ist jetzt für eine ausgewählte Kundengruppe in der Produktabfrage wie erwartet deaktiviert, wenn die Konfigurationseinstellung **Katalogsuche nicht zulassen nach** in der allgemeinen Kategorieberechtigungen aktiviert ist. [GitHub-29927](https://github.com/magento/magento2/issues/29927)

<!-- ENGCOM-8466 -->

* Suchergebnisse enthalten nicht mehr mehrere Anführungszeichen desselben Wortes. [GitHub-30104](https://github.com/magento/magento2/issues/30104)

### Lieferung

<!-- MC-38247 -->

* Der Checkout-Prozess schlägt nicht mehr fehl, wenn eine Netzwerkunterbrechung die Verbindung zur DHL-Versandmethode unterbricht. Stattdessen zeigt die Anwendung andere verfügbare Versandmethoden an. Zuvor wurde der Checkout-Prozess angehalten, als die Verbindung zum DHL-Versand unterbrochen wurde, und die Anwendung zeigte diesen Fehler an: `Sorry, no quotes are available for this order at this time`. [GitHub-29902](https://github.com/magento/magento2/issues/29902)

<!-- MC-35194-->

* Die Felder, die die UPS Versandmethode unter Admin **Stores** > **Konfiguration** > **Vertrieb** > **Versandmethoden** beschreiben, sind jetzt erwartungsgemäß aktiviert.

<!-- MC-35633-->

* Sendungen, die über den Endpunkt &quot;POST `/rest/V1/shipment`&quot; erstellt wurden, aktualisieren jetzt die Bestellungen ordnungsgemäß. Zuvor hat die Anwendung eine Lieferung erstellt, aber der Status der Lieferung blieb im Status Verarbeitung läuft .

<!-- MC-37120-->

* Die Anwendung entfernt keine einfachen Produkte mehr aus dem Warenkorb, wenn ein anderes Produkt vor dem Checkout mit Versand an mehrere Adressen aus dem Warenkorb entfernt wird. [GitHub-30259](https://github.com/magento/magento2/issues/30259)

<!-- MC-38031-->

* Auf der Seite „Bestellprüfung“ wird nun der Steuerbetrag vor dem Versandbetrag angezeigt, wie dies für Bestellungen erwartet wird, die an mehrere Adressen versendet werden.

<!-- ENGCOM-8257 -->

* UPS Sendungsverfolgung zeigt jetzt nur noch dann den Status `Delivered On` an, wenn ein Paket zugestellt wurde. [GitHub-30032](https://github.com/magento/magento2/issues/30032)

<!-- MC-38825-->

* Die Anwendung zeigt jetzt die richtige Zwischensumme des Warenkorbs für Bestellungen an, die ein virtuelles Produkt enthalten, wenn der Käufer zum Warenkorb zurückkehrt, indem er mit mehreren Adressen auscheckt.

<!-- MC-38682-->

* Händler können jetzt auf der Versandseite für eine bestehende Bestellung, die FedEx-Versand verwendet, ein Versandlabel erstellen, wenn die JavaScript-Bündelung aktiviert ist. Zuvor gab die Anwendung einen Fehler aus, als der Händler auf die Schaltfläche **Versandlabel erstellen** klickte.

<!-- MC-36953-->

* Der Link zur Sendungsnachverfolgung in der an Kunden gesendeten Sendungsbestätigungs-E-Mail funktioniert jetzt erwartungsgemäß. Zuvor gab dieser Link einen 404-Fehler zurück.

<!-- ENGCOM-8025 -->

* Die Anwendung zeigt jetzt eine informative Fehlermeldung an, wenn ein Käufer mit mehreren Adressen auscheckt und dann alle Produkte außer einem virtuellen Produkt entfernt. [GitHub-25595](https://github.com/magento/magento2/issues/25595)

<!-- ENGCOM-8253 -->

* Sie können jetzt für eine Teilbestellung wie erwartet einen Versandtitel erstellen. Wenn Sie zuvor versucht haben, eine Versandkennzeichnung für nur einen Artikel aus einer Bestellung zu erstellen, hat die Anwendung alle Produkte zum Paket hinzugefügt und die Validierung ist fehlgeschlagen. [GitHub-29552](https://github.com/magento/magento2/issues/29552)

<!-- ENGCOM-8154 -->

* Die Validierung für die Versandmethode wird beim Aufruf von `/V1/guest-carts/:cartId/totals-information` nicht mehr umgangen. [GitHub-25147](https://github.com/magento/magento2/issues/25147)

### Sitemap

<!-- MC-37306-->

* Sitemaps, die von `cron` generiert werden, enthalten jetzt richtige Bild-URLs. Zuvor war der Pfad des zwischengespeicherten Bildes in Bereitstellungen mit mehreren Speichern falsch.

### store

<!-- ENGCOM-7543 -->

* Die Sortierreihenfolge der Stores in Admin und Main Store Switcher wird jetzt in Admin geändert. [GitHub-13401](https://github.com/magento/magento2/issues/13401)

<!-- ENGCOM-8274 -->

* Das Programm erstellt jetzt die richtigen URLs für Kategorien und Produkte, nachdem der URL-Schlüssel der obersten Ebene einer Store-Ansicht geändert wurde. Wenn die Kategoriestruktur einer Store-Ansicht geänderte `url_keys` enthielt und sich ein Kategorieschlüssel nicht geändert hat, der Schlüssel der übergeordneten Kategorie jedoch, wurde beim Erstellen von URLs im Original-Code die standardmäßige Store-Ansicht der Kategorie verwendet. [GitHub-28633](https://github.com/magento/magento2/issues/28633)

### Zielgruppenregeln

<!-- MC-34998-->

* Das Laden von Produktdetailseiten wurde optimiert. Wir haben Indizes für Datenbanktabellen hinzugefügt, die die Abfrage von Zielregelbedingungen für viele Fälle optimieren.

### Steuer

<!-- MC-37666-->

* Die MwSt.-Validierung bei einem Gastauftrag führt nicht mehr dazu, dass der Antrag das Angebot mit einer falschen Steuerklasse des Kunden speichert. [GitHub-30018](https://github.com/magento/magento2/issues/30018)

<!-- MC-37761-->

* Bestellungen, die an mehrere Adressen gesendet werden, können jetzt beim Checkout gespeichert werden, wenn FTP konfiguriert ist. Nachdem eine Bestellung für mehrere Adressen abgeschlossen wurde, hat die Anwendung bisher eine leere Seite anstelle der Auftragserfolgsseite angezeigt.

<!-- ENGCOM-8158 -->

* Produktdetailseiten der Storefront zeigen jetzt wie erwartet alte und neue Preise mit und ohne Steuer an. [GitHub-27500](https://github.com/magento/magento2/issues/27500), [GitHub-11998](https://github.com/magento/magento2/issues/11998)

### Test

<!-- MC-37364-->

* `bin/magento dev:tests:run` startet nun wie erwartet die folgenden Tests: all, unit, integration, integration-all, static, static-all, integrity, legacy und default.

<!-- MC-38488-->

* `AdminMediaGalleryInsertLargeImageFileSizeTest` wurde überarbeitet.

<!-- ENGCOM-8158 -->

* Modultests sind jetzt mit PHPUnit 8 kompatibel. [GitHub-29779](https://github.com/magento/magento2/issues/29779)

<!-- ENGCOM-8009 -->

* `\Magento\TestFramework\TestCase\WebapiAbstract` enthält jetzt eine Funktion, die den Vergleich großer verschachtelter Arrays von erwarteten und tatsächlichen Ergebnissen in Tests unterstützt. Irrelevante Schlüssel im Ergebnis können jetzt ignoriert werden. [GitHub-29498](https://github.com/magento/magento2/issues/29498)

<!-- ENGCOM-8024 -->

* `AdminMediaGalleryCatalogUiEditCategoryGridPageTest` schlägt nicht mehr zufällig fehl. [GitHub-1764](https://github.com/magento/adobe-stock-integration/issues/1764)

<!-- ENGCOM-8041 -->

* `dev/tests/integration/testsuite/Magento/Customer/Controller/AccountTest` wurde verbessert. (`assert` basiert jetzt auf `XPath` Selektor anstelle von `assertStringContainsString`.) [GitHub-29700](https://github.com/magento/magento2/issues/29700)

<!-- ENGCOM-8017 -->

* Es wurde eine Testabdeckung für das `AdminAnalytics` hinzugefügt. [GitHub-29500](https://github.com/magento/magento2/issues/29500)

<!-- ENGCOM-8266 -->

* Integrations- und API-Funktionstests sind jetzt mit PHPUnit 9.3 kompatibel. [GitHub-30146](https://github.com/magento/magento2/issues/30146)

<!-- MC-35798 -->

* Es wurden Probleme mit dem GraphQL-`testRequestCacheTagsForCategoryListOnMultipleIds` behoben. [GitHub-29372](https://github.com/magento/magento2/issues/29372)

<!-- ENGCOM-7762 -->

* Kopfzeilenwerte, die URLs enthalten, werden jetzt in `ApiFunctional TestFramework` ordnungsgemäß analysiert. [GitHub-26425](https://github.com/magento/magento2/issues/26425)

<!-- MC-35798 8109-->

* Es wurden Probleme mit dem GraphQL-`testRequestCacheTagsForCategoryListOnMultipleIds` behoben. [GitHub-29372](https://github.com/magento/magento2/issues/29372)

<!-- ENGCOM-8382 -->

* `—no-tablespaces` wurde allen Vorkommen von `mysqldump` hinzugefügt, sodass Integrationstests ohne die Berechtigung `PROCESS` ausgeführt werden können (erforderlich seit MySQL 5.7.31 / 8.0.21, um `mysqldump` standardmäßig auszuführen). [GitHub-30566](https://github.com/magento/magento2/issues/30566)

### Design

<!-- ENGCOM-8419 -->

* Dem `bin/magento setup:static-content:deploy`-Befehl wurde ein neues `--no-parent`-Flag hinzugefügt, das verhindert, dass die übergeordneten Elemente eines Designs kompiliert werden. Mit diesem neuen Flag können Sie die Leistung des statischen Prozesses der Inhaltsbereitstellung erheblich verbessern, indem Sie unnötige Kompilierung vermeiden. Beachten Sie, dass diese neue Markierung bei Verwendung der `compact` nicht funktioniert. [GitHub-30184](https://github.com/magento/magento2/issues/30184)

<!-- MC-37630 -->

* Die Entwurfskonfiguration generiert keine DDL-Vorgänge mehr. Zuvor generierte die Anwendung beim Aktualisieren der Designkonfiguration DDL-Anweisungen, die Trigger für MySQL-Fehler verursachen konnten.

<!-- ENGCOM-8112 -->

* Redundanter Code im `Magento_ConfigurableProduct` im Admin-Design wurde entfernt.  [GitHub-29857](https://github.com/magento/magento2/issues/29857)

<!-- ENGCOM-8144 -->

* Redundante weniger Stile für die Navigation und nicht verwendete Eigenschaften im leeren Design wurden entfernt. [GitHub-29914](https://github.com/magento/magento2/issues/29914)

<!-- ENGCOM-8285 -->

* Dem leeren Design in der Mobilansicht wurde eine reduzierbare Navigationsfunktion hinzugefügt. [GitHub-30237](https://github.com/magento/magento2/issues/30237)

<!-- ENGCOM-7803 -->

* Das Laden von Web-Schriftarten für Designs wurde optimiert.  [GitHub-29526](https://github.com/magento/magento2/issues/29526)

<!-- ENGCOM-8068 -->

* Entwickler können jetzt den Schrifttyp angeben, wenn sie eine benutzerdefinierte Schriftart in einem Design deklarieren. [GitHub-29719](https://github.com/magento/magento2/issues/29719)

### Übersetzung und Gebietsschema

<!-- MC-36836 -->

* Die Datumsauswahl im Raster „Admin-Bestellungen“ funktioniert jetzt wie erwartet, wenn das Admin-Gebietsschema Arabisch (`ar_SA - Saudi Arabia`) ist.

<!-- MC-38476 -->

* Die Anwendung zeigt keine Fehlermeldung mehr an, wenn ein Käufer eine argentinische Adresse mit einer gültigen Postleitzahl eingibt, wenn er sich registriert oder eine neue Adresse hinzufügt. Zuvor hat die Anwendung diesen Fehler angezeigt: `Provided Zip/Postal Code seems to be invalid. Example: 1234. If you believe it is the right one you can ignore this notice.`

<!-- MC-38663-->

* Die Anwendung gibt keinen Fehler mehr aus, wenn ein Käufer eine fünfstellige Postleitzahl für eine koreanische Adresse eingibt.

<!-- ENGCOM-8244 -->

* Unterstützung für die in ISO 3166-[:UY definierten Uruguay-Regionen ](https://en.wikipedia.org/wiki/ISO_3166-2:UY) hinzugefügt. [GitHub-29729](https://github.com/magento/magento2/issues/29729)

<!-- ENGCOM-8220 -->

* `zip_codes.xml` wurde aktualisiert, um achtstellige Zahlen für brasilianische Postleitzahlen zu erzwingen. [GitHub-29984](https://github.com/magento/magento2/issues/29984)

<!-- ENGCOM-8304 -->

* Verbesserte Lokalisierung verbleibender nicht lokalisierter Phrasen. [GitHub-11175](https://github.com/magento/magento2/issues/11175)

<!-- ENGCOM-8380 -->

* Der Platzhalter für die Rastersucheingabe kann jetzt übersetzt werden. [GitHub-30510](https://github.com/magento/magento2/issues/30510)

<!-- ENGCOM-8018 -->

* Die Anwendung lädt jetzt Inline-Übersetzungen von JavaScript-Modulen nur noch herunter, wenn sie aktiviert sind.  [GitHub-29553](https://github.com/magento/magento2/issues/29553)

### Benutzeroberfläche

<!-- MC-38509-->

* Die **Konto erstellen** auf der Seite Neues Konto erstellen bleibt aktiv, wenn ein Käufer ungültige Daten eingibt. Zuvor war diese Schaltfläche deaktiviert, was Käufer daran hinderte, erneut zu versuchen, ein Konto zu erstellen, nachdem ein Fehler aufgetreten war. Dies war ein bekanntes Problem in 2.4.1. [GitHub-30513](https://github.com/magento/magento2/issues/30513)

<!-- MC-38698-->

* Das Laden des Versandrasters auf der Seite „Bearbeiten von Admin-Aufträgen“ wurde verbessert.

<!-- MC-37870-->

* Das Programm zeigt jetzt auf **Bestellseite das Kontrollkästchen** Wie Rechnungsadresse an, wenn Produkte per SKU zum Warenkorb hinzugefügt wurden.

<!-- ENGCOM-8007 -->

* Die CSS-Klasse, die die begrenzte Breite definiert hat, wird jetzt wie erwartet auf die Felder **Startzeit** unter Admin **Store** > **Configuration** > **Catalog** > **XML Sitemap** > **Erzeugungseinstellungen** angewendet.  [GitHub-29496](https://github.com/magento/magento2/issues/29496)

<!-- ENGCOM-7992 -->

* Es wurden Anzeigeprobleme mit der Beschriftung des Kontrollkästchens Allgemeine Geschäftsbedingungen behoben.  [GitHub-24060](https://github.com/magento/magento2/issues/24060)

<!-- ENGCOM-7948 -->

* Die Anwendung zeigt den CSS-Code für einen Preisblock der Stufe nicht mehr auf der Produktseite an, wenn die Preisstufen nicht verfügbar sind. [GitHub-29194](https://github.com/magento/magento2/issues/29194)

<!-- ENGCOM-8084 -->

* Die Position der Schaltflächen auf der Seite mit den Details zur Bildansicht wurde entsprechend den Richtlinien für die Benutzeroberfläche neu angeordnet.  [GitHub-1783](https://github.com/magento/adobe-stock-integration/issues/1783)

<!-- ENGCOM-8342 -->

* Das Textfeld „Couponcode“ wird jetzt in den Browsern Internet Explorer/EDGE in der richtigen Breite angezeigt.

<!-- ENGCOM-7630 -->

* Die `@button__border-radius` ist jetzt in der `lib/web/css/source/lib/variables/_buttons.less` definiert.  `border-radius` hat den Standardwert `3px`. Zuvor war `border-radius` hartcodiert.  [GitHub-28674](https://github.com/magento/magento2/issues/28674)

<!-- ENGCOM-8067 -->

* Die Senden-Suchschaltfläche (Lupe) im Mini-Suchfeld ist nun deaktiviert, bis die minimale Länge der Suchzeichenfolge erreicht wurde. [GitHub-29704](https://github.com/magento/magento2/issues/29704)

<!-- MC-38807-->

* Die Schaltfläche **Vorschau-**) funktioniert jetzt wie erwartet auf der Seite „Warteschlange bearbeiten“.

<!-- MC-31892-->

* Die Anwendung behält jetzt den Wert eines Attributs bei, wenn Sie das Attribut von einer Gruppe in eine andere verschieben.

<!-- ENGCOM-8085 -->

* Eine Variable für die Schriftstärke wurde zu `lib/web/css/source/lib/variables/_typography.less` hinzugefügt. [GitHub-29778](https://github.com/magento/magento2/issues/29778)

<!-- ENGCOM-8211 -->

* Die Filtersichtbarkeit funktioniert jetzt mit der Spaltensichtbarkeit, wie in Admin-Rastern erwartet.  [GitHub-30345](https://github.com/magento/magento2/issues/30345)

<!-- ENGCOM-8152 -->

* Optionen für die UI-Auswahl-Komponente sind nicht mehr sichtbar, wenn `this.disabled(true)` festgelegt ist. [GitHub-29098](https://github.com/magento/magento2/issues/29098)

<!-- ENGCOM-7901 -->

* Die Variable `@font-family-name__base` wird beim Laden der Schriftart „Open Sans“ nicht mehr verwendet. [GitHub-29515](https://github.com/magento/magento2/issues/29515)

<!-- ENGCOM-8120 -->

* Das Attribut WAI-ARIA `aria-atomic="true"` wurde zum Fehler-Container-Tag hinzugefügt. [GitHub-29560](https://github.com/magento/magento2/issues/29560)

<!-- ENGCOM-8175 -->

* UI-Komponentenraster zeigen jetzt eine genaue Anzahl ausgewählter Elemente an. Zuvor haben Raster eine falsche Anzahl von Auswahlen angegeben, wenn bei einer Suche nach einem Keyword alle Rasterelemente ausgewählt wurden und der Einkäufer anschließend die Auswahl einiger Elemente aufgehoben hat, bevor er das Kontrollkästchen Kopfzeile aktiviert hat. [GitHub-29968](https://github.com/magento/magento2/issues/29968)

<!-- ENGCOM-8118 -->

* Die Anwendung zeigt auf den Seiten „Rechnung“ und „Lieferübersicht“ kein nicht gerendertes HTML mehr an. [GitHub-29958](https://github.com/magento/magento2/issues/29958)

<!-- ENGCOM-8066 -->

* Durch Klicken auf **Optionen** auf der Seite Admin **Stores** > **Währungskurse** werden Benutzer jetzt zum erweiterten Abschnitt mit den Währungsoptionen auf der Systemkonfigurationsseite weitergeleitet. [GitHub-29336](https://github.com/magento/magento2/issues/29336)

<!-- ENGCOM-8361 -->

* Die Unterstützung für die Anzeige eines Widgets in Abhängigkeit von einer anderen Bedingung für `adminhtml` Widgets bei Verwendung eines Auswahlwidget-Typs wurde verbessert. [GitHub-13316](https://github.com/magento/magento2/issues/13316), [GitHub-7252](https://github.com/magento/magento2/issues/7252), [GitHub-6868](https://github.com/magento/magento2/issues/6868)

<!-- ENGCOM-8336 -->

* Der Abstand zwischen Text in Bestätigungs-Popup-Dialogfeldern im Luma-Design wurde verbessert. [GitHub-30452](https://github.com/magento/magento2/issues/30452)

### Tresor

<!-- MC-39109-->

* Das `Vault` erkennt nun Zahlungsmethoden-Codes aus der Anfrage für den Zahlungsinformations-Management-Service. Wenn ein Käufer eine Bestellung mit einer gespeicherten Braintree-Kreditkarte aufgab, gab die Anwendung diesen Fehler bereits aus, als eine gültige Zahlungsmethode verwendet wurde: `The requested Payment Method is not available`.

<!-- ENGCOM-7977 -->

* Das Banner, das die Anwendung auf der Seite Admin-Anmeldung als Kunde anzeigt, bleibt jetzt beim Scrollen oben auf der Seite. [GitHub-29354](https://github.com/magento/magento2/issues/29354)

### Scheitelpunkt

* Adressenvorschläge werden jetzt beim Ändern einer Adresse erwartungsgemäß entfernt.

* Eine Race-Condition, die einige Kunden daran hinderte, ihre Adresse im Bedienfeld ihres Kontos zu speichern, wurde behoben.

* Bei der Vertex-Adressvalidierung wird unter bestimmten Bedingungen die Seite „Adresse bearbeiten“ nicht mehr zum vollständigen Seiten-Cache hinzugefügt.

* Die vertex-berechnete Steuer wird jetzt berücksichtigt, wenn der kostenlose Versand für einen Steuerbetrag konfiguriert ist.

### Web-API-Framework

<!-- MC-23904 ENGCOM-8421-->

* Sie können jetzt POST `V1/invoice/:invoiceId/refund` verwenden, um eine Rechnung zu erstatten, die eine Nullmenge an Produkten und keine Versandkosten aufweist (z. B. `{"items": [{"qty": 0, "orderItemId": 6, "extensionAttributes": {}}], "appendComment": false, "notify": true, "isOnline": true, "arguments": {"adjustment_negative": 0.0, "adjustment_positive": 0.99, "shipping_amount": 0}}.` ). Zuvor hat die Anwendung folgenden Fehler ausgegeben: `You can't create a creditmemo without products`. [GitHub-23069](https://github.com/magento/magento2/issues/23069)

<!-- MC-33732 -->

* Sie können jetzt POST `V1/categories` verwenden, um eine Kategorie zu erstellen oder zu aktualisieren. Zuvor hat die Anwendung den Wert nicht gespeichert, wenn der `default_sort_by` Wert als Array festgelegt wurde. Wenn der `default_sort_by` als Zeichenfolge festgelegt wurde, gab die Anwendung folgenden Fehler aus: `Error occurred during \"custom_attributes\" processing. Attribute \"default_sort_by\" has invalid value. The \"string\" value's type is invalid. The \"string[]\" type was expected. Verify and try again.`

<!-- MC-35740 -->

* Die Verwendung von POST `V1/invoices/:id/capture` zur Erfassung von Zahlungsinformationen funktioniert jetzt erwartungsgemäß. Zuvor autorisierte die Anwendung die Bestellung, erfasste sie jedoch nur auf der Website des Zahlungs-Gateways.

<!-- MC-37794 -->

* Wenn Sie POST `V1/order/:orderId/ship` verwenden, um eine Teillieferung zu erstellen, gibt der Endpunkt die richtige Anzahl an versandten Produkten zurück.

<!-- MC-38425-->

* Rechnungen, die mit POST erstellt `V1/order/:orderID/invoice`, spiegeln jetzt die Teilzahlung per Gutschrift des Geschäfts genau wider. Zuvor wurde, wenn eine Bestellung teilweise mit Ladenguthaben bezahlt wurde, die Rechnung ohne Berücksichtigung des Ladenguthabens erstellt.

<!-- MC-36830-->

* Die Aufrufe `rest/all/V1/categories` GET und `rest/all/V1/categories?rootCategoryId=2` GET geben jetzt ausgefüllte `name`- und `product_count` wie erwartet für alle Kategorien in der Baumstruktur zurück. Zuvor waren die Feldwerte der Kategorie leer. Das Plug-in zum Auflösen von Tabellennamen hat einen falschen Tabellennamen zum Abrufen der Anzahl von Produkten nach Kategorie zurückgegeben.

<!-- ENGCOM-8286 -->

* Der Endpunkt PUT `V1/categories/:id` speichert jetzt die Daten, die zum Erstellen von 301-Umleitungen für Kategorie-URL-Schlüssel erforderlich sind, wenn das benutzerdefinierte Attribut `save_rewrites_history` bereitgestellt wird. [GitHub-29174](https://github.com/magento/magento2/issues/29174), [GitHub-30240](https://github.com/magento/magento2/issues/30240)

### Wunschliste

<!-- MC-33626-->

* Käufer können jetzt ein Produkt zu einer Wunschliste hinzufügen, wenn das Produkt einer benutzerdefinierten Inventarquelle zugewiesen wird. [GitHub-3018](https://github.com/magento/inventory/issues/3018)

<!-- MC-35416-->

* Administratoren können jetzt von der Admin-Kundenseite aus auf die Seite Warenkorb verwalten zugreifen, nachdem ein Kunde ein Produkt zu seiner Wunschliste aus der Storefront hinzugefügt hat. Zuvor zeigte die Anwendung den folgenden Fehler an, als der Administrator auf die Schaltfläche **Warenkorb verwalten** klickte: `An error has occurred. See error log for details`.

<!-- MC-35573-->

* Die Schaltfläche **Zum Warenkorb hinzufügen** auf der Seite mit der freigegebenen Wunschliste funktioniert jetzt für anonyme, Gast- und Benutzende, die nicht angemeldet sind, wie erwartet.

<!-- ENGCOM-8062 -->

* Die Anwendung zeigt jetzt wie erwartet ausgewählte konfigurierbare Produktattributoptionen auf der Wunschlistenseite an.  [GitHub-24091](https://github.com/magento/magento2/issues/24091), [GitHub-22503](https://github.com/magento/magento2/issues/22503)

<!-- ENGCOM-7779 -->

* `ActionInterface` für `\Magento\Wishlist\Controller\Shared\Allcart` implementiert. [GitHub-29537](https://github.com/magento/magento2/issues/29537)

## Bekannte Probleme

**Problem**: Die `[magento_root]/index.php` wurde entfernt, und die Anwendung wird jetzt für Apache-Konfigurationen standardmäßig von `/pub` ausgeführt. Stores, die aus Unterordnern bereitgestellt werden, funktionieren nicht erwartungsgemäß und zeigen möglicherweise 404-Fehler an. **Problemumgehung**: Verwenden Sie Symlinks, um die Installation in einem Unterordner zu emulieren. Im folgenden Beispiel wird `https://shop01.com/shop/` verwendet, um zu veranschaulichen, wie mit einem Symlink eine Installation in einem Unterordner emuliert werden kann.

1. Erstellen Sie ein Unterverzeichnis für `https://shop01.com/shop/`:

   ```bash
   mkdir magento_root/pub/shop01
   ```

   ```bash
   cd magento_root/pub/shop01
   ```

1. Erstellen Sie Symlinks für die übergeordneten Ordner des Stores im neu erstellten Verzeichnis:

   ```bash
   ln -s ../media media
   ```

   ```bash
   ln -s ../static static
   ```

   ```bash
   ln -s ../../../pub pub
   ```

   ```bash
   ln -s ../.htaccess .htaccess
   ```

   ```bash
   ln -s ../health_check.php health_check.php
   ```

1. Erstellen Sie eine `index.php` Datei im neuen Verzeichnis (`magento_root/pub/shop01/index.php`) und fügen Sie diesen Inhalt hinzu:

```php
   <?php
   require realpath(__DIR__) . '/../../../app/bootstrap.php';

   switch ($_SERVER['HTTP_HOST']) {
       case 'shop01.com':
       case 'www.shop01.com':
           $params = $_SERVER;
           $params[\Magento\Store\Model\StoreManager::PARAM_RUN_CODE] = 'shop01';
           $params[\Magento\Store\Model\StoreManager::PARAM_RUN_TYPE] = 'website';
           $bootstrap = \Magento\Framework\App\Bootstrap::create(BP, $params);
           $app = $bootstrap->createApplication(\Magento\Framework\App\Http::class);
           $bootstrap->run($app);
           break;

       default:
           $bootstrap = \Magento\Framework\App\Bootstrap::create(BP, $_SERVER);
           /** @var \Magento\Framework\App\Http $app */
           $app = $bootstrap->createApplication(\Magento\Framework\App\Http::class);
           $bootstrap->run($app);
       break;
   }
```

1. Konfigurieren Sie Ihren Apache-Server so, dass er auf das neue Unterverzeichnis verweist. Bereitstellungskonfigurationen können stark variieren. Im Folgenden finden Sie eine Beispiel-Server-Konfiguration:

```xml
   <VirtualHost *:80>
       DocumentRoot "magento_root/pub/shop1"
       ServerName shop01.com
   </VirtualHost>
```

**Problem**: Der Antrag übermittelt keine Zahlungsinformationen wie erwartet, wenn ein Erstkäufer einen korrekten Code in das CAPTCHA-Feld auf der Zahlungsseite eingibt, zeigt jedoch diesen Fehler an: `There has been an error processing your request`. Dies tritt nur auf, wenn der Käufer versucht, die Bestellung entweder ohne Eingabe des CAPTCHA-Codes oder durch falsche Eingabe aufzugeben.  **Problemumgehung**: Seite aktualisieren. <!-- MC-40506-->

**Problem**: Die Anwendung erstellt eine Bestellung im Braintree wie erwartet, wenn ein Käufer **Mit Venmo bezahlen** klickt, aber die Bestellung nicht im Administrator erstellt. Siehe [2.4.2 Bekanntes Problem: Braintree Venmo-Zahlung funktioniert nicht](https://support.magento.com/hc/en-us/articles/360054662652/) Knowledge Base-Artikel.  <!-- BUNDLE-2894-->

**Problem**: Sie können die `addConfigurableProductToCart` GraphQL-Mutation nicht verwenden, um ein konfigurierbares Produkt in einer nicht standardmäßigen Store-Ansicht in einer Multi-Store-Bereitstellung, die Inventory ausführt, zu einem Warenkorb hinzuzufügen. (Luma-Storefronts sind nicht betroffen.) Die Anwendung zeigt diesen Fehler an: `Could not add item to cart. Please check required options and try again`. **Problemumgehung**: Verwenden Sie stattdessen die `addProductsToCart` Mutation. [GitHub-31660](https://github.com/magento/magento2/issues/31660)<!-- PWA-1298-->

## Gemeinschaftsbeiträge

Wir danken der weiteren Magento Open Source-Community und möchten ihre Beiträge zu dieser Version würdigen.

Das Community-Engineering-Team [Magento-Mitwirkende](https://magento.biterg.io/app/kibana) führt eine Liste der wichtigsten Mitwirkenden und Partner nach Monat, Quartal und Jahr. Auf dieser Seite Mitwirkende können Sie Links zu ihren zusammengeführten PRs auf GitHub folgen.

### Partnerbeiträge

In der folgenden Tabelle sind die Beiträge der Partner aufgeführt. In dieser Tabelle sind die Partner aufgeführt, die zur Pull-Anfrage beigetragen haben, sowie die externe Pull-Anfrage und die damit verbundene GitHub-Problemnummer (falls verfügbar).

{{$include /help/_includes/release-notes/engcomm-2-4-2-partner.md}}

### Einzelne Beitragszahler

In der folgenden Tabelle sind die Beiträge unserer Community-Mitglieder aufgeführt. In dieser Tabelle sind die externen Pull-Anforderungen, die damit verbundene GitHub-Problemnummer (falls verfügbar) und das Community-Mitglied aufgeführt, das zur Pull-Anforderung beigetragen hat.

{{$include /help/_includes/release-notes/engcomm-2-4-2-issues.md}}

### Systemanforderungen

Unser Technologie-Stack basiert auf PHP und MySQL. Weitere Informationen finden Sie unter [Systemanforderungen](../../../installation/system-requirements.md).

### Anweisungen zur Installation und Aktualisierung

Sie können Magento Open Source 2.4.2 mit [Composer](../../../installation/composer.md) installieren.

## Migrations-Toolkits

Mit dem Datenmigrations-Tool können Sie vorhandene Magento 1.x-Speicherdaten auf Magento 2.x übertragen. Diese Befehlszeilenschnittstelle umfasst Funktionen zum Überprüfen, Verfolgen des Fortschritts, Protokollieren und Testen. Installationsanweisungen finden Sie unter [Installieren des Datenmigrations-Tools](../../../tools/data-migration-tool/install.md). Erwägen Sie, das [Datenmigrations-Repository“ zu ](https://github.com/magento/data-migration-tool) oder dazu beizutragen.

Mit [Code Migration Toolkit](https://github.com/magento-commerce/code-migration) können Sie bestehende Magento 1.x-Speichererweiterungen und -anpassungen auf Magento 2.x übertragen. Die Befehlszeilenschnittstelle enthält Skripte zum Konvertieren von Magento 1.x-Modulen und -Layouts.
