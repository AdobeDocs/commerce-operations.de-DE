---
title: 'ACSD-68040: Frontend-Suchseite verlangsamt sich auf  [!DNL MariaDB] .10.6 mit großem Suchverlauf'
description: Wenden Sie den ACSD-68040-Patch an, um das Adobe Commerce-Problem zu beheben, bei dem die Frontend-Suchseite eine erhebliche Leistungsbeeinträchtigung erfährt, wenn sie auf  [!DNL MariaDB] .10.6 mit einer großen Anzahl historischer Suchanfragen ausgeführt wird.
feature: Search
role: Admin, Developer
type: Troubleshooting
source-git-commit: 8ac6be3c5308fe004dd4754e4565dbac70d59f20
workflow-type: tm+mt
source-wordcount: '378'
ht-degree: 0%

---


# ACSD-68040: Frontend-Suchseite verlangsamt sich auf [!DNL MariaDB] 10.6 mit großem Verlauf

Mit dem Patch ACSD-68040 wird das Problem behoben, dass die Frontend-Suchseite erhebliche Leistungseinbußen erleidet, wenn sie auf [!DNL MariaDB] 10.6 mit einer großen Anzahl historischer Suchanfragen ausgeführt wird. Dieser Patch ist verfügbar, wenn [[!DNL Quality Patches Tool (QPT)]](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) 1.1.72 installiert ist. Die Patch-ID ist ACSD-68040.

## Betroffene Produkte und Versionen

**Der Patch wird für die Adobe Commerce-Version erstellt:**

* Adobe Commerce (alle Bereitstellungsmethoden) 2.4.6-p12

**Kompatibel mit Adobe Commerce-Versionen:**

* Adobe Commerce (alle Bereitstellungsmethoden) 2.4.4 - 2.4.6-p12

>[!NOTE]
>
>Der Patch könnte mit neuen [!DNL Quality Patches Tool]-Versionen auch für andere Versionen gelten. Um zu überprüfen, ob der Patch mit Ihrer Adobe Commerce-Version kompatibel ist, aktualisieren Sie das `magento/quality-patches` auf die neueste Version und überprüfen Sie die Kompatibilität auf der Seite [[!DNL Quality Patches Tool]: Nach Patches suchen](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html?lang=de). Verwenden Sie die Patch-ID als Suchbegriff, um den Patch zu finden.

## Problem

Die Frontend-Suchseite verlangsamt sich auf [!DNL MariaDB] 10.6 erheblich, wenn eine große Anzahl historischer Suchanfragen verarbeitet wird. Eine Abfrage in der `search_query`-Tabelle dauert bei [!DNL MariaDB] 10.6 bis zu 13 Sekunden, verglichen mit weniger als 0,5 Sekunden bei [!DNL MariaDB] 11.4.

<u>Schritte zur Reproduktion</u>:

1. Installieren Sie zu Testzwecken eine neue Instanz von [!DNL MariaDB] 10.6.
1. Füllen Sie die `search_query` mit 2 Millionen Einträgen.
1. Führen Sie die folgende SQL-Abfrage aus:

   ```
   SELECT COUNT(*) FROM (
       SELECT `main_table`.`query_text`
       FROM `search_query` AS `main_table`
       WHERE (main_table.store_id IN (1))
         AND (main_table.num_results > 0)
       ORDER BY `main_table`.`popularity` DESC
       LIMIT 100
   ) AS `result`
   WHERE (result.query_text = 'seed_q_0000009');
   ```

1. Beachten Sie, dass der Abschluss der Abfrage etwa 13 Sekunden dauert.
1. Aktualisieren Sie die Datenbank auf [!DNL MariaDB] 11.4.
1. Führen Sie dieselbe SQL-Abfrage erneut aus:

   ```
   SELECT COUNT(*) FROM (
       SELECT `main_table`.`query_text`
       FROM `search_query` AS `main_table`
       WHERE (main_table.store_id IN (1))
         AND (main_table.num_results > 0)
       ORDER BY `main_table`.`popularity` DESC
       LIMIT 100
   ) AS `result`
   WHERE (result.query_text = 'seed_q_0000009');
   ```

1. Beachten Sie, dass die Abfrage jetzt in etwa 0,4-0,5 Sekunden abgeschlossen wird.

<u>Erwartete Ergebnisse</u>:

Die Abfrage- oder Tabellenstruktur sollte optimiert werden, um unabhängig von der MariaDB-Version eine minimale Ausführungszeit sicherzustellen.

<u>Tatsächliche Ergebnisse</u>:

Die Abfrage dauert bei MariaDB 10.6 etwa 13-15 Sekunden und bei MariaDB 11.4 etwa 0,4-0,5 Sekunden.

## Patch anwenden

Verwenden Sie je nach Bereitstellungsmethode die folgenden Links, um einzelne Patches anzuwenden:

* Adobe Commerce oder Magento Open Source On-Premise: [[!DNL Quality Patches Tool] > Nutzung](/help/tools/quality-patches-tool/usage.md) im [!DNL Quality Patches Tool].
* Adobe Commerce in Cloud-Infrastruktur: [Upgrades und Patches > Patches anwenden](https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/apply-patches.html?lang=de) im Handbuch zu Commerce in Cloud-Infrastruktur.

## Verwandtes Lesen

Weitere Informationen zu [!DNL Quality Patches Tool] finden Sie unter:

* [[!DNL Quality Patches Tool]: Ein Self-Service-Tool für hochwertige Patches](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) im Tools-Handbuch.
