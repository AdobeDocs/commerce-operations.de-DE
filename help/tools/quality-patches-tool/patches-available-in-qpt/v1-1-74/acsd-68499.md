---
title: 'ACSD-68499: Die Mutation "GraphQL updateCartItems“ gibt *Erfolg* für Mengen zurück, die über den verfügbaren Bestand hinausgehen'
description: Wenden Sie den Patch ACSD-68499 an, um das Adobe Commerce-Problem zu beheben, bei dem die Mutation „updateCartItems“ von GraphQL eine falsche *Erfolgs*-Antwort zurückgibt, wenn Mengen aktualisiert werden, die die verfügbaren Lagerbestände überschreiten, was zu überhöhten Mengen und Gesamtwerten führt.
feature: GraphQL, Shopping Cart
role: Admin, Developer
type: Troubleshooting
source-git-commit: 2a0642ae5186da39d22aad0fc9e45c9b371c5ab9
workflow-type: tm+mt
source-wordcount: '360'
ht-degree: 0%

---


# ACSD-68499: Die Mutation &quot;GraphQL updateCartItems“ gibt *Erfolg* für Mengen zurück, die über den verfügbaren Bestand hinausgehen

Mit dem Patch ACSD-68499 wird das Problem behoben, dass die GraphQL `updateCartItems`-Mutation eine falsche *success“ zurückgibt, wenn Mengen aktualisiert werden, die die verfügbaren Lagerbestände überschreiten, was zu überhöhten Mengen und Gesamtwerten*. Dieser Patch ist verfügbar, wenn [[!DNL Quality Patches Tool (QPT)]](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) 1.1.74 installiert ist. Die Patch-ID ist ACSD-68499. Dieses Problem wird voraussichtlich in Adobe Commerce 2.4.9 behoben.

## Betroffene Produkte und Versionen

**Der Patch wird für die Adobe Commerce-Version erstellt:**

* Adobe Commerce (alle Bereitstellungsmethoden) 2.4.8-p2

**Kompatibel mit Adobe Commerce-Versionen:**

* Adobe Commerce (alle Bereitstellungsmethoden) 2.4.4 - 2.4.8-p3

>[!NOTE]
>
>Der Patch könnte mit neuen [!DNL Quality Patches Tool]-Versionen auch für andere Versionen gelten. Um zu überprüfen, ob der Patch mit Ihrer Adobe Commerce-Version kompatibel ist, aktualisieren Sie das `magento/quality-patches` auf die neueste Version und überprüfen Sie die Kompatibilität auf der Seite [[!DNL Quality Patches Tool]: Nach Patches suchen](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html?lang=de). Verwenden Sie die Patch-ID als Suchbegriff, um den Patch zu finden.

## Problem

Die GraphQL `updateCartItems`-Mutation in Adobe Commerce gibt fälschlicherweise eine *success* zurück, wenn Mengen aktualisiert werden, die über den verfügbaren Bestand hinausgehen, was zu überhöhten Warenkorbsummen und -mengen führt.

<u>Schritte zur Reproduktion</u>:

1. Erstellen Sie einen leeren Warenkorb.
1. Fügen Sie ein Produkt mit begrenztem Lagerbestand (z. B. 10 Einheiten verfügbar) zum Warenkorb hinzu.
1. Fragen Sie den Warenkorb ab und notieren Sie sich die `cart_item_id`.
1. Aktualisieren Sie die Artikelmenge des Warenkorbs mithilfe der folgenden Mutation auf 100 (überschreitet den verfügbaren Bestand von 10):

   ```
   mutation ($cart: String!, $cartItemId: Int!, $quantity: Float!) {
     updateCartItems(
       input: {
         cart_id: $cart
         cart_items: [{ cart_item_id: $cartItemId, quantity: $quantity }]
       }
     ) {
       cart {
         items {
           product {
             name
           }
           quantity
         }
         prices {
           grand_total {
             value
             currency
           }
         }
       }
     }
   }
   ```

1. Fragen Sie den Warenkorb erneut ab, um die tatsächliche Menge zu überprüfen.

<u>Erwartete Ergebnisse</u>:

Lagervalidierung verhindert ungültige Mengenaktualisierungen.

<u>Tatsächliche Ergebnisse</u>:

Die `updateCartItems`-Mutation gibt *success*-Antwort mit einer Menge von 100 zurück.

## Patch anwenden

Verwenden Sie je nach Bereitstellungsmethode die folgenden Links, um einzelne Patches anzuwenden:

* Adobe Commerce oder Magento Open Source On-Premise: [[!DNL Quality Patches Tool] > Nutzung](/help/tools/quality-patches-tool/usage.md) im [!DNL Quality Patches Tool].
* Adobe Commerce in Cloud-Infrastruktur: [Upgrades und Patches > Patches anwenden](https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/apply-patches.html?lang=de) im Handbuch zu Commerce in Cloud-Infrastruktur.

## Verwandtes Lesen

Weitere Informationen zu [!DNL Quality Patches Tool] finden Sie unter:

* [[!DNL Quality Patches Tool]: Ein Self-Service-Tool für hochwertige Patches](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) im Tools-Handbuch.
